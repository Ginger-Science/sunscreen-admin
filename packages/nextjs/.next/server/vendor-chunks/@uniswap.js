"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@uniswap";
exports.ids = ["vendor-chunks/@uniswap"];
exports.modules = {

/***/ "(ssr)/../../node_modules/@uniswap/sdk-core/dist/sdk-core.esm.js":
/*!*****************************************************************!*\
  !*** ../../node_modules/@uniswap/sdk-core/dist/sdk-core.esm.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ARGENT_WALLET_DETECTOR_ADDRESS: () => (/* binding */ ARGENT_WALLET_DETECTOR_ADDRESS),\n/* harmony export */   CHAIN_TO_ADDRESSES_MAP: () => (/* binding */ CHAIN_TO_ADDRESSES_MAP),\n/* harmony export */   ChainId: () => (/* binding */ ChainId),\n/* harmony export */   CurrencyAmount: () => (/* binding */ CurrencyAmount),\n/* harmony export */   ENS_REGISTRAR_ADDRESSES: () => (/* binding */ ENS_REGISTRAR_ADDRESSES),\n/* harmony export */   Ether: () => (/* binding */ Ether),\n/* harmony export */   Fraction: () => (/* binding */ Fraction),\n/* harmony export */   GOVERNANCE_ALPHA_V0_ADDRESSES: () => (/* binding */ GOVERNANCE_ALPHA_V0_ADDRESSES),\n/* harmony export */   GOVERNANCE_ALPHA_V1_ADDRESSES: () => (/* binding */ GOVERNANCE_ALPHA_V1_ADDRESSES),\n/* harmony export */   GOVERNANCE_BRAVO_ADDRESSES: () => (/* binding */ GOVERNANCE_BRAVO_ADDRESSES),\n/* harmony export */   MERKLE_DISTRIBUTOR_ADDRESS: () => (/* binding */ MERKLE_DISTRIBUTOR_ADDRESS),\n/* harmony export */   MIXED_ROUTE_QUOTER_V1_ADDRESSES: () => (/* binding */ MIXED_ROUTE_QUOTER_V1_ADDRESSES),\n/* harmony export */   MULTICALL_ADDRESSES: () => (/* binding */ MULTICALL_ADDRESSES),\n/* harmony export */   MaxUint256: () => (/* binding */ MaxUint256),\n/* harmony export */   NONFUNGIBLE_POSITION_MANAGER_ADDRESSES: () => (/* binding */ NONFUNGIBLE_POSITION_MANAGER_ADDRESSES),\n/* harmony export */   NativeCurrency: () => (/* binding */ NativeCurrency),\n/* harmony export */   NativeCurrencyName: () => (/* binding */ NativeCurrencyName),\n/* harmony export */   Percent: () => (/* binding */ Percent),\n/* harmony export */   Price: () => (/* binding */ Price),\n/* harmony export */   QUOTER_ADDRESSES: () => (/* binding */ QUOTER_ADDRESSES),\n/* harmony export */   Rounding: () => (/* binding */ Rounding),\n/* harmony export */   SOCKS_CONTROLLER_ADDRESSES: () => (/* binding */ SOCKS_CONTROLLER_ADDRESSES),\n/* harmony export */   SUPPORTED_CHAINS: () => (/* binding */ SUPPORTED_CHAINS),\n/* harmony export */   SWAP_ROUTER_02_ADDRESSES: () => (/* binding */ SWAP_ROUTER_02_ADDRESSES),\n/* harmony export */   TICK_LENS_ADDRESSES: () => (/* binding */ TICK_LENS_ADDRESSES),\n/* harmony export */   TIMELOCK_ADDRESSES: () => (/* binding */ TIMELOCK_ADDRESSES),\n/* harmony export */   Token: () => (/* binding */ Token),\n/* harmony export */   TradeType: () => (/* binding */ TradeType),\n/* harmony export */   UNISWAP_NFT_AIRDROP_CLAIM_ADDRESS: () => (/* binding */ UNISWAP_NFT_AIRDROP_CLAIM_ADDRESS),\n/* harmony export */   UNI_ADDRESSES: () => (/* binding */ UNI_ADDRESSES),\n/* harmony export */   V2_FACTORY_ADDRESS: () => (/* binding */ V2_FACTORY_ADDRESS),\n/* harmony export */   V2_FACTORY_ADDRESSES: () => (/* binding */ V2_FACTORY_ADDRESSES),\n/* harmony export */   V2_ROUTER_ADDRESS: () => (/* binding */ V2_ROUTER_ADDRESS),\n/* harmony export */   V2_ROUTER_ADDRESSES: () => (/* binding */ V2_ROUTER_ADDRESSES),\n/* harmony export */   V3_CORE_FACTORY_ADDRESSES: () => (/* binding */ V3_CORE_FACTORY_ADDRESSES),\n/* harmony export */   V3_MIGRATOR_ADDRESSES: () => (/* binding */ V3_MIGRATOR_ADDRESSES),\n/* harmony export */   WETH9: () => (/* binding */ WETH9),\n/* harmony export */   computePriceImpact: () => (/* binding */ computePriceImpact),\n/* harmony export */   computeZksyncCreate2Address: () => (/* binding */ computeZksyncCreate2Address),\n/* harmony export */   sortedInsert: () => (/* binding */ sortedInsert),\n/* harmony export */   sqrt: () => (/* binding */ sqrt),\n/* harmony export */   validateAndParseAddress: () => (/* binding */ validateAndParseAddress)\n/* harmony export */ });\n/* harmony import */ var jsbi__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jsbi */ \"(ssr)/../../node_modules/jsbi/dist/jsbi.mjs\");\n/* harmony import */ var tiny_invariant__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! tiny-invariant */ \"(ssr)/../../node_modules/tiny-invariant/dist/esm/tiny-invariant.js\");\n/* harmony import */ var decimal_js_light__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! decimal.js-light */ \"(ssr)/../../node_modules/decimal.js-light/decimal.mjs\");\n/* harmony import */ var big_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! big.js */ \"(ssr)/../../node_modules/big.js/big.mjs\");\n/* harmony import */ var toformat__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! toformat */ \"(ssr)/../../node_modules/toformat/toFormat.js\");\n/* harmony import */ var toformat__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(toformat__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _ethersproject_bignumber__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @ethersproject/bignumber */ \"(ssr)/../../node_modules/@ethersproject/bignumber/lib.esm/bignumber.js\");\n/* harmony import */ var _ethersproject_address__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @ethersproject/address */ \"(ssr)/../../node_modules/@ethersproject/address/lib.esm/index.js\");\n/* harmony import */ var _ethersproject_bytes__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @ethersproject/bytes */ \"(ssr)/../../node_modules/@ethersproject/bytes/lib.esm/index.js\");\n/* harmony import */ var _ethersproject_keccak256__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @ethersproject/keccak256 */ \"(ssr)/../../node_modules/@uniswap/sdk-core/node_modules/@ethersproject/keccak256/lib.esm/index.js\");\n/* harmony import */ var _ethersproject_strings__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @ethersproject/strings */ \"(ssr)/../../node_modules/@uniswap/sdk-core/node_modules/@ethersproject/strings/lib.esm/utf8.js\");\n\n\n\n\n\n\n\n\n\n\n\nfunction _toPrimitive(t, r) {\n  if (\"object\" != typeof t || !t) return t;\n  var e = t[Symbol.toPrimitive];\n  if (void 0 !== e) {\n    var i = e.call(t, r || \"default\");\n    if (\"object\" != typeof i) return i;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (\"string\" === r ? String : Number)(t);\n}\nfunction _toPropertyKey(t) {\n  var i = _toPrimitive(t, \"string\");\n  return \"symbol\" == typeof i ? i : String(i);\n}\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor);\n  }\n}\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}\nfunction _extends() {\n  _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  _setPrototypeOf(subClass, superClass);\n}\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n  return _setPrototypeOf(o, p);\n}\n\nvar ChainId;\n(function (ChainId) {\n  ChainId[ChainId[\"MAINNET\"] = 1] = \"MAINNET\";\n  ChainId[ChainId[\"GOERLI\"] = 5] = \"GOERLI\";\n  ChainId[ChainId[\"SEPOLIA\"] = 11155111] = \"SEPOLIA\";\n  ChainId[ChainId[\"OPTIMISM\"] = 10] = \"OPTIMISM\";\n  ChainId[ChainId[\"OPTIMISM_GOERLI\"] = 420] = \"OPTIMISM_GOERLI\";\n  ChainId[ChainId[\"OPTIMISM_SEPOLIA\"] = 11155420] = \"OPTIMISM_SEPOLIA\";\n  ChainId[ChainId[\"ARBITRUM_ONE\"] = 42161] = \"ARBITRUM_ONE\";\n  ChainId[ChainId[\"ARBITRUM_GOERLI\"] = 421613] = \"ARBITRUM_GOERLI\";\n  ChainId[ChainId[\"ARBITRUM_SEPOLIA\"] = 421614] = \"ARBITRUM_SEPOLIA\";\n  ChainId[ChainId[\"POLYGON\"] = 137] = \"POLYGON\";\n  ChainId[ChainId[\"POLYGON_MUMBAI\"] = 80001] = \"POLYGON_MUMBAI\";\n  ChainId[ChainId[\"CELO\"] = 42220] = \"CELO\";\n  ChainId[ChainId[\"CELO_ALFAJORES\"] = 44787] = \"CELO_ALFAJORES\";\n  ChainId[ChainId[\"GNOSIS\"] = 100] = \"GNOSIS\";\n  ChainId[ChainId[\"MOONBEAM\"] = 1284] = \"MOONBEAM\";\n  ChainId[ChainId[\"BNB\"] = 56] = \"BNB\";\n  ChainId[ChainId[\"AVALANCHE\"] = 43114] = \"AVALANCHE\";\n  ChainId[ChainId[\"BASE_GOERLI\"] = 84531] = \"BASE_GOERLI\";\n  ChainId[ChainId[\"BASE\"] = 8453] = \"BASE\";\n  ChainId[ChainId[\"ZORA\"] = 7777777] = \"ZORA\";\n  ChainId[ChainId[\"ZORA_SEPOLIA\"] = 999999999] = \"ZORA_SEPOLIA\";\n  ChainId[ChainId[\"ROOTSTOCK\"] = 30] = \"ROOTSTOCK\";\n  ChainId[ChainId[\"BLAST\"] = 81457] = \"BLAST\";\n  ChainId[ChainId[\"ZKSYNC\"] = 324] = \"ZKSYNC\";\n  ChainId[ChainId[\"WORLDCHAIN\"] = 480] = \"WORLDCHAIN\";\n  ChainId[ChainId[\"ASTROCHAIN_SEPOLIA\"] = 1301] = \"ASTROCHAIN_SEPOLIA\";\n})(ChainId || (ChainId = {}));\nvar SUPPORTED_CHAINS = [ChainId.MAINNET, ChainId.OPTIMISM, ChainId.OPTIMISM_GOERLI, ChainId.OPTIMISM_SEPOLIA, ChainId.ARBITRUM_ONE, ChainId.ARBITRUM_GOERLI, ChainId.ARBITRUM_SEPOLIA, ChainId.POLYGON, ChainId.POLYGON_MUMBAI, ChainId.GOERLI, ChainId.SEPOLIA, ChainId.CELO_ALFAJORES, ChainId.CELO, ChainId.BNB, ChainId.AVALANCHE, ChainId.BASE, ChainId.BASE_GOERLI, ChainId.ZORA, ChainId.ZORA_SEPOLIA, ChainId.ROOTSTOCK, ChainId.BLAST, ChainId.ZKSYNC, ChainId.WORLDCHAIN, ChainId.ASTROCHAIN_SEPOLIA];\nvar NativeCurrencyName;\n(function (NativeCurrencyName) {\n  // Strings match input for CLI\n  NativeCurrencyName[\"ETHER\"] = \"ETH\";\n  NativeCurrencyName[\"MATIC\"] = \"MATIC\";\n  NativeCurrencyName[\"CELO\"] = \"CELO\";\n  NativeCurrencyName[\"GNOSIS\"] = \"XDAI\";\n  NativeCurrencyName[\"MOONBEAM\"] = \"GLMR\";\n  NativeCurrencyName[\"BNB\"] = \"BNB\";\n  NativeCurrencyName[\"AVAX\"] = \"AVAX\";\n  NativeCurrencyName[\"ROOTSTOCK\"] = \"RBTC\";\n})(NativeCurrencyName || (NativeCurrencyName = {}));\n\nvar _V2_FACTORY_ADDRESSES, _V2_ROUTER_ADDRESSES, _CHAIN_TO_ADDRESSES_M, _GOVERNANCE_ALPHA_V1_, _GOVERNANCE_BRAVO_ADD, _MERKLE_DISTRIBUTOR_A, _ARGENT_WALLET_DETECT, _SOCKS_CONTROLLER_ADD;\nvar DEFAULT_NETWORKS = [ChainId.MAINNET, ChainId.GOERLI, ChainId.SEPOLIA];\nfunction constructSameAddressMap(address, additionalNetworks) {\n  if (additionalNetworks === void 0) {\n    additionalNetworks = [];\n  }\n  return DEFAULT_NETWORKS.concat(additionalNetworks).reduce(function (memo, chainId) {\n    memo[chainId] = address;\n    return memo;\n  }, {});\n}\nvar UNI_ADDRESSES = /*#__PURE__*/constructSameAddressMap('0x1f9840a85d5aF5bf1D1762F925BDADdC4201F984', [ChainId.OPTIMISM, ChainId.ARBITRUM_ONE, ChainId.POLYGON, ChainId.POLYGON_MUMBAI, ChainId.SEPOLIA]);\nvar UNISWAP_NFT_AIRDROP_CLAIM_ADDRESS = '0x8B799381ac40b838BBA4131ffB26197C432AFe78';\n/**\r\n * @deprecated use V2_FACTORY_ADDRESSES instead\r\n */\nvar V2_FACTORY_ADDRESS = '0x5C69bEe701ef814a2B6a3EDD4B1652CB9cc5aA6f';\nvar V2_FACTORY_ADDRESSES = (_V2_FACTORY_ADDRESSES = {}, _V2_FACTORY_ADDRESSES[ChainId.MAINNET] = '0x5C69bEe701ef814a2B6a3EDD4B1652CB9cc5aA6f', _V2_FACTORY_ADDRESSES[ChainId.GOERLI] = '0x5C69bEe701ef814a2B6a3EDD4B1652CB9cc5aA6f', _V2_FACTORY_ADDRESSES[ChainId.SEPOLIA] = '0xB7f907f7A9eBC822a80BD25E224be42Ce0A698A0', _V2_FACTORY_ADDRESSES[ChainId.OPTIMISM] = '0x0c3c1c532F1e39EdF36BE9Fe0bE1410313E074Bf', _V2_FACTORY_ADDRESSES[ChainId.ARBITRUM_ONE] = '0xf1D7CC64Fb4452F05c498126312eBE29f30Fbcf9', _V2_FACTORY_ADDRESSES[ChainId.AVALANCHE] = '0x9e5A52f57b3038F1B8EeE45F28b3C1967e22799C', _V2_FACTORY_ADDRESSES[ChainId.BASE] = '0x8909dc15e40173ff4699343b6eb8132c65e18ec6', _V2_FACTORY_ADDRESSES[ChainId.BNB] = '0x8909Dc15e40173Ff4699343b6eB8132c65e18eC6', _V2_FACTORY_ADDRESSES[ChainId.POLYGON] = '0x9e5A52f57b3038F1B8EeE45F28b3C1967e22799C', _V2_FACTORY_ADDRESSES[ChainId.CELO] = '0x79a530c8e2fA8748B7B40dd3629C0520c2cCf03f', _V2_FACTORY_ADDRESSES[ChainId.BLAST] = '0x5C346464d33F90bABaf70dB6388507CC889C1070', _V2_FACTORY_ADDRESSES[ChainId.WORLDCHAIN] = '0x5C69bEe701ef814a2B6a3EDD4B1652CB9cc5aA6f', _V2_FACTORY_ADDRESSES[ChainId.ASTROCHAIN_SEPOLIA] = '0x5C69bEe701ef814a2B6a3EDD4B1652CB9cc5aA6f', _V2_FACTORY_ADDRESSES);\n/**\r\n * @deprecated use V2_ROUTER_ADDRESSES instead\r\n */\nvar V2_ROUTER_ADDRESS = '0x7a250d5630B4cF539739dF2C5dAcb4c659F2488D';\nvar V2_ROUTER_ADDRESSES = (_V2_ROUTER_ADDRESSES = {}, _V2_ROUTER_ADDRESSES[ChainId.MAINNET] = '0x7a250d5630B4cF539739dF2C5dAcb4c659F2488D', _V2_ROUTER_ADDRESSES[ChainId.GOERLI] = '0x7a250d5630B4cF539739dF2C5dAcb4c659F2488D', _V2_ROUTER_ADDRESSES[ChainId.SEPOLIA] = '0x53544492C78D478294B5b1Fb8059a5D6C9aBBC67', _V2_ROUTER_ADDRESSES[ChainId.ARBITRUM_ONE] = '0x4752ba5dbc23f44d87826276bf6fd6b1c372ad24', _V2_ROUTER_ADDRESSES[ChainId.OPTIMISM] = '0x4a7b5da61326a6379179b40d00f57e5bbdc962c2', _V2_ROUTER_ADDRESSES[ChainId.BASE] = '0x4752ba5dbc23f44d87826276bf6fd6b1c372ad24', _V2_ROUTER_ADDRESSES[ChainId.AVALANCHE] = '0x4752ba5dbc23f44d87826276bf6fd6b1c372ad24', _V2_ROUTER_ADDRESSES[ChainId.BNB] = '0x4752ba5dbc23f44d87826276bf6fd6b1c372ad24', _V2_ROUTER_ADDRESSES[ChainId.POLYGON] = '0xedf6066a2b290c185783862c7f4776a2c8077ad1', _V2_ROUTER_ADDRESSES[ChainId.BLAST] = '0xBB66Eb1c5e875933D44DAe661dbD80e5D9B03035', _V2_ROUTER_ADDRESSES[ChainId.WORLDCHAIN] = '0x541aB7c31A119441eF3575F6973277DE0eF460bd', _V2_ROUTER_ADDRESSES[ChainId.ASTROCHAIN_SEPOLIA] = '0x920b806E40A00E02E7D2b94fFc89860fDaEd3640', _V2_ROUTER_ADDRESSES);\n// Networks that share most of the same addresses i.e. Mainnet, Goerli, Optimism, Arbitrum, Polygon\nvar DEFAULT_ADDRESSES = {\n  v3CoreFactoryAddress: '0x1F98431c8aD98523631AE4a59f267346ea31F984',\n  multicallAddress: '0x1F98415757620B543A52E61c46B32eB19261F984',\n  quoterAddress: '0xb27308f9F90D607463bb33eA1BeBb41C27CE5AB6',\n  v3MigratorAddress: '0xA5644E29708357803b5A882D272c41cC0dF92B34',\n  nonfungiblePositionManagerAddress: '0xC36442b4a4522E871399CD717aBDD847Ab11FE88'\n};\nvar MAINNET_ADDRESSES = /*#__PURE__*/_extends({}, DEFAULT_ADDRESSES, {\n  mixedRouteQuoterV1Address: '0x84E44095eeBfEC7793Cd7d5b57B7e401D7f1cA2E'\n});\nvar GOERLI_ADDRESSES = /*#__PURE__*/_extends({}, DEFAULT_ADDRESSES, {\n  mixedRouteQuoterV1Address: '0xBa60b6e6fF25488308789E6e0A65D838be34194e'\n});\nvar OPTIMISM_ADDRESSES = DEFAULT_ADDRESSES;\nvar ARBITRUM_ONE_ADDRESSES = /*#__PURE__*/_extends({}, DEFAULT_ADDRESSES, {\n  multicallAddress: '0xadF885960B47eA2CD9B55E6DAc6B42b7Cb2806dB',\n  tickLensAddress: '0xbfd8137f7d1516D3ea5cA83523914859ec47F573'\n});\nvar POLYGON_ADDRESSES = DEFAULT_ADDRESSES;\n// celo v3 addresses\nvar CELO_ADDRESSES = {\n  v3CoreFactoryAddress: '0xAfE208a311B21f13EF87E33A90049fC17A7acDEc',\n  multicallAddress: '0x633987602DE5C4F337e3DbF265303A1080324204',\n  quoterAddress: '0x82825d0554fA07f7FC52Ab63c961F330fdEFa8E8',\n  v3MigratorAddress: '0x3cFd4d48EDfDCC53D3f173F596f621064614C582',\n  nonfungiblePositionManagerAddress: '0x3d79EdAaBC0EaB6F08ED885C05Fc0B014290D95A',\n  tickLensAddress: '0x5f115D9113F88e0a0Db1b5033D90D4a9690AcD3D'\n};\n// BNB v3 addresses\nvar BNB_ADDRESSES = {\n  v3CoreFactoryAddress: '0xdB1d10011AD0Ff90774D0C6Bb92e5C5c8b4461F7',\n  multicallAddress: '0x963Df249eD09c358A4819E39d9Cd5736c3087184',\n  quoterAddress: '0x78D78E420Da98ad378D7799bE8f4AF69033EB077',\n  v3MigratorAddress: '0x32681814957e0C13117ddc0c2aba232b5c9e760f',\n  nonfungiblePositionManagerAddress: '0x7b8A01B39D58278b5DE7e48c8449c9f4F5170613',\n  tickLensAddress: '0xD9270014D396281579760619CCf4c3af0501A47C',\n  swapRouter02Address: '0xB971eF87ede563556b2ED4b1C0b0019111Dd85d2'\n};\n// optimism goerli addresses\nvar OPTIMISM_GOERLI_ADDRESSES = {\n  v3CoreFactoryAddress: '0xB656dA17129e7EB733A557f4EBc57B76CFbB5d10',\n  multicallAddress: '0x07F2D8a2a02251B62af965f22fC4744A5f96BCCd',\n  quoterAddress: '0x9569CbA925c8ca2248772A9A4976A516743A246F',\n  v3MigratorAddress: '0xf6c55fBe84B1C8c3283533c53F51bC32F5C7Aba8',\n  nonfungiblePositionManagerAddress: '0x39Ca85Af2F383190cBf7d7c41ED9202D27426EF6',\n  tickLensAddress: '0xe6140Bd164b63E8BfCfc40D5dF952f83e171758e'\n};\n// optimism sepolia addresses\nvar OPTIMISM_SEPOLIA_ADDRESSES = {\n  v3CoreFactoryAddress: '0x8CE191193D15ea94e11d327b4c7ad8bbE520f6aF',\n  multicallAddress: '0x80e4e06841bb76AA9735E0448cB8d003C0EF009a',\n  quoterAddress: '0x0FBEa6cf957d95ee9313490050F6A0DA68039404',\n  v3MigratorAddress: '0xE7EcbAAaA54D007A00dbb6c1d2f150066D69dA07',\n  nonfungiblePositionManagerAddress: '0xdA75cEf1C93078e8b736FCA5D5a30adb97C8957d',\n  tickLensAddress: '0xCb7f54747F58F8944973cea5b8f4ac2209BadDC5',\n  swapRouter02Address: '0x94cC0AaC535CCDB3C01d6787D6413C739ae12bc4'\n};\n// arbitrum goerli v3 addresses\nvar ARBITRUM_GOERLI_ADDRESSES = {\n  v3CoreFactoryAddress: '0x4893376342d5D7b3e31d4184c08b265e5aB2A3f6',\n  multicallAddress: '0x8260CB40247290317a4c062F3542622367F206Ee',\n  quoterAddress: '0x1dd92b83591781D0C6d98d07391eea4b9a6008FA',\n  v3MigratorAddress: '0xA815919D2584Ac3F76ea9CB62E6Fd40a43BCe0C3',\n  nonfungiblePositionManagerAddress: '0x622e4726a167799826d1E1D150b076A7725f5D81',\n  tickLensAddress: '0xb52429333da969a0C79a60930a4Bf0020E5D1DE8'\n};\n// arbitrum sepolia v3 addresses\nvar ARBITRUM_SEPOLIA_ADDRESSES = {\n  v3CoreFactoryAddress: '0x248AB79Bbb9bC29bB72f7Cd42F17e054Fc40188e',\n  multicallAddress: '0x2B718b475e385eD29F56775a66aAB1F5cC6B2A0A',\n  quoterAddress: '0x2779a0CC1c3e0E44D2542EC3e79e3864Ae93Ef0B',\n  v3MigratorAddress: '0x398f43ef2c67B941147157DA1c5a868E906E043D',\n  nonfungiblePositionManagerAddress: '0x6b2937Bde17889EDCf8fbD8dE31C3C2a70Bc4d65',\n  tickLensAddress: '0x0fd18587734e5C2dcE2dccDcC7DD1EC89ba557d9',\n  swapRouter02Address: '0x101F443B4d1b059569D643917553c771E1b9663E'\n};\n// sepolia v3 addresses\nvar SEPOLIA_ADDRESSES = {\n  v3CoreFactoryAddress: '0x0227628f3F023bb0B980b67D528571c95c6DaC1c',\n  multicallAddress: '0xD7F33bCdb21b359c8ee6F0251d30E94832baAd07',\n  quoterAddress: '0xEd1f6473345F45b75F8179591dd5bA1888cf2FB3',\n  v3MigratorAddress: '0x729004182cF005CEC8Bd85df140094b6aCbe8b15',\n  nonfungiblePositionManagerAddress: '0x1238536071E1c677A632429e3655c799b22cDA52',\n  tickLensAddress: '0xd7f33bcdb21b359c8ee6f0251d30e94832baad07',\n  swapRouter02Address: '0x3bFA4769FB09eefC5a80d6E87c3B9C650f7Ae48E',\n  // TODO: update mixedRouteQuoterV2Address once v4 on sepolia redeployed\n  mixedRouteQuoterV2Address: '0x4745f77b56a0e2294426e3936dc4fab68d9543cd',\n  // TODO: update all below once v4 on sepolia redeployed\n  v4PoolManagerAddress: '0x8C4BcBE6b9eF47855f97E675296FA3F6fafa5F1A',\n  v4PositionManagerAddress: '0x1B1C77B606d13b09C84d1c7394B96b147bC03147',\n  v4StateView: '0x823d45b1329bcF3b369F08F36ba2690Ff8e058C3',\n  v4QuoterAddress: '0xCd8716395D55aD17496448a4b2C42557001e9743'\n};\n// Avalanche v3 addresses\nvar AVALANCHE_ADDRESSES = {\n  v3CoreFactoryAddress: '0x740b1c1de25031C31FF4fC9A62f554A55cdC1baD',\n  multicallAddress: '0x0139141Cd4Ee88dF3Cdb65881D411bAE271Ef0C2',\n  quoterAddress: '0xbe0F5544EC67e9B3b2D979aaA43f18Fd87E6257F',\n  v3MigratorAddress: '0x44f5f1f5E452ea8d29C890E8F6e893fC0f1f0f97',\n  nonfungiblePositionManagerAddress: '0x655C406EBFa14EE2006250925e54ec43AD184f8B',\n  tickLensAddress: '0xEB9fFC8bf81b4fFd11fb6A63a6B0f098c6e21950',\n  swapRouter02Address: '0xbb00FF08d01D300023C629E8fFfFcb65A5a578cE'\n};\nvar BASE_ADDRESSES = {\n  v3CoreFactoryAddress: '0x33128a8fC17869897dcE68Ed026d694621f6FDfD',\n  multicallAddress: '0x091e99cb1C49331a94dD62755D168E941AbD0693',\n  quoterAddress: '0x3d4e44Eb1374240CE5F1B871ab261CD16335B76a',\n  v3MigratorAddress: '0x23cF10b1ee3AdfCA73B0eF17C07F7577e7ACd2d7',\n  nonfungiblePositionManagerAddress: '0x03a520b32C04BF3bEEf7BEb72E919cf822Ed34f1',\n  tickLensAddress: '0x0CdeE061c75D43c82520eD998C23ac2991c9ac6d',\n  swapRouter02Address: '0x2626664c2603336E57B271c5C0b26F421741e481',\n  mixedRouteQuoterV1Address: '0xe544efae946f0008ae9a8d64493efa7886b73776'\n};\n// Base Goerli v3 addresses\nvar BASE_GOERLI_ADDRESSES = {\n  v3CoreFactoryAddress: '0x9323c1d6D800ed51Bd7C6B216cfBec678B7d0BC2',\n  multicallAddress: '0xB206027a9E0E13F05eBEFa5D2402Bab3eA716439',\n  quoterAddress: '0xedf539058e28E5937dAef3f69cEd0b25fbE66Ae9',\n  v3MigratorAddress: '0x3efe5d02a04b7351D671Db7008ec6eBA9AD9e3aE',\n  nonfungiblePositionManagerAddress: '0x3c61369ef0D1D2AFa70d8feC2F31C5D6Ce134F30',\n  tickLensAddress: '0x1acB873Ee909D0c98adB18e4474943249F931b92',\n  swapRouter02Address: '0x8357227D4eDc78991Db6FDB9bD6ADE250536dE1d'\n};\nvar ZORA_ADDRESSES = {\n  v3CoreFactoryAddress: '0x7145F8aeef1f6510E92164038E1B6F8cB2c42Cbb',\n  multicallAddress: '0xA51c76bEE6746cB487a7e9312E43e2b8f4A37C15',\n  quoterAddress: '0x11867e1b3348F3ce4FcC170BC5af3d23E07E64Df',\n  v3MigratorAddress: '0x048352d8dCF13686982C799da63fA6426a9D0b60',\n  nonfungiblePositionManagerAddress: '0xbC91e8DfA3fF18De43853372A3d7dfe585137D78',\n  tickLensAddress: '0x209AAda09D74Ad3B8D0E92910Eaf85D2357e3044',\n  swapRouter02Address: '0x7De04c96BE5159c3b5CeffC82aa176dc81281557'\n};\nvar ZORA_SEPOLIA_ADDRESSES = {\n  v3CoreFactoryAddress: '0x4324A677D74764f46f33ED447964252441aA8Db6',\n  multicallAddress: '0xA1E7e3A69671C4494EC59Dbd442de930a93F911A',\n  quoterAddress: '0xC195976fEF0985886E37036E2DF62bF371E12Df0',\n  v3MigratorAddress: '0x65ef259b31bf1d977c37e9434658694267674897',\n  nonfungiblePositionManagerAddress: '0xB8458EaAe43292e3c1F7994EFd016bd653d23c20',\n  tickLensAddress: '0x23C0F71877a1Fc4e20A78018f9831365c85f3064'\n};\nvar ROOTSTOCK_ADDRESSES = {\n  v3CoreFactoryAddress: '0xaF37EC98A00FD63689CF3060BF3B6784E00caD82',\n  multicallAddress: '0x996a9858cDfa45Ad68E47c9A30a7201E29c6a386',\n  quoterAddress: '0xb51727c996C68E60F598A923a5006853cd2fEB31',\n  v3MigratorAddress: '0x16678977CA4ec3DAD5efc7b15780295FE5f56162',\n  nonfungiblePositionManagerAddress: '0x9d9386c042F194B460Ec424a1e57ACDE25f5C4b1',\n  tickLensAddress: '0x55B9dF5bF68ADe972191a91980459f48ecA16afC',\n  swapRouter02Address: '0x0B14ff67f0014046b4b99057Aec4509640b3947A'\n};\nvar BLAST_ADDRESSES = {\n  v3CoreFactoryAddress: '0x792edAdE80af5fC680d96a2eD80A44247D2Cf6Fd',\n  multicallAddress: '0xdC7f370de7631cE9e2c2e1DCDA6B3B5744Cf4705',\n  quoterAddress: '0x6Cdcd65e03c1CEc3730AeeCd45bc140D57A25C77',\n  v3MigratorAddress: '0x15CA7043CD84C5D21Ae76Ba0A1A967d42c40ecE0',\n  nonfungiblePositionManagerAddress: '0xB218e4f7cF0533d4696fDfC419A0023D33345F28',\n  tickLensAddress: '0x2E95185bCdD928a3e984B7e2D6560Ab1b17d7274',\n  swapRouter02Address: '0x549FEB8c9bd4c12Ad2AB27022dA12492aC452B66'\n};\nvar ZKSYNC_ADDRESSES = {\n  v3CoreFactoryAddress: '0x8FdA5a7a8dCA67BBcDd10F02Fa0649A937215422',\n  multicallAddress: '0x0c68a7C72f074d1c45C16d41fa74eEbC6D16a65C',\n  quoterAddress: '0x8Cb537fc92E26d8EBBb760E632c95484b6Ea3e28',\n  v3MigratorAddress: '0x611841b24E43C4ACfd290B427a3D6cf1A59dac8E',\n  nonfungiblePositionManagerAddress: '0x0616e5762c1E7Dc3723c50663dF10a162D690a86',\n  tickLensAddress: '0xe10FF11b809f8EE07b056B452c3B2caa7FE24f89',\n  swapRouter02Address: '0x99c56385daBCE3E81d8499d0b8d0257aBC07E8A3'\n};\nvar WORLDCHAIN_ADDRESSES = {\n  v3CoreFactoryAddress: '0x7a5028BDa40e7B173C278C5342087826455ea25a',\n  multicallAddress: '0x0a22c04215c97E3F532F4eF30e0aD9458792dAB9',\n  quoterAddress: '0x10158D43e6cc414deE1Bd1eB0EfC6a5cBCfF244c',\n  v3MigratorAddress: '0x9EBDdCBa71C9027E1eB45135672a30bcFEec9de3',\n  nonfungiblePositionManagerAddress: '0xec12a9F9a09f50550686363766Cc153D03c27b5e',\n  tickLensAddress: '0xE61df0CaC9d85876aCE5E3037005D80943570623',\n  swapRouter02Address: '0x091AD9e2e6e5eD44c1c66dB50e49A601F9f36cF6'\n};\nvar ASTROCHAIN_SEPOLIA_ADDRESSES = {\n  v3CoreFactoryAddress: '0x1F98431c8aD98523631AE4a59f267346ea31F984',\n  multicallAddress: '0x9D0F15f2cf58655fDDcD1EE6129C547fDaeD01b1',\n  quoterAddress: '0x6Dd37329A1A225a6Fca658265D460423DCafBF89',\n  v3MigratorAddress: '0xb5FA244C9d6D04B2FBac84418b3c4910ED1Ae5f2',\n  nonfungiblePositionManagerAddress: '0xB7F724d6dDDFd008eFf5cc2834edDE5F9eF0d075',\n  tickLensAddress: '0x5f739c790a48E97eec0efb81bab5D152c0A0ecA0',\n  swapRouter02Address: '0xd1AAE39293221B77B0C71fBD6dCb7Ea29Bb5B166',\n  v4PoolManagerAddress: '0x38EB8B22Df3Ae7fb21e92881151B365Df14ba967',\n  v4PositionManagerAddress: '0x05deD3F8a8e84700d68A4D81cd6780c982dB13F9',\n  v4StateView: '0xad328439DCa7ce857662afA4584A3d571bbDDC75',\n  v4QuoterAddress: '0x2cfa87651D3AB05Bc59E325E5eaC8495CF34cE55'\n};\nvar CHAIN_TO_ADDRESSES_MAP = (_CHAIN_TO_ADDRESSES_M = {}, _CHAIN_TO_ADDRESSES_M[ChainId.MAINNET] = MAINNET_ADDRESSES, _CHAIN_TO_ADDRESSES_M[ChainId.OPTIMISM] = OPTIMISM_ADDRESSES, _CHAIN_TO_ADDRESSES_M[ChainId.ARBITRUM_ONE] = ARBITRUM_ONE_ADDRESSES, _CHAIN_TO_ADDRESSES_M[ChainId.POLYGON] = POLYGON_ADDRESSES, _CHAIN_TO_ADDRESSES_M[ChainId.POLYGON_MUMBAI] = POLYGON_ADDRESSES, _CHAIN_TO_ADDRESSES_M[ChainId.GOERLI] = GOERLI_ADDRESSES, _CHAIN_TO_ADDRESSES_M[ChainId.CELO] = CELO_ADDRESSES, _CHAIN_TO_ADDRESSES_M[ChainId.CELO_ALFAJORES] = CELO_ADDRESSES, _CHAIN_TO_ADDRESSES_M[ChainId.BNB] = BNB_ADDRESSES, _CHAIN_TO_ADDRESSES_M[ChainId.OPTIMISM_GOERLI] = OPTIMISM_GOERLI_ADDRESSES, _CHAIN_TO_ADDRESSES_M[ChainId.OPTIMISM_SEPOLIA] = OPTIMISM_SEPOLIA_ADDRESSES, _CHAIN_TO_ADDRESSES_M[ChainId.ARBITRUM_GOERLI] = ARBITRUM_GOERLI_ADDRESSES, _CHAIN_TO_ADDRESSES_M[ChainId.ARBITRUM_SEPOLIA] = ARBITRUM_SEPOLIA_ADDRESSES, _CHAIN_TO_ADDRESSES_M[ChainId.SEPOLIA] = SEPOLIA_ADDRESSES, _CHAIN_TO_ADDRESSES_M[ChainId.AVALANCHE] = AVALANCHE_ADDRESSES, _CHAIN_TO_ADDRESSES_M[ChainId.BASE] = BASE_ADDRESSES, _CHAIN_TO_ADDRESSES_M[ChainId.BASE_GOERLI] = BASE_GOERLI_ADDRESSES, _CHAIN_TO_ADDRESSES_M[ChainId.ZORA] = ZORA_ADDRESSES, _CHAIN_TO_ADDRESSES_M[ChainId.ZORA_SEPOLIA] = ZORA_SEPOLIA_ADDRESSES, _CHAIN_TO_ADDRESSES_M[ChainId.ROOTSTOCK] = ROOTSTOCK_ADDRESSES, _CHAIN_TO_ADDRESSES_M[ChainId.BLAST] = BLAST_ADDRESSES, _CHAIN_TO_ADDRESSES_M[ChainId.ZKSYNC] = ZKSYNC_ADDRESSES, _CHAIN_TO_ADDRESSES_M[ChainId.WORLDCHAIN] = WORLDCHAIN_ADDRESSES, _CHAIN_TO_ADDRESSES_M[ChainId.ASTROCHAIN_SEPOLIA] = ASTROCHAIN_SEPOLIA_ADDRESSES, _CHAIN_TO_ADDRESSES_M);\n/* V3 Contract Addresses */\nvar V3_CORE_FACTORY_ADDRESSES = /*#__PURE__*/_extends({}, /*#__PURE__*/SUPPORTED_CHAINS.reduce(function (memo, chainId) {\n  memo[chainId] = CHAIN_TO_ADDRESSES_MAP[chainId].v3CoreFactoryAddress;\n  return memo;\n}, {}));\nvar V3_MIGRATOR_ADDRESSES = /*#__PURE__*/_extends({}, /*#__PURE__*/SUPPORTED_CHAINS.reduce(function (memo, chainId) {\n  var v3MigratorAddress = CHAIN_TO_ADDRESSES_MAP[chainId].v3MigratorAddress;\n  if (v3MigratorAddress) {\n    memo[chainId] = v3MigratorAddress;\n  }\n  return memo;\n}, {}));\nvar MULTICALL_ADDRESSES = /*#__PURE__*/_extends({}, /*#__PURE__*/SUPPORTED_CHAINS.reduce(function (memo, chainId) {\n  memo[chainId] = CHAIN_TO_ADDRESSES_MAP[chainId].multicallAddress;\n  return memo;\n}, {}));\n/**\r\n * The oldest V0 governance address\r\n */\nvar GOVERNANCE_ALPHA_V0_ADDRESSES = /*#__PURE__*/constructSameAddressMap('0x5e4be8Bc9637f0EAA1A755019e06A68ce081D58F');\n/**\r\n * The older V1 governance address\r\n */\nvar GOVERNANCE_ALPHA_V1_ADDRESSES = (_GOVERNANCE_ALPHA_V1_ = {}, _GOVERNANCE_ALPHA_V1_[ChainId.MAINNET] = '0xC4e172459f1E7939D522503B81AFAaC1014CE6F6', _GOVERNANCE_ALPHA_V1_);\n/**\r\n * The latest governor bravo that is currently admin of timelock\r\n */\nvar GOVERNANCE_BRAVO_ADDRESSES = (_GOVERNANCE_BRAVO_ADD = {}, _GOVERNANCE_BRAVO_ADD[ChainId.MAINNET] = '0x408ED6354d4973f66138C91495F2f2FCbd8724C3', _GOVERNANCE_BRAVO_ADD);\nvar TIMELOCK_ADDRESSES = /*#__PURE__*/constructSameAddressMap('0x1a9C8182C09F50C8318d769245beA52c32BE35BC');\nvar MERKLE_DISTRIBUTOR_ADDRESS = (_MERKLE_DISTRIBUTOR_A = {}, _MERKLE_DISTRIBUTOR_A[ChainId.MAINNET] = '0x090D4613473dEE047c3f2706764f49E0821D256e', _MERKLE_DISTRIBUTOR_A);\nvar ARGENT_WALLET_DETECTOR_ADDRESS = (_ARGENT_WALLET_DETECT = {}, _ARGENT_WALLET_DETECT[ChainId.MAINNET] = '0xeca4B0bDBf7c55E9b7925919d03CbF8Dc82537E8', _ARGENT_WALLET_DETECT);\nvar QUOTER_ADDRESSES = /*#__PURE__*/_extends({}, /*#__PURE__*/SUPPORTED_CHAINS.reduce(function (memo, chainId) {\n  memo[chainId] = CHAIN_TO_ADDRESSES_MAP[chainId].quoterAddress;\n  return memo;\n}, {}));\nvar NONFUNGIBLE_POSITION_MANAGER_ADDRESSES = /*#__PURE__*/_extends({}, /*#__PURE__*/SUPPORTED_CHAINS.reduce(function (memo, chainId) {\n  var nonfungiblePositionManagerAddress = CHAIN_TO_ADDRESSES_MAP[chainId].nonfungiblePositionManagerAddress;\n  if (nonfungiblePositionManagerAddress) {\n    memo[chainId] = nonfungiblePositionManagerAddress;\n  }\n  return memo;\n}, {}));\nvar ENS_REGISTRAR_ADDRESSES = /*#__PURE__*/_extends({}, /*#__PURE__*/constructSameAddressMap('0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e'));\nvar SOCKS_CONTROLLER_ADDRESSES = (_SOCKS_CONTROLLER_ADD = {}, _SOCKS_CONTROLLER_ADD[ChainId.MAINNET] = '0x65770b5283117639760beA3F867b69b3697a91dd', _SOCKS_CONTROLLER_ADD);\nvar TICK_LENS_ADDRESSES = /*#__PURE__*/_extends({}, /*#__PURE__*/SUPPORTED_CHAINS.reduce(function (memo, chainId) {\n  var tickLensAddress = CHAIN_TO_ADDRESSES_MAP[chainId].tickLensAddress;\n  if (tickLensAddress) {\n    memo[chainId] = tickLensAddress;\n  }\n  return memo;\n}, {}));\nvar MIXED_ROUTE_QUOTER_V1_ADDRESSES = /*#__PURE__*/SUPPORTED_CHAINS.reduce(function (memo, chainId) {\n  var mixedRouteQuoterV1Address = CHAIN_TO_ADDRESSES_MAP[chainId].mixedRouteQuoterV1Address;\n  if (mixedRouteQuoterV1Address) {\n    memo[chainId] = mixedRouteQuoterV1Address;\n  }\n  return memo;\n}, {});\nvar SWAP_ROUTER_02_ADDRESSES = function SWAP_ROUTER_02_ADDRESSES(chainId) {\n  if (SUPPORTED_CHAINS.includes(chainId)) {\n    var _CHAIN_TO_ADDRESSES_M2;\n    var id = chainId;\n    return (_CHAIN_TO_ADDRESSES_M2 = CHAIN_TO_ADDRESSES_MAP[id].swapRouter02Address) != null ? _CHAIN_TO_ADDRESSES_M2 : '0x68b3465833fb72A70ecDF485E0e4C7bD8665Fc45';\n  }\n  return '';\n};\n\nvar TradeType;\n(function (TradeType) {\n  TradeType[TradeType[\"EXACT_INPUT\"] = 0] = \"EXACT_INPUT\";\n  TradeType[TradeType[\"EXACT_OUTPUT\"] = 1] = \"EXACT_OUTPUT\";\n})(TradeType || (TradeType = {}));\nvar Rounding;\n(function (Rounding) {\n  Rounding[Rounding[\"ROUND_DOWN\"] = 0] = \"ROUND_DOWN\";\n  Rounding[Rounding[\"ROUND_HALF_UP\"] = 1] = \"ROUND_HALF_UP\";\n  Rounding[Rounding[\"ROUND_UP\"] = 2] = \"ROUND_UP\";\n})(Rounding || (Rounding = {}));\nvar MaxUint256 = /*#__PURE__*/jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].BigInt('0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff');\n\nvar _toSignificantRoundin, _toFixedRounding;\nvar Decimal = /*#__PURE__*/toformat__WEBPACK_IMPORTED_MODULE_4___default()(decimal_js_light__WEBPACK_IMPORTED_MODULE_2__[\"default\"]);\nvar Big = /*#__PURE__*/toformat__WEBPACK_IMPORTED_MODULE_4___default()(big_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"]);\nvar toSignificantRounding = (_toSignificantRoundin = {}, _toSignificantRoundin[Rounding.ROUND_DOWN] = Decimal.ROUND_DOWN, _toSignificantRoundin[Rounding.ROUND_HALF_UP] = Decimal.ROUND_HALF_UP, _toSignificantRoundin[Rounding.ROUND_UP] = Decimal.ROUND_UP, _toSignificantRoundin);\nvar toFixedRounding = (_toFixedRounding = {}, _toFixedRounding[Rounding.ROUND_DOWN] = 0, _toFixedRounding[Rounding.ROUND_HALF_UP] = 1, _toFixedRounding[Rounding.ROUND_UP] = 3, _toFixedRounding);\nvar Fraction = /*#__PURE__*/function () {\n  function Fraction(numerator, denominator) {\n    if (denominator === void 0) {\n      denominator = jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].BigInt(1);\n    }\n    this.numerator = jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].BigInt(numerator);\n    this.denominator = jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].BigInt(denominator);\n  }\n  Fraction.tryParseFraction = function tryParseFraction(fractionish) {\n    if (fractionish instanceof jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"] || typeof fractionish === 'number' || typeof fractionish === 'string') return new Fraction(fractionish);\n    if ('numerator' in fractionish && 'denominator' in fractionish) return fractionish;\n    throw new Error('Could not parse fraction');\n  }\n  // performs floor division\n  ;\n  var _proto = Fraction.prototype;\n  _proto.invert = function invert() {\n    return new Fraction(this.denominator, this.numerator);\n  };\n  _proto.add = function add(other) {\n    var otherParsed = Fraction.tryParseFraction(other);\n    if (jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].equal(this.denominator, otherParsed.denominator)) {\n      return new Fraction(jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].add(this.numerator, otherParsed.numerator), this.denominator);\n    }\n    return new Fraction(jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].add(jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].multiply(this.numerator, otherParsed.denominator), jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].multiply(otherParsed.numerator, this.denominator)), jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].multiply(this.denominator, otherParsed.denominator));\n  };\n  _proto.subtract = function subtract(other) {\n    var otherParsed = Fraction.tryParseFraction(other);\n    if (jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].equal(this.denominator, otherParsed.denominator)) {\n      return new Fraction(jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].subtract(this.numerator, otherParsed.numerator), this.denominator);\n    }\n    return new Fraction(jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].subtract(jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].multiply(this.numerator, otherParsed.denominator), jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].multiply(otherParsed.numerator, this.denominator)), jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].multiply(this.denominator, otherParsed.denominator));\n  };\n  _proto.lessThan = function lessThan(other) {\n    var otherParsed = Fraction.tryParseFraction(other);\n    return jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].lessThan(jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].multiply(this.numerator, otherParsed.denominator), jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].multiply(otherParsed.numerator, this.denominator));\n  };\n  _proto.equalTo = function equalTo(other) {\n    var otherParsed = Fraction.tryParseFraction(other);\n    return jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].equal(jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].multiply(this.numerator, otherParsed.denominator), jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].multiply(otherParsed.numerator, this.denominator));\n  };\n  _proto.greaterThan = function greaterThan(other) {\n    var otherParsed = Fraction.tryParseFraction(other);\n    return jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].greaterThan(jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].multiply(this.numerator, otherParsed.denominator), jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].multiply(otherParsed.numerator, this.denominator));\n  };\n  _proto.multiply = function multiply(other) {\n    var otherParsed = Fraction.tryParseFraction(other);\n    return new Fraction(jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].multiply(this.numerator, otherParsed.numerator), jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].multiply(this.denominator, otherParsed.denominator));\n  };\n  _proto.divide = function divide(other) {\n    var otherParsed = Fraction.tryParseFraction(other);\n    return new Fraction(jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].multiply(this.numerator, otherParsed.denominator), jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].multiply(this.denominator, otherParsed.numerator));\n  };\n  _proto.toSignificant = function toSignificant(significantDigits, format, rounding) {\n    if (format === void 0) {\n      format = {\n        groupSeparator: ''\n      };\n    }\n    if (rounding === void 0) {\n      rounding = Rounding.ROUND_HALF_UP;\n    }\n    !Number.isInteger(significantDigits) ?  true ? (0,tiny_invariant__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(false, significantDigits + \" is not an integer.\") : 0 : void 0;\n    !(significantDigits > 0) ?  true ? (0,tiny_invariant__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(false, significantDigits + \" is not positive.\") : 0 : void 0;\n    Decimal.set({\n      precision: significantDigits + 1,\n      rounding: toSignificantRounding[rounding]\n    });\n    var quotient = new Decimal(this.numerator.toString()).div(this.denominator.toString()).toSignificantDigits(significantDigits);\n    return quotient.toFormat(quotient.decimalPlaces(), format);\n  };\n  _proto.toFixed = function toFixed(decimalPlaces, format, rounding) {\n    if (format === void 0) {\n      format = {\n        groupSeparator: ''\n      };\n    }\n    if (rounding === void 0) {\n      rounding = Rounding.ROUND_HALF_UP;\n    }\n    !Number.isInteger(decimalPlaces) ?  true ? (0,tiny_invariant__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(false, decimalPlaces + \" is not an integer.\") : 0 : void 0;\n    !(decimalPlaces >= 0) ?  true ? (0,tiny_invariant__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(false, decimalPlaces + \" is negative.\") : 0 : void 0;\n    Big.DP = decimalPlaces;\n    Big.RM = toFixedRounding[rounding];\n    return new Big(this.numerator.toString()).div(this.denominator.toString()).toFormat(decimalPlaces, format);\n  }\n  /**\r\n   * Helper method for converting any super class back to a fraction\r\n   */;\n  _createClass(Fraction, [{\n    key: \"quotient\",\n    get: function get() {\n      return jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].divide(this.numerator, this.denominator);\n    }\n    // remainder after floor division\n  }, {\n    key: \"remainder\",\n    get: function get() {\n      return new Fraction(jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].remainder(this.numerator, this.denominator), this.denominator);\n    }\n  }, {\n    key: \"asFraction\",\n    get: function get() {\n      return new Fraction(this.numerator, this.denominator);\n    }\n  }]);\n  return Fraction;\n}();\n\nvar Big$1 = /*#__PURE__*/toformat__WEBPACK_IMPORTED_MODULE_4___default()(big_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"]);\nvar CurrencyAmount = /*#__PURE__*/function (_Fraction) {\n  _inheritsLoose(CurrencyAmount, _Fraction);\n  function CurrencyAmount(currency, numerator, denominator) {\n    var _this;\n    _this = _Fraction.call(this, numerator, denominator) || this;\n    !jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].lessThanOrEqual(_this.quotient, MaxUint256) ?  true ? (0,tiny_invariant__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(false, 'AMOUNT') : 0 : void 0;\n    _this.currency = currency;\n    _this.decimalScale = jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].exponentiate(jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].BigInt(10), jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].BigInt(currency.decimals));\n    return _this;\n  }\n  /**\r\n   * Returns a new currency amount instance from the unitless amount of token, i.e. the raw amount\r\n   * @param currency the currency in the amount\r\n   * @param rawAmount the raw token or ether amount\r\n   */\n  CurrencyAmount.fromRawAmount = function fromRawAmount(currency, rawAmount) {\n    return new CurrencyAmount(currency, rawAmount);\n  }\n  /**\r\n   * Construct a currency amount with a denominator that is not equal to 1\r\n   * @param currency the currency\r\n   * @param numerator the numerator of the fractional token amount\r\n   * @param denominator the denominator of the fractional token amount\r\n   */;\n  CurrencyAmount.fromFractionalAmount = function fromFractionalAmount(currency, numerator, denominator) {\n    return new CurrencyAmount(currency, numerator, denominator);\n  };\n  var _proto = CurrencyAmount.prototype;\n  _proto.add = function add(other) {\n    !this.currency.equals(other.currency) ?  true ? (0,tiny_invariant__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(false, 'CURRENCY') : 0 : void 0;\n    var added = _Fraction.prototype.add.call(this, other);\n    return CurrencyAmount.fromFractionalAmount(this.currency, added.numerator, added.denominator);\n  };\n  _proto.subtract = function subtract(other) {\n    !this.currency.equals(other.currency) ?  true ? (0,tiny_invariant__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(false, 'CURRENCY') : 0 : void 0;\n    var subtracted = _Fraction.prototype.subtract.call(this, other);\n    return CurrencyAmount.fromFractionalAmount(this.currency, subtracted.numerator, subtracted.denominator);\n  };\n  _proto.multiply = function multiply(other) {\n    var multiplied = _Fraction.prototype.multiply.call(this, other);\n    return CurrencyAmount.fromFractionalAmount(this.currency, multiplied.numerator, multiplied.denominator);\n  };\n  _proto.divide = function divide(other) {\n    var divided = _Fraction.prototype.divide.call(this, other);\n    return CurrencyAmount.fromFractionalAmount(this.currency, divided.numerator, divided.denominator);\n  };\n  _proto.toSignificant = function toSignificant(significantDigits, format, rounding) {\n    if (significantDigits === void 0) {\n      significantDigits = 6;\n    }\n    if (rounding === void 0) {\n      rounding = Rounding.ROUND_DOWN;\n    }\n    return _Fraction.prototype.divide.call(this, this.decimalScale).toSignificant(significantDigits, format, rounding);\n  };\n  _proto.toFixed = function toFixed(decimalPlaces, format, rounding) {\n    if (decimalPlaces === void 0) {\n      decimalPlaces = this.currency.decimals;\n    }\n    if (rounding === void 0) {\n      rounding = Rounding.ROUND_DOWN;\n    }\n    !(decimalPlaces <= this.currency.decimals) ?  true ? (0,tiny_invariant__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(false, 'DECIMALS') : 0 : void 0;\n    return _Fraction.prototype.divide.call(this, this.decimalScale).toFixed(decimalPlaces, format, rounding);\n  };\n  _proto.toExact = function toExact(format) {\n    if (format === void 0) {\n      format = {\n        groupSeparator: ''\n      };\n    }\n    Big$1.DP = this.currency.decimals;\n    return new Big$1(this.quotient.toString()).div(this.decimalScale.toString()).toFormat(format);\n  };\n  _createClass(CurrencyAmount, [{\n    key: \"wrapped\",\n    get: function get() {\n      if (this.currency.isToken) return this;\n      return CurrencyAmount.fromFractionalAmount(this.currency.wrapped, this.numerator, this.denominator);\n    }\n  }]);\n  return CurrencyAmount;\n}(Fraction);\n\nvar ONE_HUNDRED = /*#__PURE__*/new Fraction( /*#__PURE__*/jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].BigInt(100));\n/**\r\n * Converts a fraction to a percent\r\n * @param fraction the fraction to convert\r\n */\nfunction toPercent(fraction) {\n  return new Percent(fraction.numerator, fraction.denominator);\n}\nvar Percent = /*#__PURE__*/function (_Fraction) {\n  _inheritsLoose(Percent, _Fraction);\n  function Percent() {\n    var _this;\n    _this = _Fraction.apply(this, arguments) || this;\n    /**\r\n     * This boolean prevents a fraction from being interpreted as a Percent\r\n     */\n    _this.isPercent = true;\n    return _this;\n  }\n  var _proto = Percent.prototype;\n  _proto.add = function add(other) {\n    return toPercent(_Fraction.prototype.add.call(this, other));\n  };\n  _proto.subtract = function subtract(other) {\n    return toPercent(_Fraction.prototype.subtract.call(this, other));\n  };\n  _proto.multiply = function multiply(other) {\n    return toPercent(_Fraction.prototype.multiply.call(this, other));\n  };\n  _proto.divide = function divide(other) {\n    return toPercent(_Fraction.prototype.divide.call(this, other));\n  };\n  _proto.toSignificant = function toSignificant(significantDigits, format, rounding) {\n    if (significantDigits === void 0) {\n      significantDigits = 5;\n    }\n    return _Fraction.prototype.multiply.call(this, ONE_HUNDRED).toSignificant(significantDigits, format, rounding);\n  };\n  _proto.toFixed = function toFixed(decimalPlaces, format, rounding) {\n    if (decimalPlaces === void 0) {\n      decimalPlaces = 2;\n    }\n    return _Fraction.prototype.multiply.call(this, ONE_HUNDRED).toFixed(decimalPlaces, format, rounding);\n  };\n  return Percent;\n}(Fraction);\n\nvar Price = /*#__PURE__*/function (_Fraction) {\n  _inheritsLoose(Price, _Fraction);\n  /**\r\n   * Construct a price, either with the base and quote currency amount, or the\r\n   * @param args\r\n   */\n  function Price() {\n    var _this;\n    var baseCurrency, quoteCurrency, denominator, numerator;\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    if (args.length === 4) {\n      baseCurrency = args[0];\n      quoteCurrency = args[1];\n      denominator = args[2];\n      numerator = args[3];\n    } else {\n      var result = args[0].quoteAmount.divide(args[0].baseAmount);\n      var _ref = [args[0].baseAmount.currency, args[0].quoteAmount.currency, result.denominator, result.numerator];\n      baseCurrency = _ref[0];\n      quoteCurrency = _ref[1];\n      denominator = _ref[2];\n      numerator = _ref[3];\n    }\n    _this = _Fraction.call(this, numerator, denominator) || this;\n    _this.baseCurrency = baseCurrency;\n    _this.quoteCurrency = quoteCurrency;\n    _this.scalar = new Fraction(jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].exponentiate(jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].BigInt(10), jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].BigInt(baseCurrency.decimals)), jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].exponentiate(jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].BigInt(10), jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].BigInt(quoteCurrency.decimals)));\n    return _this;\n  }\n  /**\r\n   * Flip the price, switching the base and quote currency\r\n   */\n  var _proto = Price.prototype;\n  _proto.invert = function invert() {\n    return new Price(this.quoteCurrency, this.baseCurrency, this.numerator, this.denominator);\n  }\n  /**\r\n   * Multiply the price by another price, returning a new price. The other price must have the same base currency as this price's quote currency\r\n   * @param other the other price\r\n   */;\n  _proto.multiply = function multiply(other) {\n    !this.quoteCurrency.equals(other.baseCurrency) ?  true ? (0,tiny_invariant__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(false, 'TOKEN') : 0 : void 0;\n    var fraction = _Fraction.prototype.multiply.call(this, other);\n    return new Price(this.baseCurrency, other.quoteCurrency, fraction.denominator, fraction.numerator);\n  }\n  /**\r\n   * Return the amount of quote currency corresponding to a given amount of the base currency\r\n   * @param currencyAmount the amount of base currency to quote against the price\r\n   */;\n  _proto.quote = function quote(currencyAmount) {\n    !currencyAmount.currency.equals(this.baseCurrency) ?  true ? (0,tiny_invariant__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(false, 'TOKEN') : 0 : void 0;\n    var result = _Fraction.prototype.multiply.call(this, currencyAmount);\n    return CurrencyAmount.fromFractionalAmount(this.quoteCurrency, result.numerator, result.denominator);\n  }\n  /**\r\n   * Get the value scaled by decimals for formatting\r\n   * @private\r\n   */;\n  _proto.toSignificant = function toSignificant(significantDigits, format, rounding) {\n    if (significantDigits === void 0) {\n      significantDigits = 6;\n    }\n    return this.adjustedForDecimals.toSignificant(significantDigits, format, rounding);\n  };\n  _proto.toFixed = function toFixed(decimalPlaces, format, rounding) {\n    if (decimalPlaces === void 0) {\n      decimalPlaces = 4;\n    }\n    return this.adjustedForDecimals.toFixed(decimalPlaces, format, rounding);\n  };\n  _createClass(Price, [{\n    key: \"adjustedForDecimals\",\n    get: function get() {\n      return _Fraction.prototype.multiply.call(this, this.scalar);\n    }\n  }]);\n  return Price;\n}(Fraction);\n\n/**\r\n * A currency is any fungible financial instrument, including Ether, all ERC20 tokens, and other chain-native currencies\r\n */\nvar BaseCurrency =\n/**\r\n * Constructs an instance of the base class `BaseCurrency`.\r\n * @param chainId the chain ID on which this currency resides\r\n * @param decimals decimals of the currency\r\n * @param symbol symbol of the currency\r\n * @param name of the currency\r\n */\nfunction BaseCurrency(chainId, decimals, symbol, name) {\n  !Number.isSafeInteger(chainId) ?  true ? (0,tiny_invariant__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(false, 'CHAIN_ID') : 0 : void 0;\n  !(decimals >= 0 && decimals < 255 && Number.isInteger(decimals)) ?  true ? (0,tiny_invariant__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(false, 'DECIMALS') : 0 : void 0;\n  this.chainId = chainId;\n  this.decimals = decimals;\n  this.symbol = symbol;\n  this.name = name;\n};\n\n/**\r\n * Represents the native currency of the chain on which it resides, e.g.\r\n */\nvar NativeCurrency = /*#__PURE__*/function (_BaseCurrency) {\n  _inheritsLoose(NativeCurrency, _BaseCurrency);\n  function NativeCurrency() {\n    var _this;\n    _this = _BaseCurrency.apply(this, arguments) || this;\n    _this.isNative = true;\n    _this.isToken = false;\n    return _this;\n  }\n  return NativeCurrency;\n}(BaseCurrency);\n\n/**\r\n * Validates an address and returns the parsed (checksummed) version of that address\r\n * @param address the unchecksummed hex address\r\n */\nfunction validateAndParseAddress(address) {\n  try {\n    return (0,_ethersproject_address__WEBPACK_IMPORTED_MODULE_5__.getAddress)(address);\n  } catch (error) {\n    throw new Error(address + \" is not a valid address.\");\n  }\n}\n// Checks a string starts with 0x, is 42 characters long and contains only hex characters after 0x\nvar startsWith0xLen42HexRegex = /^0x[0-9a-fA-F]{40}$/;\n/**\r\n * Checks if an address is valid by checking 0x prefix, length === 42 and hex encoding.\r\n * @param address the unchecksummed hex address\r\n */\nfunction checkValidAddress(address) {\n  if (startsWith0xLen42HexRegex.test(address)) {\n    return address;\n  }\n  throw new Error(address + \" is not a valid address.\");\n}\n\n/**\r\n * Represents an ERC20 token with a unique address and some metadata.\r\n */\nvar Token = /*#__PURE__*/function (_BaseCurrency) {\n  _inheritsLoose(Token, _BaseCurrency);\n  /**\r\n   *\r\n   * @param chainId {@link BaseCurrency#chainId}\r\n   * @param address The contract address on the chain on which this token lives\r\n   * @param decimals {@link BaseCurrency#decimals}\r\n   * @param symbol {@link BaseCurrency#symbol}\r\n   * @param name {@link BaseCurrency#name}\r\n   * @param bypassChecksum If true it only checks for length === 42, startsWith 0x and contains only hex characters\r\n   * @param buyFeeBps Buy fee tax for FOT tokens, in basis points\r\n   * @param sellFeeBps Sell fee tax for FOT tokens, in basis points\r\n   */\n  function Token(chainId, address, decimals, symbol, name, bypassChecksum, buyFeeBps, sellFeeBps) {\n    var _this;\n    _this = _BaseCurrency.call(this, chainId, decimals, symbol, name) || this;\n    _this.isNative = false;\n    _this.isToken = true;\n    if (bypassChecksum) {\n      _this.address = checkValidAddress(address);\n    } else {\n      _this.address = validateAndParseAddress(address);\n    }\n    if (buyFeeBps) {\n      !buyFeeBps.gte(_ethersproject_bignumber__WEBPACK_IMPORTED_MODULE_6__.BigNumber.from(0)) ?  true ? (0,tiny_invariant__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(false, 'NON-NEGATIVE FOT FEES') : 0 : void 0;\n    }\n    if (sellFeeBps) {\n      !sellFeeBps.gte(_ethersproject_bignumber__WEBPACK_IMPORTED_MODULE_6__.BigNumber.from(0)) ?  true ? (0,tiny_invariant__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(false, 'NON-NEGATIVE FOT FEES') : 0 : void 0;\n    }\n    _this.buyFeeBps = buyFeeBps;\n    _this.sellFeeBps = sellFeeBps;\n    return _this;\n  }\n  /**\r\n   * Returns true if the two tokens are equivalent, i.e. have the same chainId and address.\r\n   * @param other other token to compare\r\n   */\n  var _proto = Token.prototype;\n  _proto.equals = function equals(other) {\n    return other.isToken && this.chainId === other.chainId && this.address.toLowerCase() === other.address.toLowerCase();\n  }\n  /**\r\n   * Returns true if the address of this token sorts before the address of the other token\r\n   * @param other other token to compare\r\n   * @throws if the tokens have the same address\r\n   * @throws if the tokens are on different chains\r\n   */;\n  _proto.sortsBefore = function sortsBefore(other) {\n    !(this.chainId === other.chainId) ?  true ? (0,tiny_invariant__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(false, 'CHAIN_IDS') : 0 : void 0;\n    !(this.address.toLowerCase() !== other.address.toLowerCase()) ?  true ? (0,tiny_invariant__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(false, 'ADDRESSES') : 0 : void 0;\n    return this.address.toLowerCase() < other.address.toLowerCase();\n  }\n  /**\r\n   * Return this token, which does not need to be wrapped\r\n   */;\n  _createClass(Token, [{\n    key: \"wrapped\",\n    get: function get() {\n      return this;\n    }\n  }]);\n  return Token;\n}(BaseCurrency);\n\n/**\r\n * Known WETH9 implementation addresses, used in our implementation of Ether#wrapped\r\n */\nvar WETH9 = {\n  1: /*#__PURE__*/new Token(1, '0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2', 18, 'WETH', 'Wrapped Ether'),\n  11155111: /*#__PURE__*/new Token(11155111, '0xfFf9976782d46CC05630D1f6eBAb18b2324d6B14', 18, 'WETH', 'Wrapped Ether'),\n  3: /*#__PURE__*/new Token(3, '0xc778417E063141139Fce010982780140Aa0cD5Ab', 18, 'WETH', 'Wrapped Ether'),\n  4: /*#__PURE__*/new Token(4, '0xc778417E063141139Fce010982780140Aa0cD5Ab', 18, 'WETH', 'Wrapped Ether'),\n  5: /*#__PURE__*/new Token(5, '0xB4FBF271143F4FBf7B91A5ded31805e42b2208d6', 18, 'WETH', 'Wrapped Ether'),\n  42: /*#__PURE__*/new Token(42, '0xd0A1E359811322d97991E03f863a0C30C2cF029C', 18, 'WETH', 'Wrapped Ether'),\n  10: /*#__PURE__*/new Token(10, '0x4200000000000000000000000000000000000006', 18, 'WETH', 'Wrapped Ether'),\n  69: /*#__PURE__*/new Token(69, '0x4200000000000000000000000000000000000006', 18, 'WETH', 'Wrapped Ether'),\n  11155420: /*#__PURE__*/new Token(11155420, '0x4200000000000000000000000000000000000006', 18, 'WETH', 'Wrapped Ether'),\n  42161: /*#__PURE__*/new Token(42161, '0x82aF49447D8a07e3bd95BD0d56f35241523fBab1', 18, 'WETH', 'Wrapped Ether'),\n  421611: /*#__PURE__*/new Token(421611, '0xB47e6A5f8b33b3F17603C83a0535A9dcD7E32681', 18, 'WETH', 'Wrapped Ether'),\n  421614: /*#__PURE__*/new Token(421614, '0x980B62Da83eFf3D4576C647993b0c1D7faf17c73', 18, 'WETH', 'Wrapped Ether'),\n  8453: /*#__PURE__*/new Token(8453, '0x4200000000000000000000000000000000000006', 18, 'WETH', 'Wrapped Ether'),\n  56: /*#__PURE__*/new Token(56, '0xbb4CdB9CBd36B01bD1cBaEBF2De08d9173bc095c', 18, 'WBNB', 'Wrapped BNB'),\n  137: /*#__PURE__*/new Token(137, '0x0d500B1d8E8eF31E21C99d1Db9A6444d3ADf1270', 18, 'WMATIC', 'Wrapped MATIC'),\n  43114: /*#__PURE__*/new Token(43114, '0xB31f66AA3C1e785363F0875A1B74E27b85FD66c7', 18, 'WAVAX', 'Wrapped AVAX'),\n  7777777: /*#__PURE__*/new Token(7777777, '0x4200000000000000000000000000000000000006', 18, 'WETH', 'Wrapped Ether'),\n  81457: /*#__PURE__*/new Token(81457, '0x4300000000000000000000000000000000000004', 18, 'WETH', 'Wrapped Ether'),\n  324: /*#__PURE__*/new Token(324, '0x5AEa5775959fBC2557Cc8789bC1bf90A239D9a91', 18, 'WETH', 'Wrapped Ether'),\n  480: /*#__PURE__*/new Token(480, '0x4200000000000000000000000000000000000006', 18, 'WETH', 'Wrapped Ether'),\n  1301: /*#__PURE__*/new Token(1301, '0x4200000000000000000000000000000000000006', 18, 'WETH', 'Wrapped Ether')\n};\n\n/**\r\n * Ether is the main usage of a 'native' currency, i.e. for Ethereum mainnet and all testnets\r\n */\nvar Ether = /*#__PURE__*/function (_NativeCurrency) {\n  _inheritsLoose(Ether, _NativeCurrency);\n  function Ether(chainId) {\n    return _NativeCurrency.call(this, chainId, 18, 'ETH', 'Ether') || this;\n  }\n  Ether.onChain = function onChain(chainId) {\n    var _this$_etherCache$cha;\n    return (_this$_etherCache$cha = this._etherCache[chainId]) != null ? _this$_etherCache$cha : this._etherCache[chainId] = new Ether(chainId);\n  };\n  var _proto = Ether.prototype;\n  _proto.equals = function equals(other) {\n    return other.isNative && other.chainId === this.chainId;\n  };\n  _createClass(Ether, [{\n    key: \"wrapped\",\n    get: function get() {\n      var weth9 = WETH9[this.chainId];\n      !!!weth9 ?  true ? (0,tiny_invariant__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(false, 'WRAPPED') : 0 : void 0;\n      return weth9;\n    }\n  }]);\n  return Ether;\n}(NativeCurrency);\nEther._etherCache = {};\n\n/**\r\n * Returns the percent difference between the mid price and the execution price, i.e. price impact.\r\n * @param midPrice mid price before the trade\r\n * @param inputAmount the input amount of the trade\r\n * @param outputAmount the output amount of the trade\r\n */\nfunction computePriceImpact(midPrice, inputAmount, outputAmount) {\n  var quotedOutputAmount = midPrice.quote(inputAmount);\n  // calculate price impact := (exactQuote - outputAmount) / exactQuote\n  var priceImpact = quotedOutputAmount.subtract(outputAmount).divide(quotedOutputAmount);\n  return new Percent(priceImpact.numerator, priceImpact.denominator);\n}\n\nfunction computeZksyncCreate2Address(sender, bytecodeHash, salt, input) {\n  if (input === void 0) {\n    input = '0x';\n  }\n  var prefix = (0,_ethersproject_keccak256__WEBPACK_IMPORTED_MODULE_7__.keccak256)((0,_ethersproject_strings__WEBPACK_IMPORTED_MODULE_8__.toUtf8Bytes)('zksyncCreate2'));\n  var inputHash = (0,_ethersproject_keccak256__WEBPACK_IMPORTED_MODULE_7__.keccak256)(input);\n  var addressBytes = (0,_ethersproject_keccak256__WEBPACK_IMPORTED_MODULE_7__.keccak256)((0,_ethersproject_bytes__WEBPACK_IMPORTED_MODULE_9__.concat)([prefix, (0,_ethersproject_bytes__WEBPACK_IMPORTED_MODULE_9__.hexZeroPad)(sender, 32), salt, bytecodeHash, inputHash])).slice(26);\n  return (0,_ethersproject_address__WEBPACK_IMPORTED_MODULE_5__.getAddress)(addressBytes);\n}\n\n// given an array of items sorted by `comparator`, insert an item into its sort index and constrain the size to\n// `maxSize` by removing the last item\nfunction sortedInsert(items, add, maxSize, comparator) {\n  !(maxSize > 0) ?  true ? (0,tiny_invariant__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(false, 'MAX_SIZE_ZERO') : 0 : void 0;\n  // this is an invariant because the interface cannot return multiple removed items if items.length exceeds maxSize\n  !(items.length <= maxSize) ?  true ? (0,tiny_invariant__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(false, 'ITEMS_SIZE') : 0 : void 0;\n  // short circuit first item add\n  if (items.length === 0) {\n    items.push(add);\n    return null;\n  } else {\n    var isFull = items.length === maxSize;\n    // short circuit if full and the additional item does not come before the last item\n    if (isFull && comparator(items[items.length - 1], add) <= 0) {\n      return add;\n    }\n    var lo = 0,\n      hi = items.length;\n    while (lo < hi) {\n      var mid = lo + hi >>> 1;\n      if (comparator(items[mid], add) <= 0) {\n        lo = mid + 1;\n      } else {\n        hi = mid;\n      }\n    }\n    items.splice(lo, 0, add);\n    return isFull ? items.pop() : null;\n  }\n}\n\nvar MAX_SAFE_INTEGER = /*#__PURE__*/jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].BigInt(Number.MAX_SAFE_INTEGER);\nvar ZERO = /*#__PURE__*/jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].BigInt(0);\nvar ONE = /*#__PURE__*/jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].BigInt(1);\nvar TWO = /*#__PURE__*/jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].BigInt(2);\n/**\r\n * Computes floor(sqrt(value))\r\n * @param value the value for which to compute the square root, rounded down\r\n */\nfunction sqrt(value) {\n  !jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].greaterThanOrEqual(value, ZERO) ?  true ? (0,tiny_invariant__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(false, 'NEGATIVE') : 0 : void 0;\n  // rely on built in sqrt if possible\n  if (jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].lessThan(value, MAX_SAFE_INTEGER)) {\n    return jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].BigInt(Math.floor(Math.sqrt(jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].toNumber(value))));\n  }\n  var z;\n  var x;\n  z = value;\n  x = jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].add(jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].divide(value, TWO), ONE);\n  while (jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].lessThan(x, z)) {\n    z = x;\n    x = jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].divide(jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].add(jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].divide(value, x), x), TWO);\n  }\n  return z;\n}\n\n\n//# sourceMappingURL=sdk-core.esm.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0B1bmlzd2FwL3Nkay1jb3JlL2Rpc3Qvc2RrLWNvcmUuZXNtLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQXdCO0FBQ2U7QUFDQztBQUNkO0FBQ007QUFDcUI7QUFDRDtBQUNNO0FBQ0w7QUFDQTs7QUFFckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLGtCQUFrQjtBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0Isc0JBQXNCO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLDBCQUEwQjtBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLGdEQUFnRDs7QUFFakQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRyxJQUFJO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzREFBc0Q7QUFDdEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvREFBb0Q7QUFDcEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdEQUFnRDtBQUNoRDtBQUNBLENBQUM7QUFDRCwrQ0FBK0M7QUFDL0M7QUFDQSxDQUFDO0FBQ0Q7QUFDQSxxREFBcUQ7QUFDckQ7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNB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QztBQUNBO0FBQ0E7O0FBRW0xQjtBQUNuMUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Ac2UtMi9uZXh0anMvLi4vLi4vbm9kZV9tb2R1bGVzL0B1bmlzd2FwL3Nkay1jb3JlL2Rpc3Qvc2RrLWNvcmUuZXNtLmpzPzBhYjYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IEpTQkkgZnJvbSAnanNiaSc7XG5pbXBvcnQgaW52YXJpYW50IGZyb20gJ3RpbnktaW52YXJpYW50JztcbmltcG9ydCBfRGVjaW1hbCBmcm9tICdkZWNpbWFsLmpzLWxpZ2h0JztcbmltcG9ydCBfQmlnIGZyb20gJ2JpZy5qcyc7XG5pbXBvcnQgdG9Gb3JtYXQgZnJvbSAndG9mb3JtYXQnO1xuaW1wb3J0IHsgQmlnTnVtYmVyIH0gZnJvbSAnQGV0aGVyc3Byb2plY3QvYmlnbnVtYmVyJztcbmltcG9ydCB7IGdldEFkZHJlc3MgfSBmcm9tICdAZXRoZXJzcHJvamVjdC9hZGRyZXNzJztcbmltcG9ydCB7IGNvbmNhdCwgaGV4WmVyb1BhZCB9IGZyb20gJ0BldGhlcnNwcm9qZWN0L2J5dGVzJztcbmltcG9ydCB7IGtlY2NhazI1NiB9IGZyb20gJ0BldGhlcnNwcm9qZWN0L2tlY2NhazI1Nic7XG5pbXBvcnQgeyB0b1V0ZjhCeXRlcyB9IGZyb20gJ0BldGhlcnNwcm9qZWN0L3N0cmluZ3MnO1xuXG5mdW5jdGlvbiBfdG9QcmltaXRpdmUodCwgcikge1xuICBpZiAoXCJvYmplY3RcIiAhPSB0eXBlb2YgdCB8fCAhdCkgcmV0dXJuIHQ7XG4gIHZhciBlID0gdFtTeW1ib2wudG9QcmltaXRpdmVdO1xuICBpZiAodm9pZCAwICE9PSBlKSB7XG4gICAgdmFyIGkgPSBlLmNhbGwodCwgciB8fCBcImRlZmF1bHRcIik7XG4gICAgaWYgKFwib2JqZWN0XCIgIT0gdHlwZW9mIGkpIHJldHVybiBpO1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKTtcbiAgfVxuICByZXR1cm4gKFwic3RyaW5nXCIgPT09IHIgPyBTdHJpbmcgOiBOdW1iZXIpKHQpO1xufVxuZnVuY3Rpb24gX3RvUHJvcGVydHlLZXkodCkge1xuICB2YXIgaSA9IF90b1ByaW1pdGl2ZSh0LCBcInN0cmluZ1wiKTtcbiAgcmV0dXJuIFwic3ltYm9sXCIgPT0gdHlwZW9mIGkgPyBpIDogU3RyaW5nKGkpO1xufVxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykge1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTtcbiAgICBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7XG4gICAgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlO1xuICAgIGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgX3RvUHJvcGVydHlLZXkoZGVzY3JpcHRvci5rZXkpLCBkZXNjcmlwdG9yKTtcbiAgfVxufVxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykge1xuICBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTtcbiAgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ29uc3RydWN0b3IsIFwicHJvdG90eXBlXCIsIHtcbiAgICB3cml0YWJsZTogZmFsc2VcbiAgfSk7XG4gIHJldHVybiBDb25zdHJ1Y3Rvcjtcbn1cbmZ1bmN0aW9uIF9leHRlbmRzKCkge1xuICBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gPyBPYmplY3QuYXNzaWduLmJpbmQoKSA6IGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTtcbiAgICAgIGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHtcbiAgICAgICAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0YXJnZXQ7XG4gIH07XG4gIHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufVxuZnVuY3Rpb24gX2luaGVyaXRzTG9vc2Uoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHtcbiAgc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzLnByb3RvdHlwZSk7XG4gIHN1YkNsYXNzLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IHN1YkNsYXNzO1xuICBfc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpO1xufVxuZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHtcbiAgX3NldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mLmJpbmQoKSA6IGZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7XG4gICAgby5fX3Byb3RvX18gPSBwO1xuICAgIHJldHVybiBvO1xuICB9O1xuICByZXR1cm4gX3NldFByb3RvdHlwZU9mKG8sIHApO1xufVxuXG52YXIgQ2hhaW5JZDtcbihmdW5jdGlvbiAoQ2hhaW5JZCkge1xuICBDaGFpbklkW0NoYWluSWRbXCJNQUlOTkVUXCJdID0gMV0gPSBcIk1BSU5ORVRcIjtcbiAgQ2hhaW5JZFtDaGFpbklkW1wiR09FUkxJXCJdID0gNV0gPSBcIkdPRVJMSVwiO1xuICBDaGFpbklkW0NoYWluSWRbXCJTRVBPTElBXCJdID0gMTExNTUxMTFdID0gXCJTRVBPTElBXCI7XG4gIENoYWluSWRbQ2hhaW5JZFtcIk9QVElNSVNNXCJdID0gMTBdID0gXCJPUFRJTUlTTVwiO1xuICBDaGFpbklkW0NoYWluSWRbXCJPUFRJTUlTTV9HT0VSTElcIl0gPSA0MjBdID0gXCJPUFRJTUlTTV9HT0VSTElcIjtcbiAgQ2hhaW5JZFtDaGFpbklkW1wiT1BUSU1JU01fU0VQT0xJQVwiXSA9IDExMTU1NDIwXSA9IFwiT1BUSU1JU01fU0VQT0xJQVwiO1xuICBDaGFpbklkW0NoYWluSWRbXCJBUkJJVFJVTV9PTkVcIl0gPSA0MjE2MV0gPSBcIkFSQklUUlVNX09ORVwiO1xuICBDaGFpbklkW0NoYWluSWRbXCJBUkJJVFJVTV9HT0VSTElcIl0gPSA0MjE2MTNdID0gXCJBUkJJVFJVTV9HT0VSTElcIjtcbiAgQ2hhaW5JZFtDaGFpbklkW1wiQVJCSVRSVU1fU0VQT0xJQVwiXSA9IDQyMTYxNF0gPSBcIkFSQklUUlVNX1NFUE9MSUFcIjtcbiAgQ2hhaW5JZFtDaGFpbklkW1wiUE9MWUdPTlwiXSA9IDEzN10gPSBcIlBPTFlHT05cIjtcbiAgQ2hhaW5JZFtDaGFpbklkW1wiUE9MWUdPTl9NVU1CQUlcIl0gPSA4MDAwMV0gPSBcIlBPTFlHT05fTVVNQkFJXCI7XG4gIENoYWluSWRbQ2hhaW5JZFtcIkNFTE9cIl0gPSA0MjIyMF0gPSBcIkNFTE9cIjtcbiAgQ2hhaW5JZFtDaGFpbklkW1wiQ0VMT19BTEZBSk9SRVNcIl0gPSA0NDc4N10gPSBcIkNFTE9fQUxGQUpPUkVTXCI7XG4gIENoYWluSWRbQ2hhaW5JZFtcIkdOT1NJU1wiXSA9IDEwMF0gPSBcIkdOT1NJU1wiO1xuICBDaGFpbklkW0NoYWluSWRbXCJNT09OQkVBTVwiXSA9IDEyODRdID0gXCJNT09OQkVBTVwiO1xuICBDaGFpbklkW0NoYWluSWRbXCJCTkJcIl0gPSA1Nl0gPSBcIkJOQlwiO1xuICBDaGFpbklkW0NoYWluSWRbXCJBVkFMQU5DSEVcIl0gPSA0MzExNF0gPSBcIkFWQUxBTkNIRVwiO1xuICBDaGFpbklkW0NoYWluSWRbXCJCQVNFX0dPRVJMSVwiXSA9IDg0NTMxXSA9IFwiQkFTRV9HT0VSTElcIjtcbiAgQ2hhaW5JZFtDaGFpbklkW1wiQkFTRVwiXSA9IDg0NTNdID0gXCJCQVNFXCI7XG4gIENoYWluSWRbQ2hhaW5JZFtcIlpPUkFcIl0gPSA3Nzc3Nzc3XSA9IFwiWk9SQVwiO1xuICBDaGFpbklkW0NoYWluSWRbXCJaT1JBX1NFUE9MSUFcIl0gPSA5OTk5OTk5OTldID0gXCJaT1JBX1NFUE9MSUFcIjtcbiAgQ2hhaW5JZFtDaGFpbklkW1wiUk9PVFNUT0NLXCJdID0gMzBdID0gXCJST09UU1RPQ0tcIjtcbiAgQ2hhaW5JZFtDaGFpbklkW1wiQkxBU1RcIl0gPSA4MTQ1N10gPSBcIkJMQVNUXCI7XG4gIENoYWluSWRbQ2hhaW5JZFtcIlpLU1lOQ1wiXSA9IDMyNF0gPSBcIlpLU1lOQ1wiO1xuICBDaGFpbklkW0NoYWluSWRbXCJXT1JMRENIQUlOXCJdID0gNDgwXSA9IFwiV09STERDSEFJTlwiO1xuICBDaGFpbklkW0NoYWluSWRbXCJBU1RST0NIQUlOX1NFUE9MSUFcIl0gPSAxMzAxXSA9IFwiQVNUUk9DSEFJTl9TRVBPTElBXCI7XG59KShDaGFpbklkIHx8IChDaGFpbklkID0ge30pKTtcbnZhciBTVVBQT1JURURfQ0hBSU5TID0gW0NoYWluSWQuTUFJTk5FVCwgQ2hhaW5JZC5PUFRJTUlTTSwgQ2hhaW5JZC5PUFRJTUlTTV9HT0VSTEksIENoYWluSWQuT1BUSU1JU01fU0VQT0xJQSwgQ2hhaW5JZC5BUkJJVFJVTV9PTkUsIENoYWluSWQuQVJCSVRSVU1fR09FUkxJLCBDaGFpbklkLkFSQklUUlVNX1NFUE9MSUEsIENoYWluSWQuUE9MWUdPTiwgQ2hhaW5JZC5QT0xZR09OX01VTUJBSSwgQ2hhaW5JZC5HT0VSTEksIENoYWluSWQuU0VQT0xJQSwgQ2hhaW5JZC5DRUxPX0FMRkFKT1JFUywgQ2hhaW5JZC5DRUxPLCBDaGFpbklkLkJOQiwgQ2hhaW5JZC5BVkFMQU5DSEUsIENoYWluSWQuQkFTRSwgQ2hhaW5JZC5CQVNFX0dPRVJMSSwgQ2hhaW5JZC5aT1JBLCBDaGFpbklkLlpPUkFfU0VQT0xJQSwgQ2hhaW5JZC5ST09UU1RPQ0ssIENoYWluSWQuQkxBU1QsIENoYWluSWQuWktTWU5DLCBDaGFpbklkLldPUkxEQ0hBSU4sIENoYWluSWQuQVNUUk9DSEFJTl9TRVBPTElBXTtcbnZhciBOYXRpdmVDdXJyZW5jeU5hbWU7XG4oZnVuY3Rpb24gKE5hdGl2ZUN1cnJlbmN5TmFtZSkge1xuICAvLyBTdHJpbmdzIG1hdGNoIGlucHV0IGZvciBDTElcbiAgTmF0aXZlQ3VycmVuY3lOYW1lW1wiRVRIRVJcIl0gPSBcIkVUSFwiO1xuICBOYXRpdmVDdXJyZW5jeU5hbWVbXCJNQVRJQ1wiXSA9IFwiTUFUSUNcIjtcbiAgTmF0aXZlQ3VycmVuY3lOYW1lW1wiQ0VMT1wiXSA9IFwiQ0VMT1wiO1xuICBOYXRpdmVDdXJyZW5jeU5hbWVbXCJHTk9TSVNcIl0gPSBcIlhEQUlcIjtcbiAgTmF0aXZlQ3VycmVuY3lOYW1lW1wiTU9PTkJFQU1cIl0gPSBcIkdMTVJcIjtcbiAgTmF0aXZlQ3VycmVuY3lOYW1lW1wiQk5CXCJdID0gXCJCTkJcIjtcbiAgTmF0aXZlQ3VycmVuY3lOYW1lW1wiQVZBWFwiXSA9IFwiQVZBWFwiO1xuICBOYXRpdmVDdXJyZW5jeU5hbWVbXCJST09UU1RPQ0tcIl0gPSBcIlJCVENcIjtcbn0pKE5hdGl2ZUN1cnJlbmN5TmFtZSB8fCAoTmF0aXZlQ3VycmVuY3lOYW1lID0ge30pKTtcblxudmFyIF9WMl9GQUNUT1JZX0FERFJFU1NFUywgX1YyX1JPVVRFUl9BRERSRVNTRVMsIF9DSEFJTl9UT19BRERSRVNTRVNfTSwgX0dPVkVSTkFOQ0VfQUxQSEFfVjFfLCBfR09WRVJOQU5DRV9CUkFWT19BREQsIF9NRVJLTEVfRElTVFJJQlVUT1JfQSwgX0FSR0VOVF9XQUxMRVRfREVURUNULCBfU09DS1NfQ09OVFJPTExFUl9BREQ7XG52YXIgREVGQVVMVF9ORVRXT1JLUyA9IFtDaGFpbklkLk1BSU5ORVQsIENoYWluSWQuR09FUkxJLCBDaGFpbklkLlNFUE9MSUFdO1xuZnVuY3Rpb24gY29uc3RydWN0U2FtZUFkZHJlc3NNYXAoYWRkcmVzcywgYWRkaXRpb25hbE5ldHdvcmtzKSB7XG4gIGlmIChhZGRpdGlvbmFsTmV0d29ya3MgPT09IHZvaWQgMCkge1xuICAgIGFkZGl0aW9uYWxOZXR3b3JrcyA9IFtdO1xuICB9XG4gIHJldHVybiBERUZBVUxUX05FVFdPUktTLmNvbmNhdChhZGRpdGlvbmFsTmV0d29ya3MpLnJlZHVjZShmdW5jdGlvbiAobWVtbywgY2hhaW5JZCkge1xuICAgIG1lbW9bY2hhaW5JZF0gPSBhZGRyZXNzO1xuICAgIHJldHVybiBtZW1vO1xuICB9LCB7fSk7XG59XG52YXIgVU5JX0FERFJFU1NFUyA9IC8qI19fUFVSRV9fKi9jb25zdHJ1Y3RTYW1lQWRkcmVzc01hcCgnMHgxZjk4NDBhODVkNWFGNWJmMUQxNzYyRjkyNUJEQURkQzQyMDFGOTg0JywgW0NoYWluSWQuT1BUSU1JU00sIENoYWluSWQuQVJCSVRSVU1fT05FLCBDaGFpbklkLlBPTFlHT04sIENoYWluSWQuUE9MWUdPTl9NVU1CQUksIENoYWluSWQuU0VQT0xJQV0pO1xudmFyIFVOSVNXQVBfTkZUX0FJUkRST1BfQ0xBSU1fQUREUkVTUyA9ICcweDhCNzk5MzgxYWM0MGI4MzhCQkE0MTMxZmZCMjYxOTdDNDMyQUZlNzgnO1xuLyoqXHJcbiAqIEBkZXByZWNhdGVkIHVzZSBWMl9GQUNUT1JZX0FERFJFU1NFUyBpbnN0ZWFkXHJcbiAqL1xudmFyIFYyX0ZBQ1RPUllfQUREUkVTUyA9ICcweDVDNjliRWU3MDFlZjgxNGEyQjZhM0VERDRCMTY1MkNCOWNjNWFBNmYnO1xudmFyIFYyX0ZBQ1RPUllfQUREUkVTU0VTID0gKF9WMl9GQUNUT1JZX0FERFJFU1NFUyA9IHt9LCBfVjJfRkFDVE9SWV9BRERSRVNTRVNbQ2hhaW5JZC5NQUlOTkVUXSA9ICcweDVDNjliRWU3MDFlZjgxNGEyQjZhM0VERDRCMTY1MkNCOWNjNWFBNmYnLCBfVjJfRkFDVE9SWV9BRERSRVNTRVNbQ2hhaW5JZC5HT0VSTEldID0gJzB4NUM2OWJFZTcwMWVmODE0YTJCNmEzRURENEIxNjUyQ0I5Y2M1YUE2ZicsIF9WMl9GQUNUT1JZX0FERFJFU1NFU1tDaGFpbklkLlNFUE9MSUFdID0gJzB4QjdmOTA3ZjdBOWVCQzgyMmE4MEJEMjVFMjI0YmU0MkNlMEE2OThBMCcsIF9WMl9GQUNUT1JZX0FERFJFU1NFU1tDaGFpbklkLk9QVElNSVNNXSA9ICcweDBjM2MxYzUzMkYxZTM5RWRGMzZCRTlGZTBiRTE0MTAzMTNFMDc0QmYnLCBfVjJfRkFDVE9SWV9BRERSRVNTRVNbQ2hhaW5JZC5BUkJJVFJVTV9PTkVdID0gJzB4ZjFEN0NDNjRGYjQ0NTJGMDVjNDk4MTI2MzEyZUJFMjlmMzBGYmNmOScsIF9WMl9GQUNUT1JZX0FERFJFU1NFU1tDaGFpbklkLkFWQUxBTkNIRV0gPSAnMHg5ZTVBNTJmNTdiMzAzOEYxQjhFZUU0NUYyOGIzQzE5NjdlMjI3OTlDJywgX1YyX0ZBQ1RPUllfQUREUkVTU0VTW0NoYWluSWQuQkFTRV0gPSAnMHg4OTA5ZGMxNWU0MDE3M2ZmNDY5OTM0M2I2ZWI4MTMyYzY1ZTE4ZWM2JywgX1YyX0ZBQ1RPUllfQUREUkVTU0VTW0NoYWluSWQuQk5CXSA9ICcweDg5MDlEYzE1ZTQwMTczRmY0Njk5MzQzYjZlQjgxMzJjNjVlMThlQzYnLCBfVjJfRkFDVE9SWV9BRERSRVNTRVNbQ2hhaW5JZC5QT0xZR09OXSA9ICcweDllNUE1MmY1N2IzMDM4RjFCOEVlRTQ1RjI4YjNDMTk2N2UyMjc5OUMnLCBfVjJfRkFDVE9SWV9BRERSRVNTRVNbQ2hhaW5JZC5DRUxPXSA9ICcweDc5YTUzMGM4ZTJmQTg3NDhCN0I0MGRkMzYyOUMwNTIwYzJjQ2YwM2YnLCBfVjJfRkFDVE9SWV9BRERSRVNTRVNbQ2hhaW5JZC5CTEFTVF0gPSAnMHg1QzM0NjQ2NGQzM0Y5MGJBQmFmNzBkQjYzODg1MDdDQzg4OUMxMDcwJywgX1YyX0ZBQ1RPUllfQUREUkVTU0VTW0NoYWluSWQuV09STERDSEFJTl0gPSAnMHg1QzY5YkVlNzAxZWY4MTRhMkI2YTNFREQ0QjE2NTJDQjljYzVhQTZmJywgX1YyX0ZBQ1RPUllfQUREUkVTU0VTW0NoYWluSWQuQVNUUk9DSEFJTl9TRVBPTElBXSA9ICcweDVDNjliRWU3MDFlZjgxNGEyQjZhM0VERDRCMTY1MkNCOWNjNWFBNmYnLCBfVjJfRkFDVE9SWV9BRERSRVNTRVMpO1xuLyoqXHJcbiAqIEBkZXByZWNhdGVkIHVzZSBWMl9ST1VURVJfQUREUkVTU0VTIGluc3RlYWRcclxuICovXG52YXIgVjJfUk9VVEVSX0FERFJFU1MgPSAnMHg3YTI1MGQ1NjMwQjRjRjUzOTczOWRGMkM1ZEFjYjRjNjU5RjI0ODhEJztcbnZhciBWMl9ST1VURVJfQUREUkVTU0VTID0gKF9WMl9ST1VURVJfQUREUkVTU0VTID0ge30sIF9WMl9ST1VURVJfQUREUkVTU0VTW0NoYWluSWQuTUFJTk5FVF0gPSAnMHg3YTI1MGQ1NjMwQjRjRjUzOTczOWRGMkM1ZEFjYjRjNjU5RjI0ODhEJywgX1YyX1JPVVRFUl9BRERSRVNTRVNbQ2hhaW5JZC5HT0VSTEldID0gJzB4N2EyNTBkNTYzMEI0Y0Y1Mzk3MzlkRjJDNWRBY2I0YzY1OUYyNDg4RCcsIF9WMl9ST1VURVJfQUREUkVTU0VTW0NoYWluSWQuU0VQT0xJQV0gPSAnMHg1MzU0NDQ5MkM3OEQ0NzgyOTRCNWIxRmI4MDU5YTVENkM5YUJCQzY3JywgX1YyX1JPVVRFUl9BRERSRVNTRVNbQ2hhaW5JZC5BUkJJVFJVTV9PTkVdID0gJzB4NDc1MmJhNWRiYzIzZjQ0ZDg3ODI2Mjc2YmY2ZmQ2YjFjMzcyYWQyNCcsIF9WMl9ST1VURVJfQUREUkVTU0VTW0NoYWluSWQuT1BUSU1JU01dID0gJzB4NGE3YjVkYTYxMzI2YTYzNzkxNzliNDBkMDBmNTdlNWJiZGM5NjJjMicsIF9WMl9ST1VURVJfQUREUkVTU0VTW0NoYWluSWQuQkFTRV0gPSAnMHg0NzUyYmE1ZGJjMjNmNDRkODc4MjYyNzZiZjZmZDZiMWMzNzJhZDI0JywgX1YyX1JPVVRFUl9BRERSRVNTRVNbQ2hhaW5JZC5BVkFMQU5DSEVdID0gJzB4NDc1MmJhNWRiYzIzZjQ0ZDg3ODI2Mjc2YmY2ZmQ2YjFjMzcyYWQyNCcsIF9WMl9ST1VURVJfQUREUkVTU0VTW0NoYWluSWQuQk5CXSA9ICcweDQ3NTJiYTVkYmMyM2Y0NGQ4NzgyNjI3NmJmNmZkNmIxYzM3MmFkMjQnLCBfVjJfUk9VVEVSX0FERFJFU1NFU1tDaGFpbklkLlBPTFlHT05dID0gJzB4ZWRmNjA2NmEyYjI5MGMxODU3ODM4NjJjN2Y0Nzc2YTJjODA3N2FkMScsIF9WMl9ST1VURVJfQUREUkVTU0VTW0NoYWluSWQuQkxBU1RdID0gJzB4QkI2NkViMWM1ZTg3NTkzM0Q0NERBZTY2MWRiRDgwZTVEOUIwMzAzNScsIF9WMl9ST1VURVJfQUREUkVTU0VTW0NoYWluSWQuV09STERDSEFJTl0gPSAnMHg1NDFhQjdjMzFBMTE5NDQxZUYzNTc1RjY5NzMyNzdERTBlRjQ2MGJkJywgX1YyX1JPVVRFUl9BRERSRVNTRVNbQ2hhaW5JZC5BU1RST0NIQUlOX1NFUE9MSUFdID0gJzB4OTIwYjgwNkU0MEEwMEUwMkU3RDJiOTRmRmM4OTg2MGZEYUVkMzY0MCcsIF9WMl9ST1VURVJfQUREUkVTU0VTKTtcbi8vIE5ldHdvcmtzIHRoYXQgc2hhcmUgbW9zdCBvZiB0aGUgc2FtZSBhZGRyZXNzZXMgaS5lLiBNYWlubmV0LCBHb2VybGksIE9wdGltaXNtLCBBcmJpdHJ1bSwgUG9seWdvblxudmFyIERFRkFVTFRfQUREUkVTU0VTID0ge1xuICB2M0NvcmVGYWN0b3J5QWRkcmVzczogJzB4MUY5ODQzMWM4YUQ5ODUyMzYzMUFFNGE1OWYyNjczNDZlYTMxRjk4NCcsXG4gIG11bHRpY2FsbEFkZHJlc3M6ICcweDFGOTg0MTU3NTc2MjBCNTQzQTUyRTYxYzQ2QjMyZUIxOTI2MUY5ODQnLFxuICBxdW90ZXJBZGRyZXNzOiAnMHhiMjczMDhmOUY5MEQ2MDc0NjNiYjMzZUExQmVCYjQxQzI3Q0U1QUI2JyxcbiAgdjNNaWdyYXRvckFkZHJlc3M6ICcweEE1NjQ0RTI5NzA4MzU3ODAzYjVBODgyRDI3MmM0MWNDMGRGOTJCMzQnLFxuICBub25mdW5naWJsZVBvc2l0aW9uTWFuYWdlckFkZHJlc3M6ICcweEMzNjQ0MmI0YTQ1MjJFODcxMzk5Q0Q3MTdhQkREODQ3QWIxMUZFODgnXG59O1xudmFyIE1BSU5ORVRfQUREUkVTU0VTID0gLyojX19QVVJFX18qL19leHRlbmRzKHt9LCBERUZBVUxUX0FERFJFU1NFUywge1xuICBtaXhlZFJvdXRlUXVvdGVyVjFBZGRyZXNzOiAnMHg4NEU0NDA5NWVlQmZFQzc3OTNDZDdkNWI1N0I3ZTQwMUQ3ZjFjQTJFJ1xufSk7XG52YXIgR09FUkxJX0FERFJFU1NFUyA9IC8qI19fUFVSRV9fKi9fZXh0ZW5kcyh7fSwgREVGQVVMVF9BRERSRVNTRVMsIHtcbiAgbWl4ZWRSb3V0ZVF1b3RlclYxQWRkcmVzczogJzB4QmE2MGI2ZTZmRjI1NDg4MzA4Nzg5RTZlMEE2NUQ4MzhiZTM0MTk0ZSdcbn0pO1xudmFyIE9QVElNSVNNX0FERFJFU1NFUyA9IERFRkFVTFRfQUREUkVTU0VTO1xudmFyIEFSQklUUlVNX09ORV9BRERSRVNTRVMgPSAvKiNfX1BVUkVfXyovX2V4dGVuZHMoe30sIERFRkFVTFRfQUREUkVTU0VTLCB7XG4gIG11bHRpY2FsbEFkZHJlc3M6ICcweGFkRjg4NTk2MEI0N2VBMkNEOUI1NUU2REFjNkI0MmI3Q2IyODA2ZEInLFxuICB0aWNrTGVuc0FkZHJlc3M6ICcweGJmZDgxMzdmN2QxNTE2RDNlYTVjQTgzNTIzOTE0ODU5ZWM0N0Y1NzMnXG59KTtcbnZhciBQT0xZR09OX0FERFJFU1NFUyA9IERFRkFVTFRfQUREUkVTU0VTO1xuLy8gY2VsbyB2MyBhZGRyZXNzZXNcbnZhciBDRUxPX0FERFJFU1NFUyA9IHtcbiAgdjNDb3JlRmFjdG9yeUFkZHJlc3M6ICcweEFmRTIwOGEzMTFCMjFmMTNFRjg3RTMzQTkwMDQ5ZkMxN0E3YWNERWMnLFxuICBtdWx0aWNhbGxBZGRyZXNzOiAnMHg2MzM5ODc2MDJERTVDNEYzMzdlM0RiRjI2NTMwM0ExMDgwMzI0MjA0JyxcbiAgcXVvdGVyQWRkcmVzczogJzB4ODI4MjVkMDU1NGZBMDdmN0ZDNTJBYjYzYzk2MUYzMzBmZEVGYThFOCcsXG4gIHYzTWlncmF0b3JBZGRyZXNzOiAnMHgzY0ZkNGQ0OEVEZkRDQzUzRDNmMTczRjU5NmY2MjEwNjQ2MTRDNTgyJyxcbiAgbm9uZnVuZ2libGVQb3NpdGlvbk1hbmFnZXJBZGRyZXNzOiAnMHgzZDc5RWRBYUJDMEVhQjZGMDhFRDg4NUMwNUZjMEIwMTQyOTBEOTVBJyxcbiAgdGlja0xlbnNBZGRyZXNzOiAnMHg1ZjExNUQ5MTEzRjg4ZTBhMERiMWI1MDMzRDkwRDRhOTY5MEFjRDNEJ1xufTtcbi8vIEJOQiB2MyBhZGRyZXNzZXNcbnZhciBCTkJfQUREUkVTU0VTID0ge1xuICB2M0NvcmVGYWN0b3J5QWRkcmVzczogJzB4ZEIxZDEwMDExQUQwRmY5MDc3NEQwQzZCYjkyZTVDNWM4YjQ0NjFGNycsXG4gIG11bHRpY2FsbEFkZHJlc3M6ICcweDk2M0RmMjQ5ZUQwOWMzNThBNDgxOUUzOWQ5Q2Q1NzM2YzMwODcxODQnLFxuICBxdW90ZXJBZGRyZXNzOiAnMHg3OEQ3OEU0MjBEYTk4YWQzNzhENzc5OWJFOGY0QUY2OTAzM0VCMDc3JyxcbiAgdjNNaWdyYXRvckFkZHJlc3M6ICcweDMyNjgxODE0OTU3ZTBDMTMxMTdkZGMwYzJhYmEyMzJiNWM5ZTc2MGYnLFxuICBub25mdW5naWJsZVBvc2l0aW9uTWFuYWdlckFkZHJlc3M6ICcweDdiOEEwMUIzOUQ1ODI3OGI1REU3ZTQ4Yzg0NDljOWY0RjUxNzA2MTMnLFxuICB0aWNrTGVuc0FkZHJlc3M6ICcweEQ5MjcwMDE0RDM5NjI4MTU3OTc2MDYxOUNDZjRjM2FmMDUwMUE0N0MnLFxuICBzd2FwUm91dGVyMDJBZGRyZXNzOiAnMHhCOTcxZUY4N2VkZTU2MzU1NmIyRUQ0YjFDMGIwMDE5MTExRGQ4NWQyJ1xufTtcbi8vIG9wdGltaXNtIGdvZXJsaSBhZGRyZXNzZXNcbnZhciBPUFRJTUlTTV9HT0VSTElfQUREUkVTU0VTID0ge1xuICB2M0NvcmVGYWN0b3J5QWRkcmVzczogJzB4QjY1NmRBMTcxMjllN0VCNzMzQTU1N2Y0RUJjNTdCNzZDRmJCNWQxMCcsXG4gIG11bHRpY2FsbEFkZHJlc3M6ICcweDA3RjJEOGEyYTAyMjUxQjYyYWY5NjVmMjJmQzQ3NDRBNWY5NkJDQ2QnLFxuICBxdW90ZXJBZGRyZXNzOiAnMHg5NTY5Q2JBOTI1YzhjYTIyNDg3NzJBOUE0OTc2QTUxNjc0M0EyNDZGJyxcbiAgdjNNaWdyYXRvckFkZHJlc3M6ICcweGY2YzU1ZkJlODRCMUM4YzMyODM1MzNjNTNGNTFiQzMyRjVDN0FiYTgnLFxuICBub25mdW5naWJsZVBvc2l0aW9uTWFuYWdlckFkZHJlc3M6ICcweDM5Q2E4NUFmMkYzODMxOTBjQmY3ZDdjNDFFRDkyMDJEMjc0MjZFRjYnLFxuICB0aWNrTGVuc0FkZHJlc3M6ICcweGU2MTQwQmQxNjRiNjNFOEJmQ2ZjNDBENWRGOTUyZjgzZTE3MTc1OGUnXG59O1xuLy8gb3B0aW1pc20gc2Vwb2xpYSBhZGRyZXNzZXNcbnZhciBPUFRJTUlTTV9TRVBPTElBX0FERFJFU1NFUyA9IHtcbiAgdjNDb3JlRmFjdG9yeUFkZHJlc3M6ICcweDhDRTE5MTE5M0QxNWVhOTRlMTFkMzI3YjRjN2FkOGJiRTUyMGY2YUYnLFxuICBtdWx0aWNhbGxBZGRyZXNzOiAnMHg4MGU0ZTA2ODQxYmI3NkFBOTczNUUwNDQ4Y0I4ZDAwM0MwRUYwMDlhJyxcbiAgcXVvdGVyQWRkcmVzczogJzB4MEZCRWE2Y2Y5NTdkOTVlZTkzMTM0OTAwNTBGNkEwREE2ODAzOTQwNCcsXG4gIHYzTWlncmF0b3JBZGRyZXNzOiAnMHhFN0VjYkFBYUE1NEQwMDdBMDBkYmI2YzFkMmYxNTAwNjZENjlkQTA3JyxcbiAgbm9uZnVuZ2libGVQb3NpdGlvbk1hbmFnZXJBZGRyZXNzOiAnMHhkQTc1Y0VmMUM5MzA3OGU4YjczNkZDQTVENWEzMGFkYjk3Qzg5NTdkJyxcbiAgdGlja0xlbnNBZGRyZXNzOiAnMHhDYjdmNTQ3NDdGNThGODk0NDk3M2NlYTViOGY0YWMyMjA5QmFkREM1JyxcbiAgc3dhcFJvdXRlcjAyQWRkcmVzczogJzB4OTRjQzBBYUM1MzVDQ0RCM0MwMWQ2Nzg3RDY0MTNDNzM5YWUxMmJjNCdcbn07XG4vLyBhcmJpdHJ1bSBnb2VybGkgdjMgYWRkcmVzc2VzXG52YXIgQVJCSVRSVU1fR09FUkxJX0FERFJFU1NFUyA9IHtcbiAgdjNDb3JlRmFjdG9yeUFkZHJlc3M6ICcweDQ4OTMzNzYzNDJkNUQ3YjNlMzFkNDE4NGMwOGIyNjVlNWFCMkEzZjYnLFxuICBtdWx0aWNhbGxBZGRyZXNzOiAnMHg4MjYwQ0I0MDI0NzI5MDMxN2E0YzA2MkYzNTQyNjIyMzY3RjIwNkVlJyxcbiAgcXVvdGVyQWRkcmVzczogJzB4MWRkOTJiODM1OTE3ODFEMEM2ZDk4ZDA3MzkxZWVhNGI5YTYwMDhGQScsXG4gIHYzTWlncmF0b3JBZGRyZXNzOiAnMHhBODE1OTE5RDI1ODRBYzNGNzZlYTlDQjYyRTZGZDQwYTQzQkNlMEMzJyxcbiAgbm9uZnVuZ2libGVQb3NpdGlvbk1hbmFnZXJBZGRyZXNzOiAnMHg2MjJlNDcyNmExNjc3OTk4MjZkMUUxRDE1MGIwNzZBNzcyNWY1RDgxJyxcbiAgdGlja0xlbnNBZGRyZXNzOiAnMHhiNTI0MjkzMzNkYTk2OWEwQzc5YTYwOTMwYTRCZjAwMjBFNUQxREU4J1xufTtcbi8vIGFyYml0cnVtIHNlcG9saWEgdjMgYWRkcmVzc2VzXG52YXIgQVJCSVRSVU1fU0VQT0xJQV9BRERSRVNTRVMgPSB7XG4gIHYzQ29yZUZhY3RvcnlBZGRyZXNzOiAnMHgyNDhBQjc5QmJiOWJDMjliQjcyZjdDZDQyRjE3ZTA1NEZjNDAxODhlJyxcbiAgbXVsdGljYWxsQWRkcmVzczogJzB4MkI3MThiNDc1ZTM4NWVEMjlGNTY3NzVhNjZhQUIxRjVjQzZCMkEwQScsXG4gIHF1b3RlckFkZHJlc3M6ICcweDI3NzlhMENDMWMzZTBFNDREMjU0MkVDM2U3OWUzODY0QWU5M0VmMEInLFxuICB2M01pZ3JhdG9yQWRkcmVzczogJzB4Mzk4ZjQzZWYyYzY3Qjk0MTE0NzE1N0RBMWM1YTg2OEU5MDZFMDQzRCcsXG4gIG5vbmZ1bmdpYmxlUG9zaXRpb25NYW5hZ2VyQWRkcmVzczogJzB4NmIyOTM3QmRlMTc4ODlFRENmOGZiRDhkRTMxQzNDMmE3MEJjNGQ2NScsXG4gIHRpY2tMZW5zQWRkcmVzczogJzB4MGZkMTg1ODc3MzRlNUMyZGNFMmRjY0RjQzdERDFFQzg5YmE1NTdkOScsXG4gIHN3YXBSb3V0ZXIwMkFkZHJlc3M6ICcweDEwMUY0NDNCNGQxYjA1OTU2OUQ2NDM5MTc1NTNjNzcxRTFiOTY2M0UnXG59O1xuLy8gc2Vwb2xpYSB2MyBhZGRyZXNzZXNcbnZhciBTRVBPTElBX0FERFJFU1NFUyA9IHtcbiAgdjNDb3JlRmFjdG9yeUFkZHJlc3M6ICcweDAyMjc2MjhmM0YwMjNiYjBCOTgwYjY3RDUyODU3MWM5NWM2RGFDMWMnLFxuICBtdWx0aWNhbGxBZGRyZXNzOiAnMHhEN0YzM2JDZGIyMWIzNTljOGVlNkYwMjUxZDMwRTk0ODMyYmFBZDA3JyxcbiAgcXVvdGVyQWRkcmVzczogJzB4RWQxZjY0NzMzNDVGNDViNzVGODE3OTU5MWRkNWJBMTg4OGNmMkZCMycsXG4gIHYzTWlncmF0b3JBZGRyZXNzOiAnMHg3MjkwMDQxODJjRjAwNUNFQzhCZDg1ZGYxNDAwOTRiNmFDYmU4YjE1JyxcbiAgbm9uZnVuZ2libGVQb3NpdGlvbk1hbmFnZXJBZGRyZXNzOiAnMHgxMjM4NTM2MDcxRTFjNjc3QTYzMjQyOWUzNjU1Yzc5OWIyMmNEQTUyJyxcbiAgdGlja0xlbnNBZGRyZXNzOiAnMHhkN2YzM2JjZGIyMWIzNTljOGVlNmYwMjUxZDMwZTk0ODMyYmFhZDA3JyxcbiAgc3dhcFJvdXRlcjAyQWRkcmVzczogJzB4M2JGQTQ3NjlGQjA5ZWVmQzVhODBkNkU4N2MzQjlDNjUwZjdBZTQ4RScsXG4gIC8vIFRPRE86IHVwZGF0ZSBtaXhlZFJvdXRlUXVvdGVyVjJBZGRyZXNzIG9uY2UgdjQgb24gc2Vwb2xpYSByZWRlcGxveWVkXG4gIG1peGVkUm91dGVRdW90ZXJWMkFkZHJlc3M6ICcweDQ3NDVmNzdiNTZhMGUyMjk0NDI2ZTM5MzZkYzRmYWI2OGQ5NTQzY2QnLFxuICAvLyBUT0RPOiB1cGRhdGUgYWxsIGJlbG93IG9uY2UgdjQgb24gc2Vwb2xpYSByZWRlcGxveWVkXG4gIHY0UG9vbE1hbmFnZXJBZGRyZXNzOiAnMHg4QzRCY0JFNmI5ZUY0Nzg1NWY5N0U2NzUyOTZGQTNGNmZhZmE1RjFBJyxcbiAgdjRQb3NpdGlvbk1hbmFnZXJBZGRyZXNzOiAnMHgxQjFDNzdCNjA2ZDEzYjA5Qzg0ZDFjNzM5NEI5NmIxNDdiQzAzMTQ3JyxcbiAgdjRTdGF0ZVZpZXc6ICcweDgyM2Q0NWIxMzI5YmNGM2IzNjlGMDhGMzZiYTI2OTBGZjhlMDU4QzMnLFxuICB2NFF1b3RlckFkZHJlc3M6ICcweENkODcxNjM5NUQ1NWFEMTc0OTY0NDhhNGIyQzQyNTU3MDAxZTk3NDMnXG59O1xuLy8gQXZhbGFuY2hlIHYzIGFkZHJlc3Nlc1xudmFyIEFWQUxBTkNIRV9BRERSRVNTRVMgPSB7XG4gIHYzQ29yZUZhY3RvcnlBZGRyZXNzOiAnMHg3NDBiMWMxZGUyNTAzMUMzMUZGNGZDOUE2MmY1NTRBNTVjZEMxYmFEJyxcbiAgbXVsdGljYWxsQWRkcmVzczogJzB4MDEzOTE0MUNkNEVlODhkRjNDZGI2NTg4MUQ0MTFiQUUyNzFFZjBDMicsXG4gIHF1b3RlckFkZHJlc3M6ICcweGJlMEY1NTQ0RUM2N2U5QjNiMkQ5NzlhYUE0M2YxOEZkODdFNjI1N0YnLFxuICB2M01pZ3JhdG9yQWRkcmVzczogJzB4NDRmNWYxZjVFNDUyZWE4ZDI5Qzg5MEU4RjZlODkzZkMwZjFmMGY5NycsXG4gIG5vbmZ1bmdpYmxlUG9zaXRpb25NYW5hZ2VyQWRkcmVzczogJzB4NjU1QzQwNkVCRmExNEVFMjAwNjI1MDkyNWU1NGVjNDNBRDE4NGY4QicsXG4gIHRpY2tMZW5zQWRkcmVzczogJzB4RUI5ZkZDOGJmODFiNGZGZDExZmI2QTYzYTZCMGYwOThjNmUyMTk1MCcsXG4gIHN3YXBSb3V0ZXIwMkFkZHJlc3M6ICcweGJiMDBGRjA4ZDAxRDMwMDAyM0M2MjlFOGZGZkZjYjY1QTVhNTc4Y0UnXG59O1xudmFyIEJBU0VfQUREUkVTU0VTID0ge1xuICB2M0NvcmVGYWN0b3J5QWRkcmVzczogJzB4MzMxMjhhOGZDMTc4Njk4OTdkY0U2OEVkMDI2ZDY5NDYyMWY2RkRmRCcsXG4gIG11bHRpY2FsbEFkZHJlc3M6ICcweDA5MWU5OWNiMUM0OTMzMWE5NGRENjI3NTVEMTY4RTk0MUFiRDA2OTMnLFxuICBxdW90ZXJBZGRyZXNzOiAnMHgzZDRlNDRFYjEzNzQyNDBDRTVGMUI4NzFhYjI2MUNEMTYzMzVCNzZhJyxcbiAgdjNNaWdyYXRvckFkZHJlc3M6ICcweDIzY0YxMGIxZWUzQWRmQ0E3M0IwZUYxN0MwN0Y3NTc3ZTdBQ2QyZDcnLFxuICBub25mdW5naWJsZVBvc2l0aW9uTWFuYWdlckFkZHJlc3M6ICcweDAzYTUyMGIzMkMwNEJGM2JFRWY3QkViNzJFOTE5Y2Y4MjJFZDM0ZjEnLFxuICB0aWNrTGVuc0FkZHJlc3M6ICcweDBDZGVFMDYxYzc1RDQzYzgyNTIwZUQ5OThDMjNhYzI5OTFjOWFjNmQnLFxuICBzd2FwUm91dGVyMDJBZGRyZXNzOiAnMHgyNjI2NjY0YzI2MDMzMzZFNTdCMjcxYzVDMGIyNkY0MjE3NDFlNDgxJyxcbiAgbWl4ZWRSb3V0ZVF1b3RlclYxQWRkcmVzczogJzB4ZTU0NGVmYWU5NDZmMDAwOGFlOWE4ZDY0NDkzZWZhNzg4NmI3Mzc3Nidcbn07XG4vLyBCYXNlIEdvZXJsaSB2MyBhZGRyZXNzZXNcbnZhciBCQVNFX0dPRVJMSV9BRERSRVNTRVMgPSB7XG4gIHYzQ29yZUZhY3RvcnlBZGRyZXNzOiAnMHg5MzIzYzFkNkQ4MDBlZDUxQmQ3QzZCMjE2Y2ZCZWM2NzhCN2QwQkMyJyxcbiAgbXVsdGljYWxsQWRkcmVzczogJzB4QjIwNjAyN2E5RTBFMTNGMDVlQkVGYTVEMjQwMkJhYjNlQTcxNjQzOScsXG4gIHF1b3RlckFkZHJlc3M6ICcweGVkZjUzOTA1OGUyOEU1OTM3ZEFlZjNmNjljRWQwYjI1ZmJFNjZBZTknLFxuICB2M01pZ3JhdG9yQWRkcmVzczogJzB4M2VmZTVkMDJhMDRiNzM1MUQ2NzFEYjcwMDhlYzZlQkE5QUQ5ZTNhRScsXG4gIG5vbmZ1bmdpYmxlUG9zaXRpb25NYW5hZ2VyQWRkcmVzczogJzB4M2M2MTM2OWVmMEQxRDJBRmE3MGQ4ZmVDMkYzMUM1RDZDZTEzNEYzMCcsXG4gIHRpY2tMZW5zQWRkcmVzczogJzB4MWFjQjg3M0VlOTA5RDBjOThhZEIxOGU0NDc0OTQzMjQ5RjkzMWI5MicsXG4gIHN3YXBSb3V0ZXIwMkFkZHJlc3M6ICcweDgzNTcyMjdENGVEYzc4OTkxRGI2RkRCOWJENkFERTI1MDUzNmRFMWQnXG59O1xudmFyIFpPUkFfQUREUkVTU0VTID0ge1xuICB2M0NvcmVGYWN0b3J5QWRkcmVzczogJzB4NzE0NUY4YWVlZjFmNjUxMEU5MjE2NDAzOEUxQjZGOGNCMmM0MkNiYicsXG4gIG11bHRpY2FsbEFkZHJlc3M6ICcweEE1MWM3NmJFRTY3NDZjQjQ4N2E3ZTkzMTJFNDNlMmI4ZjRBMzdDMTUnLFxuICBxdW90ZXJBZGRyZXNzOiAnMHgxMTg2N2UxYjMzNDhGM2NlNEZjQzE3MEJDNWFmM2QyM0UwN0U2NERmJyxcbiAgdjNNaWdyYXRvckFkZHJlc3M6ICcweDA0ODM1MmQ4ZENGMTM2ODY5ODJDNzk5ZGE2M2ZBNjQyNmE5RDBiNjAnLFxuICBub25mdW5naWJsZVBvc2l0aW9uTWFuYWdlckFkZHJlc3M6ICcweGJDOTFlOERmQTNmRjE4RGU0Mzg1MzM3MkEzZDdkZmU1ODUxMzdENzgnLFxuICB0aWNrTGVuc0FkZHJlc3M6ICcweDIwOUFBZGEwOUQ3NEFkM0I4RDBFOTI5MTBFYWY4NUQyMzU3ZTMwNDQnLFxuICBzd2FwUm91dGVyMDJBZGRyZXNzOiAnMHg3RGUwNGM5NkJFNTE1OWMzYjVDZWZmQzgyYWExNzZkYzgxMjgxNTU3J1xufTtcbnZhciBaT1JBX1NFUE9MSUFfQUREUkVTU0VTID0ge1xuICB2M0NvcmVGYWN0b3J5QWRkcmVzczogJzB4NDMyNEE2NzdENzQ3NjRmNDZmMzNFRDQ0Nzk2NDI1MjQ0MWFBOERiNicsXG4gIG11bHRpY2FsbEFkZHJlc3M6ICcweEExRTdlM0E2OTY3MUM0NDk0RUM1OURiZDQ0MmRlOTMwYTkzRjkxMUEnLFxuICBxdW90ZXJBZGRyZXNzOiAnMHhDMTk1OTc2ZkVGMDk4NTg4NkUzNzAzNkUyREY2MmJGMzcxRTEyRGYwJyxcbiAgdjNNaWdyYXRvckFkZHJlc3M6ICcweDY1ZWYyNTliMzFiZjFkOTc3YzM3ZTk0MzQ2NTg2OTQyNjc2NzQ4OTcnLFxuICBub25mdW5naWJsZVBvc2l0aW9uTWFuYWdlckFkZHJlc3M6ICcweEI4NDU4RWFBZTQzMjkyZTNjMUY3OTk0RUZkMDE2YmQ2NTNkMjNjMjAnLFxuICB0aWNrTGVuc0FkZHJlc3M6ICcweDIzQzBGNzE4NzdhMUZjNGUyMEE3ODAxOGY5ODMxMzY1Yzg1ZjMwNjQnXG59O1xudmFyIFJPT1RTVE9DS19BRERSRVNTRVMgPSB7XG4gIHYzQ29yZUZhY3RvcnlBZGRyZXNzOiAnMHhhRjM3RUM5OEEwMEZENjM2ODlDRjMwNjBCRjNCNjc4NEUwMGNhRDgyJyxcbiAgbXVsdGljYWxsQWRkcmVzczogJzB4OTk2YTk4NThjRGZhNDVBZDY4RTQ3YzlBMzBhNzIwMUUyOWM2YTM4NicsXG4gIHF1b3RlckFkZHJlc3M6ICcweGI1MTcyN2M5OTZDNjhFNjBGNTk4QTkyM2E1MDA2ODUzY2QyZkVCMzEnLFxuICB2M01pZ3JhdG9yQWRkcmVzczogJzB4MTY2Nzg5NzdDQTRlYzNEQUQ1ZWZjN2IxNTc4MDI5NUZFNWY1NjE2MicsXG4gIG5vbmZ1bmdpYmxlUG9zaXRpb25NYW5hZ2VyQWRkcmVzczogJzB4OWQ5Mzg2YzA0MkYxOTRCNDYwRWM0MjRhMWU1N0FDREUyNWY1QzRiMScsXG4gIHRpY2tMZW5zQWRkcmVzczogJzB4NTVCOWRGNWJGNjhBRGU5NzIxOTFhOTE5ODA0NTlmNDhlY0ExNmFmQycsXG4gIHN3YXBSb3V0ZXIwMkFkZHJlc3M6ICcweDBCMTRmZjY3ZjAwMTQwNDZiNGI5OTA1N0FlYzQ1MDk2NDBiMzk0N0EnXG59O1xudmFyIEJMQVNUX0FERFJFU1NFUyA9IHtcbiAgdjNDb3JlRmFjdG9yeUFkZHJlc3M6ICcweDc5MmVkQWRFODBhZjVmQzY4MGQ5NmEyZUQ4MEE0NDI0N0QyQ2Y2RmQnLFxuICBtdWx0aWNhbGxBZGRyZXNzOiAnMHhkQzdmMzcwZGU3NjMxY0U5ZTJjMmUxRENEQTZCM0I1NzQ0Q2Y0NzA1JyxcbiAgcXVvdGVyQWRkcmVzczogJzB4NkNkY2Q2NWUwM2MxQ0VjMzczMEFlZUNkNDViYzE0MEQ1N0EyNUM3NycsXG4gIHYzTWlncmF0b3JBZGRyZXNzOiAnMHgxNUNBNzA0M0NEODRDNUQyMUFlNzZCYTBBMUE5NjdkNDJjNDBlY0UwJyxcbiAgbm9uZnVuZ2libGVQb3NpdGlvbk1hbmFnZXJBZGRyZXNzOiAnMHhCMjE4ZTRmN2NGMDUzM2Q0Njk2ZkRmQzQxOUEwMDIzRDMzMzQ1RjI4JyxcbiAgdGlja0xlbnNBZGRyZXNzOiAnMHgyRTk1MTg1YkNkRDkyOGEzZTk4NEI3ZTJENjU2MEFiMWIxN2Q3Mjc0JyxcbiAgc3dhcFJvdXRlcjAyQWRkcmVzczogJzB4NTQ5RkVCOGM5YmQ0YzEyQWQyQUIyNzAyMmRBMTI0OTJhQzQ1MkI2Nidcbn07XG52YXIgWktTWU5DX0FERFJFU1NFUyA9IHtcbiAgdjNDb3JlRmFjdG9yeUFkZHJlc3M6ICcweDhGZEE1YTdhOGRDQTY3QkJjRGQxMEYwMkZhMDY0OUE5MzcyMTU0MjInLFxuICBtdWx0aWNhbGxBZGRyZXNzOiAnMHgwYzY4YTdDNzJmMDc0ZDFjNDVDMTZkNDFmYTc0ZUViQzZEMTZhNjVDJyxcbiAgcXVvdGVyQWRkcmVzczogJzB4OENiNTM3ZmM5MkUyNmQ4RUJCYjc2MEU2MzJjOTU0ODRiNkVhM2UyOCcsXG4gIHYzTWlncmF0b3JBZGRyZXNzOiAnMHg2MTE4NDFiMjRFNDNDNEFDZmQyOTBCNDI3YTNENmNmMUE1OWRhYzhFJyxcbiAgbm9uZnVuZ2libGVQb3NpdGlvbk1hbmFnZXJBZGRyZXNzOiAnMHgwNjE2ZTU3NjJjMUU3RGMzNzIzYzUwNjYzZEYxMGExNjJENjkwYTg2JyxcbiAgdGlja0xlbnNBZGRyZXNzOiAnMHhlMTBGRjExYjgwOWY4RUUwN2IwNTZCNDUyYzNCMmNhYTdGRTI0Zjg5JyxcbiAgc3dhcFJvdXRlcjAyQWRkcmVzczogJzB4OTljNTYzODVkYUJDRTNFODFkODQ5OWQwYjhkMDI1N2FCQzA3RThBMydcbn07XG52YXIgV09STERDSEFJTl9BRERSRVNTRVMgPSB7XG4gIHYzQ29yZUZhY3RvcnlBZGRyZXNzOiAnMHg3YTUwMjhCRGE0MGU3QjE3M0MyNzhDNTM0MjA4NzgyNjQ1NWVhMjVhJyxcbiAgbXVsdGljYWxsQWRkcmVzczogJzB4MGEyMmMwNDIxNWM5N0UzRjUzMkY0ZUYzMGUwYUQ5NDU4NzkyZEFCOScsXG4gIHF1b3RlckFkZHJlc3M6ICcweDEwMTU4RDQzZTZjYzQxNGRlRTFCZDFlQjBFZkM2YTVjQkNmRjI0NGMnLFxuICB2M01pZ3JhdG9yQWRkcmVzczogJzB4OUVCRGRDQmE3MUM5MDI3RTFlQjQ1MTM1NjcyYTMwYmNGRWVjOWRlMycsXG4gIG5vbmZ1bmdpYmxlUG9zaXRpb25NYW5hZ2VyQWRkcmVzczogJzB4ZWMxMmE5RjlhMDlmNTA1NTA2ODYzNjM3NjZDYzE1M0QwM2MyN2I1ZScsXG4gIHRpY2tMZW5zQWRkcmVzczogJzB4RTYxZGYwQ2FDOWQ4NTg3NmFDRTVFMzAzNzAwNUQ4MDk0MzU3MDYyMycsXG4gIHN3YXBSb3V0ZXIwMkFkZHJlc3M6ICcweDA5MUFEOWUyZTZlNWVENDRjMWM2NmRCNTBlNDlBNjAxRjlmMzZjRjYnXG59O1xudmFyIEFTVFJPQ0hBSU5fU0VQT0xJQV9BRERSRVNTRVMgPSB7XG4gIHYzQ29yZUZhY3RvcnlBZGRyZXNzOiAnMHgxRjk4NDMxYzhhRDk4NTIzNjMxQUU0YTU5ZjI2NzM0NmVhMzFGOTg0JyxcbiAgbXVsdGljYWxsQWRkcmVzczogJzB4OUQwRjE1ZjJjZjU4NjU1ZkREY0QxRUU2MTI5QzU0N2ZEYWVEMDFiMScsXG4gIHF1b3RlckFkZHJlc3M6ICcweDZEZDM3MzI5QTFBMjI1YTZGY2E2NTgyNjVENDYwNDIzRENhZkJGODknLFxuICB2M01pZ3JhdG9yQWRkcmVzczogJzB4YjVGQTI0NEM5ZDZEMDRCMkZCYWM4NDQxOGIzYzQ5MTBFRDFBZTVmMicsXG4gIG5vbmZ1bmdpYmxlUG9zaXRpb25NYW5hZ2VyQWRkcmVzczogJzB4QjdGNzI0ZDZkRERGZDAwOGVGZjVjYzI4MzRlZERFNUY5ZUYwZDA3NScsXG4gIHRpY2tMZW5zQWRkcmVzczogJzB4NWY3MzljNzkwYTQ4RTk3ZWVjMGVmYjgxYmFiNUQxNTJjMEEwZWNBMCcsXG4gIHN3YXBSb3V0ZXIwMkFkZHJlc3M6ICcweGQxQUFFMzkyOTMyMjFCNzdCMEM3MWZCRDZkQ2I3RWEyOUJiNUIxNjYnLFxuICB2NFBvb2xNYW5hZ2VyQWRkcmVzczogJzB4MzhFQjhCMjJEZjNBZTdmYjIxZTkyODgxMTUxQjM2NURmMTRiYTk2NycsXG4gIHY0UG9zaXRpb25NYW5hZ2VyQWRkcmVzczogJzB4MDVkZUQzRjhhOGU4NDcwMGQ2OEE0RDgxY2Q2NzgwYzk4MmRCMTNGOScsXG4gIHY0U3RhdGVWaWV3OiAnMHhhZDMyODQzOURDYTdjZTg1NzY2MmFmQTQ1ODRBM2Q1NzFiYkREQzc1JyxcbiAgdjRRdW90ZXJBZGRyZXNzOiAnMHgyY2ZhODc2NTFEM0FCMDVCYzU5RTMyNUU1ZWFDODQ5NUNGMzRjRTU1J1xufTtcbnZhciBDSEFJTl9UT19BRERSRVNTRVNfTUFQID0gKF9DSEFJTl9UT19BRERSRVNTRVNfTSA9IHt9LCBfQ0hBSU5fVE9fQUREUkVTU0VTX01bQ2hhaW5JZC5NQUlOTkVUXSA9IE1BSU5ORVRfQUREUkVTU0VTLCBfQ0hBSU5fVE9fQUREUkVTU0VTX01bQ2hhaW5JZC5PUFRJTUlTTV0gPSBPUFRJTUlTTV9BRERSRVNTRVMsIF9DSEFJTl9UT19BRERSRVNTRVNfTVtDaGFpbklkLkFSQklUUlVNX09ORV0gPSBBUkJJVFJVTV9PTkVfQUREUkVTU0VTLCBfQ0hBSU5fVE9fQUREUkVTU0VTX01bQ2hhaW5JZC5QT0xZR09OXSA9IFBPTFlHT05fQUREUkVTU0VTLCBfQ0hBSU5fVE9fQUREUkVTU0VTX01bQ2hhaW5JZC5QT0xZR09OX01VTUJBSV0gPSBQT0xZR09OX0FERFJFU1NFUywgX0NIQUlOX1RPX0FERFJFU1NFU19NW0NoYWluSWQuR09FUkxJXSA9IEdPRVJMSV9BRERSRVNTRVMsIF9DSEFJTl9UT19BRERSRVNTRVNfTVtDaGFpbklkLkNFTE9dID0gQ0VMT19BRERSRVNTRVMsIF9DSEFJTl9UT19BRERSRVNTRVNfTVtDaGFpbklkLkNFTE9fQUxGQUpPUkVTXSA9IENFTE9fQUREUkVTU0VTLCBfQ0hBSU5fVE9fQUREUkVTU0VTX01bQ2hhaW5JZC5CTkJdID0gQk5CX0FERFJFU1NFUywgX0NIQUlOX1RPX0FERFJFU1NFU19NW0NoYWluSWQuT1BUSU1JU01fR09FUkxJXSA9IE9QVElNSVNNX0dPRVJMSV9BRERSRVNTRVMsIF9DSEFJTl9UT19BRERSRVNTRVNfTVtDaGFpbklkLk9QVElNSVNNX1NFUE9MSUFdID0gT1BUSU1JU01fU0VQT0xJQV9BRERSRVNTRVMsIF9DSEFJTl9UT19BRERSRVNTRVNfTVtDaGFpbklkLkFSQklUUlVNX0dPRVJMSV0gPSBBUkJJVFJVTV9HT0VSTElfQUREUkVTU0VTLCBfQ0hBSU5fVE9fQUREUkVTU0VTX01bQ2hhaW5JZC5BUkJJVFJVTV9TRVBPTElBXSA9IEFSQklUUlVNX1NFUE9MSUFfQUREUkVTU0VTLCBfQ0hBSU5fVE9fQUREUkVTU0VTX01bQ2hhaW5JZC5TRVBPTElBXSA9IFNFUE9MSUFfQUREUkVTU0VTLCBfQ0hBSU5fVE9fQUREUkVTU0VTX01bQ2hhaW5JZC5BVkFMQU5DSEVdID0gQVZBTEFOQ0hFX0FERFJFU1NFUywgX0NIQUlOX1RPX0FERFJFU1NFU19NW0NoYWluSWQuQkFTRV0gPSBCQVNFX0FERFJFU1NFUywgX0NIQUlOX1RPX0FERFJFU1NFU19NW0NoYWluSWQuQkFTRV9HT0VSTEldID0gQkFTRV9HT0VSTElfQUREUkVTU0VTLCBfQ0hBSU5fVE9fQUREUkVTU0VTX01bQ2hhaW5JZC5aT1JBXSA9IFpPUkFfQUREUkVTU0VTLCBfQ0hBSU5fVE9fQUREUkVTU0VTX01bQ2hhaW5JZC5aT1JBX1NFUE9MSUFdID0gWk9SQV9TRVBPTElBX0FERFJFU1NFUywgX0NIQUlOX1RPX0FERFJFU1NFU19NW0NoYWluSWQuUk9PVFNUT0NLXSA9IFJPT1RTVE9DS19BRERSRVNTRVMsIF9DSEFJTl9UT19BRERSRVNTRVNfTVtDaGFpbklkLkJMQVNUXSA9IEJMQVNUX0FERFJFU1NFUywgX0NIQUlOX1RPX0FERFJFU1NFU19NW0NoYWluSWQuWktTWU5DXSA9IFpLU1lOQ19BRERSRVNTRVMsIF9DSEFJTl9UT19BRERSRVNTRVNfTVtDaGFpbklkLldPUkxEQ0hBSU5dID0gV09STERDSEFJTl9BRERSRVNTRVMsIF9DSEFJTl9UT19BRERSRVNTRVNfTVtDaGFpbklkLkFTVFJPQ0hBSU5fU0VQT0xJQV0gPSBBU1RST0NIQUlOX1NFUE9MSUFfQUREUkVTU0VTLCBfQ0hBSU5fVE9fQUREUkVTU0VTX00pO1xuLyogVjMgQ29udHJhY3QgQWRkcmVzc2VzICovXG52YXIgVjNfQ09SRV9GQUNUT1JZX0FERFJFU1NFUyA9IC8qI19fUFVSRV9fKi9fZXh0ZW5kcyh7fSwgLyojX19QVVJFX18qL1NVUFBPUlRFRF9DSEFJTlMucmVkdWNlKGZ1bmN0aW9uIChtZW1vLCBjaGFpbklkKSB7XG4gIG1lbW9bY2hhaW5JZF0gPSBDSEFJTl9UT19BRERSRVNTRVNfTUFQW2NoYWluSWRdLnYzQ29yZUZhY3RvcnlBZGRyZXNzO1xuICByZXR1cm4gbWVtbztcbn0sIHt9KSk7XG52YXIgVjNfTUlHUkFUT1JfQUREUkVTU0VTID0gLyojX19QVVJFX18qL19leHRlbmRzKHt9LCAvKiNfX1BVUkVfXyovU1VQUE9SVEVEX0NIQUlOUy5yZWR1Y2UoZnVuY3Rpb24gKG1lbW8sIGNoYWluSWQpIHtcbiAgdmFyIHYzTWlncmF0b3JBZGRyZXNzID0gQ0hBSU5fVE9fQUREUkVTU0VTX01BUFtjaGFpbklkXS52M01pZ3JhdG9yQWRkcmVzcztcbiAgaWYgKHYzTWlncmF0b3JBZGRyZXNzKSB7XG4gICAgbWVtb1tjaGFpbklkXSA9IHYzTWlncmF0b3JBZGRyZXNzO1xuICB9XG4gIHJldHVybiBtZW1vO1xufSwge30pKTtcbnZhciBNVUxUSUNBTExfQUREUkVTU0VTID0gLyojX19QVVJFX18qL19leHRlbmRzKHt9LCAvKiNfX1BVUkVfXyovU1VQUE9SVEVEX0NIQUlOUy5yZWR1Y2UoZnVuY3Rpb24gKG1lbW8sIGNoYWluSWQpIHtcbiAgbWVtb1tjaGFpbklkXSA9IENIQUlOX1RPX0FERFJFU1NFU19NQVBbY2hhaW5JZF0ubXVsdGljYWxsQWRkcmVzcztcbiAgcmV0dXJuIG1lbW87XG59LCB7fSkpO1xuLyoqXHJcbiAqIFRoZSBvbGRlc3QgVjAgZ292ZXJuYW5jZSBhZGRyZXNzXHJcbiAqL1xudmFyIEdPVkVSTkFOQ0VfQUxQSEFfVjBfQUREUkVTU0VTID0gLyojX19QVVJFX18qL2NvbnN0cnVjdFNhbWVBZGRyZXNzTWFwKCcweDVlNGJlOEJjOTYzN2YwRUFBMUE3NTUwMTllMDZBNjhjZTA4MUQ1OEYnKTtcbi8qKlxyXG4gKiBUaGUgb2xkZXIgVjEgZ292ZXJuYW5jZSBhZGRyZXNzXHJcbiAqL1xudmFyIEdPVkVSTkFOQ0VfQUxQSEFfVjFfQUREUkVTU0VTID0gKF9HT1ZFUk5BTkNFX0FMUEhBX1YxXyA9IHt9LCBfR09WRVJOQU5DRV9BTFBIQV9WMV9bQ2hhaW5JZC5NQUlOTkVUXSA9ICcweEM0ZTE3MjQ1OWYxRTc5MzlENTIyNTAzQjgxQUZBYUMxMDE0Q0U2RjYnLCBfR09WRVJOQU5DRV9BTFBIQV9WMV8pO1xuLyoqXHJcbiAqIFRoZSBsYXRlc3QgZ292ZXJub3IgYnJhdm8gdGhhdCBpcyBjdXJyZW50bHkgYWRtaW4gb2YgdGltZWxvY2tcclxuICovXG52YXIgR09WRVJOQU5DRV9CUkFWT19BRERSRVNTRVMgPSAoX0dPVkVSTkFOQ0VfQlJBVk9fQUREID0ge30sIF9HT1ZFUk5BTkNFX0JSQVZPX0FERFtDaGFpbklkLk1BSU5ORVRdID0gJzB4NDA4RUQ2MzU0ZDQ5NzNmNjYxMzhDOTE0OTVGMmYyRkNiZDg3MjRDMycsIF9HT1ZFUk5BTkNFX0JSQVZPX0FERCk7XG52YXIgVElNRUxPQ0tfQUREUkVTU0VTID0gLyojX19QVVJFX18qL2NvbnN0cnVjdFNhbWVBZGRyZXNzTWFwKCcweDFhOUM4MTgyQzA5RjUwQzgzMThkNzY5MjQ1YmVBNTJjMzJCRTM1QkMnKTtcbnZhciBNRVJLTEVfRElTVFJJQlVUT1JfQUREUkVTUyA9IChfTUVSS0xFX0RJU1RSSUJVVE9SX0EgPSB7fSwgX01FUktMRV9ESVNUUklCVVRPUl9BW0NoYWluSWQuTUFJTk5FVF0gPSAnMHgwOTBENDYxMzQ3M2RFRTA0N2MzZjI3MDY3NjRmNDlFMDgyMUQyNTZlJywgX01FUktMRV9ESVNUUklCVVRPUl9BKTtcbnZhciBBUkdFTlRfV0FMTEVUX0RFVEVDVE9SX0FERFJFU1MgPSAoX0FSR0VOVF9XQUxMRVRfREVURUNUID0ge30sIF9BUkdFTlRfV0FMTEVUX0RFVEVDVFtDaGFpbklkLk1BSU5ORVRdID0gJzB4ZWNhNEIwYkRCZjdjNTVFOWI3OTI1OTE5ZDAzQ2JGOERjODI1MzdFOCcsIF9BUkdFTlRfV0FMTEVUX0RFVEVDVCk7XG52YXIgUVVPVEVSX0FERFJFU1NFUyA9IC8qI19fUFVSRV9fKi9fZXh0ZW5kcyh7fSwgLyojX19QVVJFX18qL1NVUFBPUlRFRF9DSEFJTlMucmVkdWNlKGZ1bmN0aW9uIChtZW1vLCBjaGFpbklkKSB7XG4gIG1lbW9bY2hhaW5JZF0gPSBDSEFJTl9UT19BRERSRVNTRVNfTUFQW2NoYWluSWRdLnF1b3RlckFkZHJlc3M7XG4gIHJldHVybiBtZW1vO1xufSwge30pKTtcbnZhciBOT05GVU5HSUJMRV9QT1NJVElPTl9NQU5BR0VSX0FERFJFU1NFUyA9IC8qI19fUFVSRV9fKi9fZXh0ZW5kcyh7fSwgLyojX19QVVJFX18qL1NVUFBPUlRFRF9DSEFJTlMucmVkdWNlKGZ1bmN0aW9uIChtZW1vLCBjaGFpbklkKSB7XG4gIHZhciBub25mdW5naWJsZVBvc2l0aW9uTWFuYWdlckFkZHJlc3MgPSBDSEFJTl9UT19BRERSRVNTRVNfTUFQW2NoYWluSWRdLm5vbmZ1bmdpYmxlUG9zaXRpb25NYW5hZ2VyQWRkcmVzcztcbiAgaWYgKG5vbmZ1bmdpYmxlUG9zaXRpb25NYW5hZ2VyQWRkcmVzcykge1xuICAgIG1lbW9bY2hhaW5JZF0gPSBub25mdW5naWJsZVBvc2l0aW9uTWFuYWdlckFkZHJlc3M7XG4gIH1cbiAgcmV0dXJuIG1lbW87XG59LCB7fSkpO1xudmFyIEVOU19SRUdJU1RSQVJfQUREUkVTU0VTID0gLyojX19QVVJFX18qL19leHRlbmRzKHt9LCAvKiNfX1BVUkVfXyovY29uc3RydWN0U2FtZUFkZHJlc3NNYXAoJzB4MDAwMDAwMDAwMDBDMkUwNzRlQzY5QTBkRmIyOTk3QkE2QzdkMmUxZScpKTtcbnZhciBTT0NLU19DT05UUk9MTEVSX0FERFJFU1NFUyA9IChfU09DS1NfQ09OVFJPTExFUl9BREQgPSB7fSwgX1NPQ0tTX0NPTlRST0xMRVJfQUREW0NoYWluSWQuTUFJTk5FVF0gPSAnMHg2NTc3MGI1MjgzMTE3NjM5NzYwYmVBM0Y4NjdiNjliMzY5N2E5MWRkJywgX1NPQ0tTX0NPTlRST0xMRVJfQUREKTtcbnZhciBUSUNLX0xFTlNfQUREUkVTU0VTID0gLyojX19QVVJFX18qL19leHRlbmRzKHt9LCAvKiNfX1BVUkVfXyovU1VQUE9SVEVEX0NIQUlOUy5yZWR1Y2UoZnVuY3Rpb24gKG1lbW8sIGNoYWluSWQpIHtcbiAgdmFyIHRpY2tMZW5zQWRkcmVzcyA9IENIQUlOX1RPX0FERFJFU1NFU19NQVBbY2hhaW5JZF0udGlja0xlbnNBZGRyZXNzO1xuICBpZiAodGlja0xlbnNBZGRyZXNzKSB7XG4gICAgbWVtb1tjaGFpbklkXSA9IHRpY2tMZW5zQWRkcmVzcztcbiAgfVxuICByZXR1cm4gbWVtbztcbn0sIHt9KSk7XG52YXIgTUlYRURfUk9VVEVfUVVPVEVSX1YxX0FERFJFU1NFUyA9IC8qI19fUFVSRV9fKi9TVVBQT1JURURfQ0hBSU5TLnJlZHVjZShmdW5jdGlvbiAobWVtbywgY2hhaW5JZCkge1xuICB2YXIgbWl4ZWRSb3V0ZVF1b3RlclYxQWRkcmVzcyA9IENIQUlOX1RPX0FERFJFU1NFU19NQVBbY2hhaW5JZF0ubWl4ZWRSb3V0ZVF1b3RlclYxQWRkcmVzcztcbiAgaWYgKG1peGVkUm91dGVRdW90ZXJWMUFkZHJlc3MpIHtcbiAgICBtZW1vW2NoYWluSWRdID0gbWl4ZWRSb3V0ZVF1b3RlclYxQWRkcmVzcztcbiAgfVxuICByZXR1cm4gbWVtbztcbn0sIHt9KTtcbnZhciBTV0FQX1JPVVRFUl8wMl9BRERSRVNTRVMgPSBmdW5jdGlvbiBTV0FQX1JPVVRFUl8wMl9BRERSRVNTRVMoY2hhaW5JZCkge1xuICBpZiAoU1VQUE9SVEVEX0NIQUlOUy5pbmNsdWRlcyhjaGFpbklkKSkge1xuICAgIHZhciBfQ0hBSU5fVE9fQUREUkVTU0VTX00yO1xuICAgIHZhciBpZCA9IGNoYWluSWQ7XG4gICAgcmV0dXJuIChfQ0hBSU5fVE9fQUREUkVTU0VTX00yID0gQ0hBSU5fVE9fQUREUkVTU0VTX01BUFtpZF0uc3dhcFJvdXRlcjAyQWRkcmVzcykgIT0gbnVsbCA/IF9DSEFJTl9UT19BRERSRVNTRVNfTTIgOiAnMHg2OGIzNDY1ODMzZmI3MkE3MGVjREY0ODVFMGU0QzdiRDg2NjVGYzQ1JztcbiAgfVxuICByZXR1cm4gJyc7XG59O1xuXG52YXIgVHJhZGVUeXBlO1xuKGZ1bmN0aW9uIChUcmFkZVR5cGUpIHtcbiAgVHJhZGVUeXBlW1RyYWRlVHlwZVtcIkVYQUNUX0lOUFVUXCJdID0gMF0gPSBcIkVYQUNUX0lOUFVUXCI7XG4gIFRyYWRlVHlwZVtUcmFkZVR5cGVbXCJFWEFDVF9PVVRQVVRcIl0gPSAxXSA9IFwiRVhBQ1RfT1VUUFVUXCI7XG59KShUcmFkZVR5cGUgfHwgKFRyYWRlVHlwZSA9IHt9KSk7XG52YXIgUm91bmRpbmc7XG4oZnVuY3Rpb24gKFJvdW5kaW5nKSB7XG4gIFJvdW5kaW5nW1JvdW5kaW5nW1wiUk9VTkRfRE9XTlwiXSA9IDBdID0gXCJST1VORF9ET1dOXCI7XG4gIFJvdW5kaW5nW1JvdW5kaW5nW1wiUk9VTkRfSEFMRl9VUFwiXSA9IDFdID0gXCJST1VORF9IQUxGX1VQXCI7XG4gIFJvdW5kaW5nW1JvdW5kaW5nW1wiUk9VTkRfVVBcIl0gPSAyXSA9IFwiUk9VTkRfVVBcIjtcbn0pKFJvdW5kaW5nIHx8IChSb3VuZGluZyA9IHt9KSk7XG52YXIgTWF4VWludDI1NiA9IC8qI19fUFVSRV9fKi9KU0JJLkJpZ0ludCgnMHhmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmJyk7XG5cbnZhciBfdG9TaWduaWZpY2FudFJvdW5kaW4sIF90b0ZpeGVkUm91bmRpbmc7XG52YXIgRGVjaW1hbCA9IC8qI19fUFVSRV9fKi90b0Zvcm1hdChfRGVjaW1hbCk7XG52YXIgQmlnID0gLyojX19QVVJFX18qL3RvRm9ybWF0KF9CaWcpO1xudmFyIHRvU2lnbmlmaWNhbnRSb3VuZGluZyA9IChfdG9TaWduaWZpY2FudFJvdW5kaW4gPSB7fSwgX3RvU2lnbmlmaWNhbnRSb3VuZGluW1JvdW5kaW5nLlJPVU5EX0RPV05dID0gRGVjaW1hbC5ST1VORF9ET1dOLCBfdG9TaWduaWZpY2FudFJvdW5kaW5bUm91bmRpbmcuUk9VTkRfSEFMRl9VUF0gPSBEZWNpbWFsLlJPVU5EX0hBTEZfVVAsIF90b1NpZ25pZmljYW50Um91bmRpbltSb3VuZGluZy5ST1VORF9VUF0gPSBEZWNpbWFsLlJPVU5EX1VQLCBfdG9TaWduaWZpY2FudFJvdW5kaW4pO1xudmFyIHRvRml4ZWRSb3VuZGluZyA9IChfdG9GaXhlZFJvdW5kaW5nID0ge30sIF90b0ZpeGVkUm91bmRpbmdbUm91bmRpbmcuUk9VTkRfRE9XTl0gPSAwLCBfdG9GaXhlZFJvdW5kaW5nW1JvdW5kaW5nLlJPVU5EX0hBTEZfVVBdID0gMSwgX3RvRml4ZWRSb3VuZGluZ1tSb3VuZGluZy5ST1VORF9VUF0gPSAzLCBfdG9GaXhlZFJvdW5kaW5nKTtcbnZhciBGcmFjdGlvbiA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIEZyYWN0aW9uKG51bWVyYXRvciwgZGVub21pbmF0b3IpIHtcbiAgICBpZiAoZGVub21pbmF0b3IgPT09IHZvaWQgMCkge1xuICAgICAgZGVub21pbmF0b3IgPSBKU0JJLkJpZ0ludCgxKTtcbiAgICB9XG4gICAgdGhpcy5udW1lcmF0b3IgPSBKU0JJLkJpZ0ludChudW1lcmF0b3IpO1xuICAgIHRoaXMuZGVub21pbmF0b3IgPSBKU0JJLkJpZ0ludChkZW5vbWluYXRvcik7XG4gIH1cbiAgRnJhY3Rpb24udHJ5UGFyc2VGcmFjdGlvbiA9IGZ1bmN0aW9uIHRyeVBhcnNlRnJhY3Rpb24oZnJhY3Rpb25pc2gpIHtcbiAgICBpZiAoZnJhY3Rpb25pc2ggaW5zdGFuY2VvZiBKU0JJIHx8IHR5cGVvZiBmcmFjdGlvbmlzaCA9PT0gJ251bWJlcicgfHwgdHlwZW9mIGZyYWN0aW9uaXNoID09PSAnc3RyaW5nJykgcmV0dXJuIG5ldyBGcmFjdGlvbihmcmFjdGlvbmlzaCk7XG4gICAgaWYgKCdudW1lcmF0b3InIGluIGZyYWN0aW9uaXNoICYmICdkZW5vbWluYXRvcicgaW4gZnJhY3Rpb25pc2gpIHJldHVybiBmcmFjdGlvbmlzaDtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0NvdWxkIG5vdCBwYXJzZSBmcmFjdGlvbicpO1xuICB9XG4gIC8vIHBlcmZvcm1zIGZsb29yIGRpdmlzaW9uXG4gIDtcbiAgdmFyIF9wcm90byA9IEZyYWN0aW9uLnByb3RvdHlwZTtcbiAgX3Byb3RvLmludmVydCA9IGZ1bmN0aW9uIGludmVydCgpIHtcbiAgICByZXR1cm4gbmV3IEZyYWN0aW9uKHRoaXMuZGVub21pbmF0b3IsIHRoaXMubnVtZXJhdG9yKTtcbiAgfTtcbiAgX3Byb3RvLmFkZCA9IGZ1bmN0aW9uIGFkZChvdGhlcikge1xuICAgIHZhciBvdGhlclBhcnNlZCA9IEZyYWN0aW9uLnRyeVBhcnNlRnJhY3Rpb24ob3RoZXIpO1xuICAgIGlmIChKU0JJLmVxdWFsKHRoaXMuZGVub21pbmF0b3IsIG90aGVyUGFyc2VkLmRlbm9taW5hdG9yKSkge1xuICAgICAgcmV0dXJuIG5ldyBGcmFjdGlvbihKU0JJLmFkZCh0aGlzLm51bWVyYXRvciwgb3RoZXJQYXJzZWQubnVtZXJhdG9yKSwgdGhpcy5kZW5vbWluYXRvcik7XG4gICAgfVxuICAgIHJldHVybiBuZXcgRnJhY3Rpb24oSlNCSS5hZGQoSlNCSS5tdWx0aXBseSh0aGlzLm51bWVyYXRvciwgb3RoZXJQYXJzZWQuZGVub21pbmF0b3IpLCBKU0JJLm11bHRpcGx5KG90aGVyUGFyc2VkLm51bWVyYXRvciwgdGhpcy5kZW5vbWluYXRvcikpLCBKU0JJLm11bHRpcGx5KHRoaXMuZGVub21pbmF0b3IsIG90aGVyUGFyc2VkLmRlbm9taW5hdG9yKSk7XG4gIH07XG4gIF9wcm90by5zdWJ0cmFjdCA9IGZ1bmN0aW9uIHN1YnRyYWN0KG90aGVyKSB7XG4gICAgdmFyIG90aGVyUGFyc2VkID0gRnJhY3Rpb24udHJ5UGFyc2VGcmFjdGlvbihvdGhlcik7XG4gICAgaWYgKEpTQkkuZXF1YWwodGhpcy5kZW5vbWluYXRvciwgb3RoZXJQYXJzZWQuZGVub21pbmF0b3IpKSB7XG4gICAgICByZXR1cm4gbmV3IEZyYWN0aW9uKEpTQkkuc3VidHJhY3QodGhpcy5udW1lcmF0b3IsIG90aGVyUGFyc2VkLm51bWVyYXRvciksIHRoaXMuZGVub21pbmF0b3IpO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IEZyYWN0aW9uKEpTQkkuc3VidHJhY3QoSlNCSS5tdWx0aXBseSh0aGlzLm51bWVyYXRvciwgb3RoZXJQYXJzZWQuZGVub21pbmF0b3IpLCBKU0JJLm11bHRpcGx5KG90aGVyUGFyc2VkLm51bWVyYXRvciwgdGhpcy5kZW5vbWluYXRvcikpLCBKU0JJLm11bHRpcGx5KHRoaXMuZGVub21pbmF0b3IsIG90aGVyUGFyc2VkLmRlbm9taW5hdG9yKSk7XG4gIH07XG4gIF9wcm90by5sZXNzVGhhbiA9IGZ1bmN0aW9uIGxlc3NUaGFuKG90aGVyKSB7XG4gICAgdmFyIG90aGVyUGFyc2VkID0gRnJhY3Rpb24udHJ5UGFyc2VGcmFjdGlvbihvdGhlcik7XG4gICAgcmV0dXJuIEpTQkkubGVzc1RoYW4oSlNCSS5tdWx0aXBseSh0aGlzLm51bWVyYXRvciwgb3RoZXJQYXJzZWQuZGVub21pbmF0b3IpLCBKU0JJLm11bHRpcGx5KG90aGVyUGFyc2VkLm51bWVyYXRvciwgdGhpcy5kZW5vbWluYXRvcikpO1xuICB9O1xuICBfcHJvdG8uZXF1YWxUbyA9IGZ1bmN0aW9uIGVxdWFsVG8ob3RoZXIpIHtcbiAgICB2YXIgb3RoZXJQYXJzZWQgPSBGcmFjdGlvbi50cnlQYXJzZUZyYWN0aW9uKG90aGVyKTtcbiAgICByZXR1cm4gSlNCSS5lcXVhbChKU0JJLm11bHRpcGx5KHRoaXMubnVtZXJhdG9yLCBvdGhlclBhcnNlZC5kZW5vbWluYXRvciksIEpTQkkubXVsdGlwbHkob3RoZXJQYXJzZWQubnVtZXJhdG9yLCB0aGlzLmRlbm9taW5hdG9yKSk7XG4gIH07XG4gIF9wcm90by5ncmVhdGVyVGhhbiA9IGZ1bmN0aW9uIGdyZWF0ZXJUaGFuKG90aGVyKSB7XG4gICAgdmFyIG90aGVyUGFyc2VkID0gRnJhY3Rpb24udHJ5UGFyc2VGcmFjdGlvbihvdGhlcik7XG4gICAgcmV0dXJuIEpTQkkuZ3JlYXRlclRoYW4oSlNCSS5tdWx0aXBseSh0aGlzLm51bWVyYXRvciwgb3RoZXJQYXJzZWQuZGVub21pbmF0b3IpLCBKU0JJLm11bHRpcGx5KG90aGVyUGFyc2VkLm51bWVyYXRvciwgdGhpcy5kZW5vbWluYXRvcikpO1xuICB9O1xuICBfcHJvdG8ubXVsdGlwbHkgPSBmdW5jdGlvbiBtdWx0aXBseShvdGhlcikge1xuICAgIHZhciBvdGhlclBhcnNlZCA9IEZyYWN0aW9uLnRyeVBhcnNlRnJhY3Rpb24ob3RoZXIpO1xuICAgIHJldHVybiBuZXcgRnJhY3Rpb24oSlNCSS5tdWx0aXBseSh0aGlzLm51bWVyYXRvciwgb3RoZXJQYXJzZWQubnVtZXJhdG9yKSwgSlNCSS5tdWx0aXBseSh0aGlzLmRlbm9taW5hdG9yLCBvdGhlclBhcnNlZC5kZW5vbWluYXRvcikpO1xuICB9O1xuICBfcHJvdG8uZGl2aWRlID0gZnVuY3Rpb24gZGl2aWRlKG90aGVyKSB7XG4gICAgdmFyIG90aGVyUGFyc2VkID0gRnJhY3Rpb24udHJ5UGFyc2VGcmFjdGlvbihvdGhlcik7XG4gICAgcmV0dXJuIG5ldyBGcmFjdGlvbihKU0JJLm11bHRpcGx5KHRoaXMubnVtZXJhdG9yLCBvdGhlclBhcnNlZC5kZW5vbWluYXRvciksIEpTQkkubXVsdGlwbHkodGhpcy5kZW5vbWluYXRvciwgb3RoZXJQYXJzZWQubnVtZXJhdG9yKSk7XG4gIH07XG4gIF9wcm90by50b1NpZ25pZmljYW50ID0gZnVuY3Rpb24gdG9TaWduaWZpY2FudChzaWduaWZpY2FudERpZ2l0cywgZm9ybWF0LCByb3VuZGluZykge1xuICAgIGlmIChmb3JtYXQgPT09IHZvaWQgMCkge1xuICAgICAgZm9ybWF0ID0ge1xuICAgICAgICBncm91cFNlcGFyYXRvcjogJydcbiAgICAgIH07XG4gICAgfVxuICAgIGlmIChyb3VuZGluZyA9PT0gdm9pZCAwKSB7XG4gICAgICByb3VuZGluZyA9IFJvdW5kaW5nLlJPVU5EX0hBTEZfVVA7XG4gICAgfVxuICAgICFOdW1iZXIuaXNJbnRlZ2VyKHNpZ25pZmljYW50RGlnaXRzKSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IGludmFyaWFudChmYWxzZSwgc2lnbmlmaWNhbnREaWdpdHMgKyBcIiBpcyBub3QgYW4gaW50ZWdlci5cIikgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgICEoc2lnbmlmaWNhbnREaWdpdHMgPiAwKSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IGludmFyaWFudChmYWxzZSwgc2lnbmlmaWNhbnREaWdpdHMgKyBcIiBpcyBub3QgcG9zaXRpdmUuXCIpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICBEZWNpbWFsLnNldCh7XG4gICAgICBwcmVjaXNpb246IHNpZ25pZmljYW50RGlnaXRzICsgMSxcbiAgICAgIHJvdW5kaW5nOiB0b1NpZ25pZmljYW50Um91bmRpbmdbcm91bmRpbmddXG4gICAgfSk7XG4gICAgdmFyIHF1b3RpZW50ID0gbmV3IERlY2ltYWwodGhpcy5udW1lcmF0b3IudG9TdHJpbmcoKSkuZGl2KHRoaXMuZGVub21pbmF0b3IudG9TdHJpbmcoKSkudG9TaWduaWZpY2FudERpZ2l0cyhzaWduaWZpY2FudERpZ2l0cyk7XG4gICAgcmV0dXJuIHF1b3RpZW50LnRvRm9ybWF0KHF1b3RpZW50LmRlY2ltYWxQbGFjZXMoKSwgZm9ybWF0KTtcbiAgfTtcbiAgX3Byb3RvLnRvRml4ZWQgPSBmdW5jdGlvbiB0b0ZpeGVkKGRlY2ltYWxQbGFjZXMsIGZvcm1hdCwgcm91bmRpbmcpIHtcbiAgICBpZiAoZm9ybWF0ID09PSB2b2lkIDApIHtcbiAgICAgIGZvcm1hdCA9IHtcbiAgICAgICAgZ3JvdXBTZXBhcmF0b3I6ICcnXG4gICAgICB9O1xuICAgIH1cbiAgICBpZiAocm91bmRpbmcgPT09IHZvaWQgMCkge1xuICAgICAgcm91bmRpbmcgPSBSb3VuZGluZy5ST1VORF9IQUxGX1VQO1xuICAgIH1cbiAgICAhTnVtYmVyLmlzSW50ZWdlcihkZWNpbWFsUGxhY2VzKSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IGludmFyaWFudChmYWxzZSwgZGVjaW1hbFBsYWNlcyArIFwiIGlzIG5vdCBhbiBpbnRlZ2VyLlwiKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgIShkZWNpbWFsUGxhY2VzID49IDApID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gaW52YXJpYW50KGZhbHNlLCBkZWNpbWFsUGxhY2VzICsgXCIgaXMgbmVnYXRpdmUuXCIpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICBCaWcuRFAgPSBkZWNpbWFsUGxhY2VzO1xuICAgIEJpZy5STSA9IHRvRml4ZWRSb3VuZGluZ1tyb3VuZGluZ107XG4gICAgcmV0dXJuIG5ldyBCaWcodGhpcy5udW1lcmF0b3IudG9TdHJpbmcoKSkuZGl2KHRoaXMuZGVub21pbmF0b3IudG9TdHJpbmcoKSkudG9Gb3JtYXQoZGVjaW1hbFBsYWNlcywgZm9ybWF0KTtcbiAgfVxuICAvKipcclxuICAgKiBIZWxwZXIgbWV0aG9kIGZvciBjb252ZXJ0aW5nIGFueSBzdXBlciBjbGFzcyBiYWNrIHRvIGEgZnJhY3Rpb25cclxuICAgKi87XG4gIF9jcmVhdGVDbGFzcyhGcmFjdGlvbiwgW3tcbiAgICBrZXk6IFwicXVvdGllbnRcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiBKU0JJLmRpdmlkZSh0aGlzLm51bWVyYXRvciwgdGhpcy5kZW5vbWluYXRvcik7XG4gICAgfVxuICAgIC8vIHJlbWFpbmRlciBhZnRlciBmbG9vciBkaXZpc2lvblxuICB9LCB7XG4gICAga2V5OiBcInJlbWFpbmRlclwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIG5ldyBGcmFjdGlvbihKU0JJLnJlbWFpbmRlcih0aGlzLm51bWVyYXRvciwgdGhpcy5kZW5vbWluYXRvciksIHRoaXMuZGVub21pbmF0b3IpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJhc0ZyYWN0aW9uXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gbmV3IEZyYWN0aW9uKHRoaXMubnVtZXJhdG9yLCB0aGlzLmRlbm9taW5hdG9yKTtcbiAgICB9XG4gIH1dKTtcbiAgcmV0dXJuIEZyYWN0aW9uO1xufSgpO1xuXG52YXIgQmlnJDEgPSAvKiNfX1BVUkVfXyovdG9Gb3JtYXQoX0JpZyk7XG52YXIgQ3VycmVuY3lBbW91bnQgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9GcmFjdGlvbikge1xuICBfaW5oZXJpdHNMb29zZShDdXJyZW5jeUFtb3VudCwgX0ZyYWN0aW9uKTtcbiAgZnVuY3Rpb24gQ3VycmVuY3lBbW91bnQoY3VycmVuY3ksIG51bWVyYXRvciwgZGVub21pbmF0b3IpIHtcbiAgICB2YXIgX3RoaXM7XG4gICAgX3RoaXMgPSBfRnJhY3Rpb24uY2FsbCh0aGlzLCBudW1lcmF0b3IsIGRlbm9taW5hdG9yKSB8fCB0aGlzO1xuICAgICFKU0JJLmxlc3NUaGFuT3JFcXVhbChfdGhpcy5xdW90aWVudCwgTWF4VWludDI1NikgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBpbnZhcmlhbnQoZmFsc2UsICdBTU9VTlQnKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgX3RoaXMuY3VycmVuY3kgPSBjdXJyZW5jeTtcbiAgICBfdGhpcy5kZWNpbWFsU2NhbGUgPSBKU0JJLmV4cG9uZW50aWF0ZShKU0JJLkJpZ0ludCgxMCksIEpTQkkuQmlnSW50KGN1cnJlbmN5LmRlY2ltYWxzKSk7XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG4gIC8qKlxyXG4gICAqIFJldHVybnMgYSBuZXcgY3VycmVuY3kgYW1vdW50IGluc3RhbmNlIGZyb20gdGhlIHVuaXRsZXNzIGFtb3VudCBvZiB0b2tlbiwgaS5lLiB0aGUgcmF3IGFtb3VudFxyXG4gICAqIEBwYXJhbSBjdXJyZW5jeSB0aGUgY3VycmVuY3kgaW4gdGhlIGFtb3VudFxyXG4gICAqIEBwYXJhbSByYXdBbW91bnQgdGhlIHJhdyB0b2tlbiBvciBldGhlciBhbW91bnRcclxuICAgKi9cbiAgQ3VycmVuY3lBbW91bnQuZnJvbVJhd0Ftb3VudCA9IGZ1bmN0aW9uIGZyb21SYXdBbW91bnQoY3VycmVuY3ksIHJhd0Ftb3VudCkge1xuICAgIHJldHVybiBuZXcgQ3VycmVuY3lBbW91bnQoY3VycmVuY3ksIHJhd0Ftb3VudCk7XG4gIH1cbiAgLyoqXHJcbiAgICogQ29uc3RydWN0IGEgY3VycmVuY3kgYW1vdW50IHdpdGggYSBkZW5vbWluYXRvciB0aGF0IGlzIG5vdCBlcXVhbCB0byAxXHJcbiAgICogQHBhcmFtIGN1cnJlbmN5IHRoZSBjdXJyZW5jeVxyXG4gICAqIEBwYXJhbSBudW1lcmF0b3IgdGhlIG51bWVyYXRvciBvZiB0aGUgZnJhY3Rpb25hbCB0b2tlbiBhbW91bnRcclxuICAgKiBAcGFyYW0gZGVub21pbmF0b3IgdGhlIGRlbm9taW5hdG9yIG9mIHRoZSBmcmFjdGlvbmFsIHRva2VuIGFtb3VudFxyXG4gICAqLztcbiAgQ3VycmVuY3lBbW91bnQuZnJvbUZyYWN0aW9uYWxBbW91bnQgPSBmdW5jdGlvbiBmcm9tRnJhY3Rpb25hbEFtb3VudChjdXJyZW5jeSwgbnVtZXJhdG9yLCBkZW5vbWluYXRvcikge1xuICAgIHJldHVybiBuZXcgQ3VycmVuY3lBbW91bnQoY3VycmVuY3ksIG51bWVyYXRvciwgZGVub21pbmF0b3IpO1xuICB9O1xuICB2YXIgX3Byb3RvID0gQ3VycmVuY3lBbW91bnQucHJvdG90eXBlO1xuICBfcHJvdG8uYWRkID0gZnVuY3Rpb24gYWRkKG90aGVyKSB7XG4gICAgIXRoaXMuY3VycmVuY3kuZXF1YWxzKG90aGVyLmN1cnJlbmN5KSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IGludmFyaWFudChmYWxzZSwgJ0NVUlJFTkNZJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgIHZhciBhZGRlZCA9IF9GcmFjdGlvbi5wcm90b3R5cGUuYWRkLmNhbGwodGhpcywgb3RoZXIpO1xuICAgIHJldHVybiBDdXJyZW5jeUFtb3VudC5mcm9tRnJhY3Rpb25hbEFtb3VudCh0aGlzLmN1cnJlbmN5LCBhZGRlZC5udW1lcmF0b3IsIGFkZGVkLmRlbm9taW5hdG9yKTtcbiAgfTtcbiAgX3Byb3RvLnN1YnRyYWN0ID0gZnVuY3Rpb24gc3VidHJhY3Qob3RoZXIpIHtcbiAgICAhdGhpcy5jdXJyZW5jeS5lcXVhbHMob3RoZXIuY3VycmVuY3kpID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gaW52YXJpYW50KGZhbHNlLCAnQ1VSUkVOQ1knKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgdmFyIHN1YnRyYWN0ZWQgPSBfRnJhY3Rpb24ucHJvdG90eXBlLnN1YnRyYWN0LmNhbGwodGhpcywgb3RoZXIpO1xuICAgIHJldHVybiBDdXJyZW5jeUFtb3VudC5mcm9tRnJhY3Rpb25hbEFtb3VudCh0aGlzLmN1cnJlbmN5LCBzdWJ0cmFjdGVkLm51bWVyYXRvciwgc3VidHJhY3RlZC5kZW5vbWluYXRvcik7XG4gIH07XG4gIF9wcm90by5tdWx0aXBseSA9IGZ1bmN0aW9uIG11bHRpcGx5KG90aGVyKSB7XG4gICAgdmFyIG11bHRpcGxpZWQgPSBfRnJhY3Rpb24ucHJvdG90eXBlLm11bHRpcGx5LmNhbGwodGhpcywgb3RoZXIpO1xuICAgIHJldHVybiBDdXJyZW5jeUFtb3VudC5mcm9tRnJhY3Rpb25hbEFtb3VudCh0aGlzLmN1cnJlbmN5LCBtdWx0aXBsaWVkLm51bWVyYXRvciwgbXVsdGlwbGllZC5kZW5vbWluYXRvcik7XG4gIH07XG4gIF9wcm90by5kaXZpZGUgPSBmdW5jdGlvbiBkaXZpZGUob3RoZXIpIHtcbiAgICB2YXIgZGl2aWRlZCA9IF9GcmFjdGlvbi5wcm90b3R5cGUuZGl2aWRlLmNhbGwodGhpcywgb3RoZXIpO1xuICAgIHJldHVybiBDdXJyZW5jeUFtb3VudC5mcm9tRnJhY3Rpb25hbEFtb3VudCh0aGlzLmN1cnJlbmN5LCBkaXZpZGVkLm51bWVyYXRvciwgZGl2aWRlZC5kZW5vbWluYXRvcik7XG4gIH07XG4gIF9wcm90by50b1NpZ25pZmljYW50ID0gZnVuY3Rpb24gdG9TaWduaWZpY2FudChzaWduaWZpY2FudERpZ2l0cywgZm9ybWF0LCByb3VuZGluZykge1xuICAgIGlmIChzaWduaWZpY2FudERpZ2l0cyA9PT0gdm9pZCAwKSB7XG4gICAgICBzaWduaWZpY2FudERpZ2l0cyA9IDY7XG4gICAgfVxuICAgIGlmIChyb3VuZGluZyA9PT0gdm9pZCAwKSB7XG4gICAgICByb3VuZGluZyA9IFJvdW5kaW5nLlJPVU5EX0RPV047XG4gICAgfVxuICAgIHJldHVybiBfRnJhY3Rpb24ucHJvdG90eXBlLmRpdmlkZS5jYWxsKHRoaXMsIHRoaXMuZGVjaW1hbFNjYWxlKS50b1NpZ25pZmljYW50KHNpZ25pZmljYW50RGlnaXRzLCBmb3JtYXQsIHJvdW5kaW5nKTtcbiAgfTtcbiAgX3Byb3RvLnRvRml4ZWQgPSBmdW5jdGlvbiB0b0ZpeGVkKGRlY2ltYWxQbGFjZXMsIGZvcm1hdCwgcm91bmRpbmcpIHtcbiAgICBpZiAoZGVjaW1hbFBsYWNlcyA9PT0gdm9pZCAwKSB7XG4gICAgICBkZWNpbWFsUGxhY2VzID0gdGhpcy5jdXJyZW5jeS5kZWNpbWFscztcbiAgICB9XG4gICAgaWYgKHJvdW5kaW5nID09PSB2b2lkIDApIHtcbiAgICAgIHJvdW5kaW5nID0gUm91bmRpbmcuUk9VTkRfRE9XTjtcbiAgICB9XG4gICAgIShkZWNpbWFsUGxhY2VzIDw9IHRoaXMuY3VycmVuY3kuZGVjaW1hbHMpID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gaW52YXJpYW50KGZhbHNlLCAnREVDSU1BTFMnKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgcmV0dXJuIF9GcmFjdGlvbi5wcm90b3R5cGUuZGl2aWRlLmNhbGwodGhpcywgdGhpcy5kZWNpbWFsU2NhbGUpLnRvRml4ZWQoZGVjaW1hbFBsYWNlcywgZm9ybWF0LCByb3VuZGluZyk7XG4gIH07XG4gIF9wcm90by50b0V4YWN0ID0gZnVuY3Rpb24gdG9FeGFjdChmb3JtYXQpIHtcbiAgICBpZiAoZm9ybWF0ID09PSB2b2lkIDApIHtcbiAgICAgIGZvcm1hdCA9IHtcbiAgICAgICAgZ3JvdXBTZXBhcmF0b3I6ICcnXG4gICAgICB9O1xuICAgIH1cbiAgICBCaWckMS5EUCA9IHRoaXMuY3VycmVuY3kuZGVjaW1hbHM7XG4gICAgcmV0dXJuIG5ldyBCaWckMSh0aGlzLnF1b3RpZW50LnRvU3RyaW5nKCkpLmRpdih0aGlzLmRlY2ltYWxTY2FsZS50b1N0cmluZygpKS50b0Zvcm1hdChmb3JtYXQpO1xuICB9O1xuICBfY3JlYXRlQ2xhc3MoQ3VycmVuY3lBbW91bnQsIFt7XG4gICAga2V5OiBcIndyYXBwZWRcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIGlmICh0aGlzLmN1cnJlbmN5LmlzVG9rZW4pIHJldHVybiB0aGlzO1xuICAgICAgcmV0dXJuIEN1cnJlbmN5QW1vdW50LmZyb21GcmFjdGlvbmFsQW1vdW50KHRoaXMuY3VycmVuY3kud3JhcHBlZCwgdGhpcy5udW1lcmF0b3IsIHRoaXMuZGVub21pbmF0b3IpO1xuICAgIH1cbiAgfV0pO1xuICByZXR1cm4gQ3VycmVuY3lBbW91bnQ7XG59KEZyYWN0aW9uKTtcblxudmFyIE9ORV9IVU5EUkVEID0gLyojX19QVVJFX18qL25ldyBGcmFjdGlvbiggLyojX19QVVJFX18qL0pTQkkuQmlnSW50KDEwMCkpO1xuLyoqXHJcbiAqIENvbnZlcnRzIGEgZnJhY3Rpb24gdG8gYSBwZXJjZW50XHJcbiAqIEBwYXJhbSBmcmFjdGlvbiB0aGUgZnJhY3Rpb24gdG8gY29udmVydFxyXG4gKi9cbmZ1bmN0aW9uIHRvUGVyY2VudChmcmFjdGlvbikge1xuICByZXR1cm4gbmV3IFBlcmNlbnQoZnJhY3Rpb24ubnVtZXJhdG9yLCBmcmFjdGlvbi5kZW5vbWluYXRvcik7XG59XG52YXIgUGVyY2VudCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX0ZyYWN0aW9uKSB7XG4gIF9pbmhlcml0c0xvb3NlKFBlcmNlbnQsIF9GcmFjdGlvbik7XG4gIGZ1bmN0aW9uIFBlcmNlbnQoKSB7XG4gICAgdmFyIF90aGlzO1xuICAgIF90aGlzID0gX0ZyYWN0aW9uLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcbiAgICAvKipcclxuICAgICAqIFRoaXMgYm9vbGVhbiBwcmV2ZW50cyBhIGZyYWN0aW9uIGZyb20gYmVpbmcgaW50ZXJwcmV0ZWQgYXMgYSBQZXJjZW50XHJcbiAgICAgKi9cbiAgICBfdGhpcy5pc1BlcmNlbnQgPSB0cnVlO1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuICB2YXIgX3Byb3RvID0gUGVyY2VudC5wcm90b3R5cGU7XG4gIF9wcm90by5hZGQgPSBmdW5jdGlvbiBhZGQob3RoZXIpIHtcbiAgICByZXR1cm4gdG9QZXJjZW50KF9GcmFjdGlvbi5wcm90b3R5cGUuYWRkLmNhbGwodGhpcywgb3RoZXIpKTtcbiAgfTtcbiAgX3Byb3RvLnN1YnRyYWN0ID0gZnVuY3Rpb24gc3VidHJhY3Qob3RoZXIpIHtcbiAgICByZXR1cm4gdG9QZXJjZW50KF9GcmFjdGlvbi5wcm90b3R5cGUuc3VidHJhY3QuY2FsbCh0aGlzLCBvdGhlcikpO1xuICB9O1xuICBfcHJvdG8ubXVsdGlwbHkgPSBmdW5jdGlvbiBtdWx0aXBseShvdGhlcikge1xuICAgIHJldHVybiB0b1BlcmNlbnQoX0ZyYWN0aW9uLnByb3RvdHlwZS5tdWx0aXBseS5jYWxsKHRoaXMsIG90aGVyKSk7XG4gIH07XG4gIF9wcm90by5kaXZpZGUgPSBmdW5jdGlvbiBkaXZpZGUob3RoZXIpIHtcbiAgICByZXR1cm4gdG9QZXJjZW50KF9GcmFjdGlvbi5wcm90b3R5cGUuZGl2aWRlLmNhbGwodGhpcywgb3RoZXIpKTtcbiAgfTtcbiAgX3Byb3RvLnRvU2lnbmlmaWNhbnQgPSBmdW5jdGlvbiB0b1NpZ25pZmljYW50KHNpZ25pZmljYW50RGlnaXRzLCBmb3JtYXQsIHJvdW5kaW5nKSB7XG4gICAgaWYgKHNpZ25pZmljYW50RGlnaXRzID09PSB2b2lkIDApIHtcbiAgICAgIHNpZ25pZmljYW50RGlnaXRzID0gNTtcbiAgICB9XG4gICAgcmV0dXJuIF9GcmFjdGlvbi5wcm90b3R5cGUubXVsdGlwbHkuY2FsbCh0aGlzLCBPTkVfSFVORFJFRCkudG9TaWduaWZpY2FudChzaWduaWZpY2FudERpZ2l0cywgZm9ybWF0LCByb3VuZGluZyk7XG4gIH07XG4gIF9wcm90by50b0ZpeGVkID0gZnVuY3Rpb24gdG9GaXhlZChkZWNpbWFsUGxhY2VzLCBmb3JtYXQsIHJvdW5kaW5nKSB7XG4gICAgaWYgKGRlY2ltYWxQbGFjZXMgPT09IHZvaWQgMCkge1xuICAgICAgZGVjaW1hbFBsYWNlcyA9IDI7XG4gICAgfVxuICAgIHJldHVybiBfRnJhY3Rpb24ucHJvdG90eXBlLm11bHRpcGx5LmNhbGwodGhpcywgT05FX0hVTkRSRUQpLnRvRml4ZWQoZGVjaW1hbFBsYWNlcywgZm9ybWF0LCByb3VuZGluZyk7XG4gIH07XG4gIHJldHVybiBQZXJjZW50O1xufShGcmFjdGlvbik7XG5cbnZhciBQcmljZSA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX0ZyYWN0aW9uKSB7XG4gIF9pbmhlcml0c0xvb3NlKFByaWNlLCBfRnJhY3Rpb24pO1xuICAvKipcclxuICAgKiBDb25zdHJ1Y3QgYSBwcmljZSwgZWl0aGVyIHdpdGggdGhlIGJhc2UgYW5kIHF1b3RlIGN1cnJlbmN5IGFtb3VudCwgb3IgdGhlXHJcbiAgICogQHBhcmFtIGFyZ3NcclxuICAgKi9cbiAgZnVuY3Rpb24gUHJpY2UoKSB7XG4gICAgdmFyIF90aGlzO1xuICAgIHZhciBiYXNlQ3VycmVuY3ksIHF1b3RlQ3VycmVuY3ksIGRlbm9taW5hdG9yLCBudW1lcmF0b3I7XG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cbiAgICBpZiAoYXJncy5sZW5ndGggPT09IDQpIHtcbiAgICAgIGJhc2VDdXJyZW5jeSA9IGFyZ3NbMF07XG4gICAgICBxdW90ZUN1cnJlbmN5ID0gYXJnc1sxXTtcbiAgICAgIGRlbm9taW5hdG9yID0gYXJnc1syXTtcbiAgICAgIG51bWVyYXRvciA9IGFyZ3NbM107XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciByZXN1bHQgPSBhcmdzWzBdLnF1b3RlQW1vdW50LmRpdmlkZShhcmdzWzBdLmJhc2VBbW91bnQpO1xuICAgICAgdmFyIF9yZWYgPSBbYXJnc1swXS5iYXNlQW1vdW50LmN1cnJlbmN5LCBhcmdzWzBdLnF1b3RlQW1vdW50LmN1cnJlbmN5LCByZXN1bHQuZGVub21pbmF0b3IsIHJlc3VsdC5udW1lcmF0b3JdO1xuICAgICAgYmFzZUN1cnJlbmN5ID0gX3JlZlswXTtcbiAgICAgIHF1b3RlQ3VycmVuY3kgPSBfcmVmWzFdO1xuICAgICAgZGVub21pbmF0b3IgPSBfcmVmWzJdO1xuICAgICAgbnVtZXJhdG9yID0gX3JlZlszXTtcbiAgICB9XG4gICAgX3RoaXMgPSBfRnJhY3Rpb24uY2FsbCh0aGlzLCBudW1lcmF0b3IsIGRlbm9taW5hdG9yKSB8fCB0aGlzO1xuICAgIF90aGlzLmJhc2VDdXJyZW5jeSA9IGJhc2VDdXJyZW5jeTtcbiAgICBfdGhpcy5xdW90ZUN1cnJlbmN5ID0gcXVvdGVDdXJyZW5jeTtcbiAgICBfdGhpcy5zY2FsYXIgPSBuZXcgRnJhY3Rpb24oSlNCSS5leHBvbmVudGlhdGUoSlNCSS5CaWdJbnQoMTApLCBKU0JJLkJpZ0ludChiYXNlQ3VycmVuY3kuZGVjaW1hbHMpKSwgSlNCSS5leHBvbmVudGlhdGUoSlNCSS5CaWdJbnQoMTApLCBKU0JJLkJpZ0ludChxdW90ZUN1cnJlbmN5LmRlY2ltYWxzKSkpO1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuICAvKipcclxuICAgKiBGbGlwIHRoZSBwcmljZSwgc3dpdGNoaW5nIHRoZSBiYXNlIGFuZCBxdW90ZSBjdXJyZW5jeVxyXG4gICAqL1xuICB2YXIgX3Byb3RvID0gUHJpY2UucHJvdG90eXBlO1xuICBfcHJvdG8uaW52ZXJ0ID0gZnVuY3Rpb24gaW52ZXJ0KCkge1xuICAgIHJldHVybiBuZXcgUHJpY2UodGhpcy5xdW90ZUN1cnJlbmN5LCB0aGlzLmJhc2VDdXJyZW5jeSwgdGhpcy5udW1lcmF0b3IsIHRoaXMuZGVub21pbmF0b3IpO1xuICB9XG4gIC8qKlxyXG4gICAqIE11bHRpcGx5IHRoZSBwcmljZSBieSBhbm90aGVyIHByaWNlLCByZXR1cm5pbmcgYSBuZXcgcHJpY2UuIFRoZSBvdGhlciBwcmljZSBtdXN0IGhhdmUgdGhlIHNhbWUgYmFzZSBjdXJyZW5jeSBhcyB0aGlzIHByaWNlJ3MgcXVvdGUgY3VycmVuY3lcclxuICAgKiBAcGFyYW0gb3RoZXIgdGhlIG90aGVyIHByaWNlXHJcbiAgICovO1xuICBfcHJvdG8ubXVsdGlwbHkgPSBmdW5jdGlvbiBtdWx0aXBseShvdGhlcikge1xuICAgICF0aGlzLnF1b3RlQ3VycmVuY3kuZXF1YWxzKG90aGVyLmJhc2VDdXJyZW5jeSkgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBpbnZhcmlhbnQoZmFsc2UsICdUT0tFTicpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICB2YXIgZnJhY3Rpb24gPSBfRnJhY3Rpb24ucHJvdG90eXBlLm11bHRpcGx5LmNhbGwodGhpcywgb3RoZXIpO1xuICAgIHJldHVybiBuZXcgUHJpY2UodGhpcy5iYXNlQ3VycmVuY3ksIG90aGVyLnF1b3RlQ3VycmVuY3ksIGZyYWN0aW9uLmRlbm9taW5hdG9yLCBmcmFjdGlvbi5udW1lcmF0b3IpO1xuICB9XG4gIC8qKlxyXG4gICAqIFJldHVybiB0aGUgYW1vdW50IG9mIHF1b3RlIGN1cnJlbmN5IGNvcnJlc3BvbmRpbmcgdG8gYSBnaXZlbiBhbW91bnQgb2YgdGhlIGJhc2UgY3VycmVuY3lcclxuICAgKiBAcGFyYW0gY3VycmVuY3lBbW91bnQgdGhlIGFtb3VudCBvZiBiYXNlIGN1cnJlbmN5IHRvIHF1b3RlIGFnYWluc3QgdGhlIHByaWNlXHJcbiAgICovO1xuICBfcHJvdG8ucXVvdGUgPSBmdW5jdGlvbiBxdW90ZShjdXJyZW5jeUFtb3VudCkge1xuICAgICFjdXJyZW5jeUFtb3VudC5jdXJyZW5jeS5lcXVhbHModGhpcy5iYXNlQ3VycmVuY3kpID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gaW52YXJpYW50KGZhbHNlLCAnVE9LRU4nKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgdmFyIHJlc3VsdCA9IF9GcmFjdGlvbi5wcm90b3R5cGUubXVsdGlwbHkuY2FsbCh0aGlzLCBjdXJyZW5jeUFtb3VudCk7XG4gICAgcmV0dXJuIEN1cnJlbmN5QW1vdW50LmZyb21GcmFjdGlvbmFsQW1vdW50KHRoaXMucXVvdGVDdXJyZW5jeSwgcmVzdWx0Lm51bWVyYXRvciwgcmVzdWx0LmRlbm9taW5hdG9yKTtcbiAgfVxuICAvKipcclxuICAgKiBHZXQgdGhlIHZhbHVlIHNjYWxlZCBieSBkZWNpbWFscyBmb3IgZm9ybWF0dGluZ1xyXG4gICAqIEBwcml2YXRlXHJcbiAgICovO1xuICBfcHJvdG8udG9TaWduaWZpY2FudCA9IGZ1bmN0aW9uIHRvU2lnbmlmaWNhbnQoc2lnbmlmaWNhbnREaWdpdHMsIGZvcm1hdCwgcm91bmRpbmcpIHtcbiAgICBpZiAoc2lnbmlmaWNhbnREaWdpdHMgPT09IHZvaWQgMCkge1xuICAgICAgc2lnbmlmaWNhbnREaWdpdHMgPSA2O1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5hZGp1c3RlZEZvckRlY2ltYWxzLnRvU2lnbmlmaWNhbnQoc2lnbmlmaWNhbnREaWdpdHMsIGZvcm1hdCwgcm91bmRpbmcpO1xuICB9O1xuICBfcHJvdG8udG9GaXhlZCA9IGZ1bmN0aW9uIHRvRml4ZWQoZGVjaW1hbFBsYWNlcywgZm9ybWF0LCByb3VuZGluZykge1xuICAgIGlmIChkZWNpbWFsUGxhY2VzID09PSB2b2lkIDApIHtcbiAgICAgIGRlY2ltYWxQbGFjZXMgPSA0O1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5hZGp1c3RlZEZvckRlY2ltYWxzLnRvRml4ZWQoZGVjaW1hbFBsYWNlcywgZm9ybWF0LCByb3VuZGluZyk7XG4gIH07XG4gIF9jcmVhdGVDbGFzcyhQcmljZSwgW3tcbiAgICBrZXk6IFwiYWRqdXN0ZWRGb3JEZWNpbWFsc1wiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIF9GcmFjdGlvbi5wcm90b3R5cGUubXVsdGlwbHkuY2FsbCh0aGlzLCB0aGlzLnNjYWxhcik7XG4gICAgfVxuICB9XSk7XG4gIHJldHVybiBQcmljZTtcbn0oRnJhY3Rpb24pO1xuXG4vKipcclxuICogQSBjdXJyZW5jeSBpcyBhbnkgZnVuZ2libGUgZmluYW5jaWFsIGluc3RydW1lbnQsIGluY2x1ZGluZyBFdGhlciwgYWxsIEVSQzIwIHRva2VucywgYW5kIG90aGVyIGNoYWluLW5hdGl2ZSBjdXJyZW5jaWVzXHJcbiAqL1xudmFyIEJhc2VDdXJyZW5jeSA9XG4vKipcclxuICogQ29uc3RydWN0cyBhbiBpbnN0YW5jZSBvZiB0aGUgYmFzZSBjbGFzcyBgQmFzZUN1cnJlbmN5YC5cclxuICogQHBhcmFtIGNoYWluSWQgdGhlIGNoYWluIElEIG9uIHdoaWNoIHRoaXMgY3VycmVuY3kgcmVzaWRlc1xyXG4gKiBAcGFyYW0gZGVjaW1hbHMgZGVjaW1hbHMgb2YgdGhlIGN1cnJlbmN5XHJcbiAqIEBwYXJhbSBzeW1ib2wgc3ltYm9sIG9mIHRoZSBjdXJyZW5jeVxyXG4gKiBAcGFyYW0gbmFtZSBvZiB0aGUgY3VycmVuY3lcclxuICovXG5mdW5jdGlvbiBCYXNlQ3VycmVuY3koY2hhaW5JZCwgZGVjaW1hbHMsIHN5bWJvbCwgbmFtZSkge1xuICAhTnVtYmVyLmlzU2FmZUludGVnZXIoY2hhaW5JZCkgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBpbnZhcmlhbnQoZmFsc2UsICdDSEFJTl9JRCcpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgIShkZWNpbWFscyA+PSAwICYmIGRlY2ltYWxzIDwgMjU1ICYmIE51bWJlci5pc0ludGVnZXIoZGVjaW1hbHMpKSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IGludmFyaWFudChmYWxzZSwgJ0RFQ0lNQUxTJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICB0aGlzLmNoYWluSWQgPSBjaGFpbklkO1xuICB0aGlzLmRlY2ltYWxzID0gZGVjaW1hbHM7XG4gIHRoaXMuc3ltYm9sID0gc3ltYm9sO1xuICB0aGlzLm5hbWUgPSBuYW1lO1xufTtcblxuLyoqXHJcbiAqIFJlcHJlc2VudHMgdGhlIG5hdGl2ZSBjdXJyZW5jeSBvZiB0aGUgY2hhaW4gb24gd2hpY2ggaXQgcmVzaWRlcywgZS5nLlxyXG4gKi9cbnZhciBOYXRpdmVDdXJyZW5jeSA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX0Jhc2VDdXJyZW5jeSkge1xuICBfaW5oZXJpdHNMb29zZShOYXRpdmVDdXJyZW5jeSwgX0Jhc2VDdXJyZW5jeSk7XG4gIGZ1bmN0aW9uIE5hdGl2ZUN1cnJlbmN5KCkge1xuICAgIHZhciBfdGhpcztcbiAgICBfdGhpcyA9IF9CYXNlQ3VycmVuY3kuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICAgIF90aGlzLmlzTmF0aXZlID0gdHJ1ZTtcbiAgICBfdGhpcy5pc1Rva2VuID0gZmFsc2U7XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG4gIHJldHVybiBOYXRpdmVDdXJyZW5jeTtcbn0oQmFzZUN1cnJlbmN5KTtcblxuLyoqXHJcbiAqIFZhbGlkYXRlcyBhbiBhZGRyZXNzIGFuZCByZXR1cm5zIHRoZSBwYXJzZWQgKGNoZWNrc3VtbWVkKSB2ZXJzaW9uIG9mIHRoYXQgYWRkcmVzc1xyXG4gKiBAcGFyYW0gYWRkcmVzcyB0aGUgdW5jaGVja3N1bW1lZCBoZXggYWRkcmVzc1xyXG4gKi9cbmZ1bmN0aW9uIHZhbGlkYXRlQW5kUGFyc2VBZGRyZXNzKGFkZHJlc3MpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gZ2V0QWRkcmVzcyhhZGRyZXNzKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYWRkcmVzcyArIFwiIGlzIG5vdCBhIHZhbGlkIGFkZHJlc3MuXCIpO1xuICB9XG59XG4vLyBDaGVja3MgYSBzdHJpbmcgc3RhcnRzIHdpdGggMHgsIGlzIDQyIGNoYXJhY3RlcnMgbG9uZyBhbmQgY29udGFpbnMgb25seSBoZXggY2hhcmFjdGVycyBhZnRlciAweFxudmFyIHN0YXJ0c1dpdGgweExlbjQySGV4UmVnZXggPSAvXjB4WzAtOWEtZkEtRl17NDB9JC87XG4vKipcclxuICogQ2hlY2tzIGlmIGFuIGFkZHJlc3MgaXMgdmFsaWQgYnkgY2hlY2tpbmcgMHggcHJlZml4LCBsZW5ndGggPT09IDQyIGFuZCBoZXggZW5jb2RpbmcuXHJcbiAqIEBwYXJhbSBhZGRyZXNzIHRoZSB1bmNoZWNrc3VtbWVkIGhleCBhZGRyZXNzXHJcbiAqL1xuZnVuY3Rpb24gY2hlY2tWYWxpZEFkZHJlc3MoYWRkcmVzcykge1xuICBpZiAoc3RhcnRzV2l0aDB4TGVuNDJIZXhSZWdleC50ZXN0KGFkZHJlc3MpKSB7XG4gICAgcmV0dXJuIGFkZHJlc3M7XG4gIH1cbiAgdGhyb3cgbmV3IEVycm9yKGFkZHJlc3MgKyBcIiBpcyBub3QgYSB2YWxpZCBhZGRyZXNzLlwiKTtcbn1cblxuLyoqXHJcbiAqIFJlcHJlc2VudHMgYW4gRVJDMjAgdG9rZW4gd2l0aCBhIHVuaXF1ZSBhZGRyZXNzIGFuZCBzb21lIG1ldGFkYXRhLlxyXG4gKi9cbnZhciBUb2tlbiA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX0Jhc2VDdXJyZW5jeSkge1xuICBfaW5oZXJpdHNMb29zZShUb2tlbiwgX0Jhc2VDdXJyZW5jeSk7XG4gIC8qKlxyXG4gICAqXHJcbiAgICogQHBhcmFtIGNoYWluSWQge0BsaW5rIEJhc2VDdXJyZW5jeSNjaGFpbklkfVxyXG4gICAqIEBwYXJhbSBhZGRyZXNzIFRoZSBjb250cmFjdCBhZGRyZXNzIG9uIHRoZSBjaGFpbiBvbiB3aGljaCB0aGlzIHRva2VuIGxpdmVzXHJcbiAgICogQHBhcmFtIGRlY2ltYWxzIHtAbGluayBCYXNlQ3VycmVuY3kjZGVjaW1hbHN9XHJcbiAgICogQHBhcmFtIHN5bWJvbCB7QGxpbmsgQmFzZUN1cnJlbmN5I3N5bWJvbH1cclxuICAgKiBAcGFyYW0gbmFtZSB7QGxpbmsgQmFzZUN1cnJlbmN5I25hbWV9XHJcbiAgICogQHBhcmFtIGJ5cGFzc0NoZWNrc3VtIElmIHRydWUgaXQgb25seSBjaGVja3MgZm9yIGxlbmd0aCA9PT0gNDIsIHN0YXJ0c1dpdGggMHggYW5kIGNvbnRhaW5zIG9ubHkgaGV4IGNoYXJhY3RlcnNcclxuICAgKiBAcGFyYW0gYnV5RmVlQnBzIEJ1eSBmZWUgdGF4IGZvciBGT1QgdG9rZW5zLCBpbiBiYXNpcyBwb2ludHNcclxuICAgKiBAcGFyYW0gc2VsbEZlZUJwcyBTZWxsIGZlZSB0YXggZm9yIEZPVCB0b2tlbnMsIGluIGJhc2lzIHBvaW50c1xyXG4gICAqL1xuICBmdW5jdGlvbiBUb2tlbihjaGFpbklkLCBhZGRyZXNzLCBkZWNpbWFscywgc3ltYm9sLCBuYW1lLCBieXBhc3NDaGVja3N1bSwgYnV5RmVlQnBzLCBzZWxsRmVlQnBzKSB7XG4gICAgdmFyIF90aGlzO1xuICAgIF90aGlzID0gX0Jhc2VDdXJyZW5jeS5jYWxsKHRoaXMsIGNoYWluSWQsIGRlY2ltYWxzLCBzeW1ib2wsIG5hbWUpIHx8IHRoaXM7XG4gICAgX3RoaXMuaXNOYXRpdmUgPSBmYWxzZTtcbiAgICBfdGhpcy5pc1Rva2VuID0gdHJ1ZTtcbiAgICBpZiAoYnlwYXNzQ2hlY2tzdW0pIHtcbiAgICAgIF90aGlzLmFkZHJlc3MgPSBjaGVja1ZhbGlkQWRkcmVzcyhhZGRyZXNzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgX3RoaXMuYWRkcmVzcyA9IHZhbGlkYXRlQW5kUGFyc2VBZGRyZXNzKGFkZHJlc3MpO1xuICAgIH1cbiAgICBpZiAoYnV5RmVlQnBzKSB7XG4gICAgICAhYnV5RmVlQnBzLmd0ZShCaWdOdW1iZXIuZnJvbSgwKSkgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBpbnZhcmlhbnQoZmFsc2UsICdOT04tTkVHQVRJVkUgRk9UIEZFRVMnKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgfVxuICAgIGlmIChzZWxsRmVlQnBzKSB7XG4gICAgICAhc2VsbEZlZUJwcy5ndGUoQmlnTnVtYmVyLmZyb20oMCkpID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gaW52YXJpYW50KGZhbHNlLCAnTk9OLU5FR0FUSVZFIEZPVCBGRUVTJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgIH1cbiAgICBfdGhpcy5idXlGZWVCcHMgPSBidXlGZWVCcHM7XG4gICAgX3RoaXMuc2VsbEZlZUJwcyA9IHNlbGxGZWVCcHM7XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG4gIC8qKlxyXG4gICAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgdHdvIHRva2VucyBhcmUgZXF1aXZhbGVudCwgaS5lLiBoYXZlIHRoZSBzYW1lIGNoYWluSWQgYW5kIGFkZHJlc3MuXHJcbiAgICogQHBhcmFtIG90aGVyIG90aGVyIHRva2VuIHRvIGNvbXBhcmVcclxuICAgKi9cbiAgdmFyIF9wcm90byA9IFRva2VuLnByb3RvdHlwZTtcbiAgX3Byb3RvLmVxdWFscyA9IGZ1bmN0aW9uIGVxdWFscyhvdGhlcikge1xuICAgIHJldHVybiBvdGhlci5pc1Rva2VuICYmIHRoaXMuY2hhaW5JZCA9PT0gb3RoZXIuY2hhaW5JZCAmJiB0aGlzLmFkZHJlc3MudG9Mb3dlckNhc2UoKSA9PT0gb3RoZXIuYWRkcmVzcy50b0xvd2VyQ2FzZSgpO1xuICB9XG4gIC8qKlxyXG4gICAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgYWRkcmVzcyBvZiB0aGlzIHRva2VuIHNvcnRzIGJlZm9yZSB0aGUgYWRkcmVzcyBvZiB0aGUgb3RoZXIgdG9rZW5cclxuICAgKiBAcGFyYW0gb3RoZXIgb3RoZXIgdG9rZW4gdG8gY29tcGFyZVxyXG4gICAqIEB0aHJvd3MgaWYgdGhlIHRva2VucyBoYXZlIHRoZSBzYW1lIGFkZHJlc3NcclxuICAgKiBAdGhyb3dzIGlmIHRoZSB0b2tlbnMgYXJlIG9uIGRpZmZlcmVudCBjaGFpbnNcclxuICAgKi87XG4gIF9wcm90by5zb3J0c0JlZm9yZSA9IGZ1bmN0aW9uIHNvcnRzQmVmb3JlKG90aGVyKSB7XG4gICAgISh0aGlzLmNoYWluSWQgPT09IG90aGVyLmNoYWluSWQpID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gaW52YXJpYW50KGZhbHNlLCAnQ0hBSU5fSURTJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgICEodGhpcy5hZGRyZXNzLnRvTG93ZXJDYXNlKCkgIT09IG90aGVyLmFkZHJlc3MudG9Mb3dlckNhc2UoKSkgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBpbnZhcmlhbnQoZmFsc2UsICdBRERSRVNTRVMnKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgcmV0dXJuIHRoaXMuYWRkcmVzcy50b0xvd2VyQ2FzZSgpIDwgb3RoZXIuYWRkcmVzcy50b0xvd2VyQ2FzZSgpO1xuICB9XG4gIC8qKlxyXG4gICAqIFJldHVybiB0aGlzIHRva2VuLCB3aGljaCBkb2VzIG5vdCBuZWVkIHRvIGJlIHdyYXBwZWRcclxuICAgKi87XG4gIF9jcmVhdGVDbGFzcyhUb2tlbiwgW3tcbiAgICBrZXk6IFwid3JhcHBlZFwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICB9XSk7XG4gIHJldHVybiBUb2tlbjtcbn0oQmFzZUN1cnJlbmN5KTtcblxuLyoqXHJcbiAqIEtub3duIFdFVEg5IGltcGxlbWVudGF0aW9uIGFkZHJlc3NlcywgdXNlZCBpbiBvdXIgaW1wbGVtZW50YXRpb24gb2YgRXRoZXIjd3JhcHBlZFxyXG4gKi9cbnZhciBXRVRIOSA9IHtcbiAgMTogLyojX19QVVJFX18qL25ldyBUb2tlbigxLCAnMHhDMDJhYUEzOWIyMjNGRThEMEEwZTVDNEYyN2VBRDkwODNDNzU2Q2MyJywgMTgsICdXRVRIJywgJ1dyYXBwZWQgRXRoZXInKSxcbiAgMTExNTUxMTE6IC8qI19fUFVSRV9fKi9uZXcgVG9rZW4oMTExNTUxMTEsICcweGZGZjk5NzY3ODJkNDZDQzA1NjMwRDFmNmVCQWIxOGIyMzI0ZDZCMTQnLCAxOCwgJ1dFVEgnLCAnV3JhcHBlZCBFdGhlcicpLFxuICAzOiAvKiNfX1BVUkVfXyovbmV3IFRva2VuKDMsICcweGM3Nzg0MTdFMDYzMTQxMTM5RmNlMDEwOTgyNzgwMTQwQWEwY0Q1QWInLCAxOCwgJ1dFVEgnLCAnV3JhcHBlZCBFdGhlcicpLFxuICA0OiAvKiNfX1BVUkVfXyovbmV3IFRva2VuKDQsICcweGM3Nzg0MTdFMDYzMTQxMTM5RmNlMDEwOTgyNzgwMTQwQWEwY0Q1QWInLCAxOCwgJ1dFVEgnLCAnV3JhcHBlZCBFdGhlcicpLFxuICA1OiAvKiNfX1BVUkVfXyovbmV3IFRva2VuKDUsICcweEI0RkJGMjcxMTQzRjRGQmY3QjkxQTVkZWQzMTgwNWU0MmIyMjA4ZDYnLCAxOCwgJ1dFVEgnLCAnV3JhcHBlZCBFdGhlcicpLFxuICA0MjogLyojX19QVVJFX18qL25ldyBUb2tlbig0MiwgJzB4ZDBBMUUzNTk4MTEzMjJkOTc5OTFFMDNmODYzYTBDMzBDMmNGMDI5QycsIDE4LCAnV0VUSCcsICdXcmFwcGVkIEV0aGVyJyksXG4gIDEwOiAvKiNfX1BVUkVfXyovbmV3IFRva2VuKDEwLCAnMHg0MjAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDA2JywgMTgsICdXRVRIJywgJ1dyYXBwZWQgRXRoZXInKSxcbiAgNjk6IC8qI19fUFVSRV9fKi9uZXcgVG9rZW4oNjksICcweDQyMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDYnLCAxOCwgJ1dFVEgnLCAnV3JhcHBlZCBFdGhlcicpLFxuICAxMTE1NTQyMDogLyojX19QVVJFX18qL25ldyBUb2tlbigxMTE1NTQyMCwgJzB4NDIwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwNicsIDE4LCAnV0VUSCcsICdXcmFwcGVkIEV0aGVyJyksXG4gIDQyMTYxOiAvKiNfX1BVUkVfXyovbmV3IFRva2VuKDQyMTYxLCAnMHg4MmFGNDk0NDdEOGEwN2UzYmQ5NUJEMGQ1NmYzNTI0MTUyM2ZCYWIxJywgMTgsICdXRVRIJywgJ1dyYXBwZWQgRXRoZXInKSxcbiAgNDIxNjExOiAvKiNfX1BVUkVfXyovbmV3IFRva2VuKDQyMTYxMSwgJzB4QjQ3ZTZBNWY4YjMzYjNGMTc2MDNDODNhMDUzNUE5ZGNEN0UzMjY4MScsIDE4LCAnV0VUSCcsICdXcmFwcGVkIEV0aGVyJyksXG4gIDQyMTYxNDogLyojX19QVVJFX18qL25ldyBUb2tlbig0MjE2MTQsICcweDk4MEI2MkRhODNlRmYzRDQ1NzZDNjQ3OTkzYjBjMUQ3ZmFmMTdjNzMnLCAxOCwgJ1dFVEgnLCAnV3JhcHBlZCBFdGhlcicpLFxuICA4NDUzOiAvKiNfX1BVUkVfXyovbmV3IFRva2VuKDg0NTMsICcweDQyMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDYnLCAxOCwgJ1dFVEgnLCAnV3JhcHBlZCBFdGhlcicpLFxuICA1NjogLyojX19QVVJFX18qL25ldyBUb2tlbig1NiwgJzB4YmI0Q2RCOUNCZDM2QjAxYkQxY0JhRUJGMkRlMDhkOTE3M2JjMDk1YycsIDE4LCAnV0JOQicsICdXcmFwcGVkIEJOQicpLFxuICAxMzc6IC8qI19fUFVSRV9fKi9uZXcgVG9rZW4oMTM3LCAnMHgwZDUwMEIxZDhFOGVGMzFFMjFDOTlkMURiOUE2NDQ0ZDNBRGYxMjcwJywgMTgsICdXTUFUSUMnLCAnV3JhcHBlZCBNQVRJQycpLFxuICA0MzExNDogLyojX19QVVJFX18qL25ldyBUb2tlbig0MzExNCwgJzB4QjMxZjY2QUEzQzFlNzg1MzYzRjA4NzVBMUI3NEUyN2I4NUZENjZjNycsIDE4LCAnV0FWQVgnLCAnV3JhcHBlZCBBVkFYJyksXG4gIDc3Nzc3Nzc6IC8qI19fUFVSRV9fKi9uZXcgVG9rZW4oNzc3Nzc3NywgJzB4NDIwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwNicsIDE4LCAnV0VUSCcsICdXcmFwcGVkIEV0aGVyJyksXG4gIDgxNDU3OiAvKiNfX1BVUkVfXyovbmV3IFRva2VuKDgxNDU3LCAnMHg0MzAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDA0JywgMTgsICdXRVRIJywgJ1dyYXBwZWQgRXRoZXInKSxcbiAgMzI0OiAvKiNfX1BVUkVfXyovbmV3IFRva2VuKDMyNCwgJzB4NUFFYTU3NzU5NTlmQkMyNTU3Q2M4Nzg5YkMxYmY5MEEyMzlEOWE5MScsIDE4LCAnV0VUSCcsICdXcmFwcGVkIEV0aGVyJyksXG4gIDQ4MDogLyojX19QVVJFX18qL25ldyBUb2tlbig0ODAsICcweDQyMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDYnLCAxOCwgJ1dFVEgnLCAnV3JhcHBlZCBFdGhlcicpLFxuICAxMzAxOiAvKiNfX1BVUkVfXyovbmV3IFRva2VuKDEzMDEsICcweDQyMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDYnLCAxOCwgJ1dFVEgnLCAnV3JhcHBlZCBFdGhlcicpXG59O1xuXG4vKipcclxuICogRXRoZXIgaXMgdGhlIG1haW4gdXNhZ2Ugb2YgYSAnbmF0aXZlJyBjdXJyZW5jeSwgaS5lLiBmb3IgRXRoZXJldW0gbWFpbm5ldCBhbmQgYWxsIHRlc3RuZXRzXHJcbiAqL1xudmFyIEV0aGVyID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfTmF0aXZlQ3VycmVuY3kpIHtcbiAgX2luaGVyaXRzTG9vc2UoRXRoZXIsIF9OYXRpdmVDdXJyZW5jeSk7XG4gIGZ1bmN0aW9uIEV0aGVyKGNoYWluSWQpIHtcbiAgICByZXR1cm4gX05hdGl2ZUN1cnJlbmN5LmNhbGwodGhpcywgY2hhaW5JZCwgMTgsICdFVEgnLCAnRXRoZXInKSB8fCB0aGlzO1xuICB9XG4gIEV0aGVyLm9uQ2hhaW4gPSBmdW5jdGlvbiBvbkNoYWluKGNoYWluSWQpIHtcbiAgICB2YXIgX3RoaXMkX2V0aGVyQ2FjaGUkY2hhO1xuICAgIHJldHVybiAoX3RoaXMkX2V0aGVyQ2FjaGUkY2hhID0gdGhpcy5fZXRoZXJDYWNoZVtjaGFpbklkXSkgIT0gbnVsbCA/IF90aGlzJF9ldGhlckNhY2hlJGNoYSA6IHRoaXMuX2V0aGVyQ2FjaGVbY2hhaW5JZF0gPSBuZXcgRXRoZXIoY2hhaW5JZCk7XG4gIH07XG4gIHZhciBfcHJvdG8gPSBFdGhlci5wcm90b3R5cGU7XG4gIF9wcm90by5lcXVhbHMgPSBmdW5jdGlvbiBlcXVhbHMob3RoZXIpIHtcbiAgICByZXR1cm4gb3RoZXIuaXNOYXRpdmUgJiYgb3RoZXIuY2hhaW5JZCA9PT0gdGhpcy5jaGFpbklkO1xuICB9O1xuICBfY3JlYXRlQ2xhc3MoRXRoZXIsIFt7XG4gICAga2V5OiBcIndyYXBwZWRcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHZhciB3ZXRoOSA9IFdFVEg5W3RoaXMuY2hhaW5JZF07XG4gICAgICAhISF3ZXRoOSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IGludmFyaWFudChmYWxzZSwgJ1dSQVBQRUQnKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgICByZXR1cm4gd2V0aDk7XG4gICAgfVxuICB9XSk7XG4gIHJldHVybiBFdGhlcjtcbn0oTmF0aXZlQ3VycmVuY3kpO1xuRXRoZXIuX2V0aGVyQ2FjaGUgPSB7fTtcblxuLyoqXHJcbiAqIFJldHVybnMgdGhlIHBlcmNlbnQgZGlmZmVyZW5jZSBiZXR3ZWVuIHRoZSBtaWQgcHJpY2UgYW5kIHRoZSBleGVjdXRpb24gcHJpY2UsIGkuZS4gcHJpY2UgaW1wYWN0LlxyXG4gKiBAcGFyYW0gbWlkUHJpY2UgbWlkIHByaWNlIGJlZm9yZSB0aGUgdHJhZGVcclxuICogQHBhcmFtIGlucHV0QW1vdW50IHRoZSBpbnB1dCBhbW91bnQgb2YgdGhlIHRyYWRlXHJcbiAqIEBwYXJhbSBvdXRwdXRBbW91bnQgdGhlIG91dHB1dCBhbW91bnQgb2YgdGhlIHRyYWRlXHJcbiAqL1xuZnVuY3Rpb24gY29tcHV0ZVByaWNlSW1wYWN0KG1pZFByaWNlLCBpbnB1dEFtb3VudCwgb3V0cHV0QW1vdW50KSB7XG4gIHZhciBxdW90ZWRPdXRwdXRBbW91bnQgPSBtaWRQcmljZS5xdW90ZShpbnB1dEFtb3VudCk7XG4gIC8vIGNhbGN1bGF0ZSBwcmljZSBpbXBhY3QgOj0gKGV4YWN0UXVvdGUgLSBvdXRwdXRBbW91bnQpIC8gZXhhY3RRdW90ZVxuICB2YXIgcHJpY2VJbXBhY3QgPSBxdW90ZWRPdXRwdXRBbW91bnQuc3VidHJhY3Qob3V0cHV0QW1vdW50KS5kaXZpZGUocXVvdGVkT3V0cHV0QW1vdW50KTtcbiAgcmV0dXJuIG5ldyBQZXJjZW50KHByaWNlSW1wYWN0Lm51bWVyYXRvciwgcHJpY2VJbXBhY3QuZGVub21pbmF0b3IpO1xufVxuXG5mdW5jdGlvbiBjb21wdXRlWmtzeW5jQ3JlYXRlMkFkZHJlc3Moc2VuZGVyLCBieXRlY29kZUhhc2gsIHNhbHQsIGlucHV0KSB7XG4gIGlmIChpbnB1dCA9PT0gdm9pZCAwKSB7XG4gICAgaW5wdXQgPSAnMHgnO1xuICB9XG4gIHZhciBwcmVmaXggPSBrZWNjYWsyNTYodG9VdGY4Qnl0ZXMoJ3prc3luY0NyZWF0ZTInKSk7XG4gIHZhciBpbnB1dEhhc2ggPSBrZWNjYWsyNTYoaW5wdXQpO1xuICB2YXIgYWRkcmVzc0J5dGVzID0ga2VjY2FrMjU2KGNvbmNhdChbcHJlZml4LCBoZXhaZXJvUGFkKHNlbmRlciwgMzIpLCBzYWx0LCBieXRlY29kZUhhc2gsIGlucHV0SGFzaF0pKS5zbGljZSgyNik7XG4gIHJldHVybiBnZXRBZGRyZXNzKGFkZHJlc3NCeXRlcyk7XG59XG5cbi8vIGdpdmVuIGFuIGFycmF5IG9mIGl0ZW1zIHNvcnRlZCBieSBgY29tcGFyYXRvcmAsIGluc2VydCBhbiBpdGVtIGludG8gaXRzIHNvcnQgaW5kZXggYW5kIGNvbnN0cmFpbiB0aGUgc2l6ZSB0b1xuLy8gYG1heFNpemVgIGJ5IHJlbW92aW5nIHRoZSBsYXN0IGl0ZW1cbmZ1bmN0aW9uIHNvcnRlZEluc2VydChpdGVtcywgYWRkLCBtYXhTaXplLCBjb21wYXJhdG9yKSB7XG4gICEobWF4U2l6ZSA+IDApID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gaW52YXJpYW50KGZhbHNlLCAnTUFYX1NJWkVfWkVSTycpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgLy8gdGhpcyBpcyBhbiBpbnZhcmlhbnQgYmVjYXVzZSB0aGUgaW50ZXJmYWNlIGNhbm5vdCByZXR1cm4gbXVsdGlwbGUgcmVtb3ZlZCBpdGVtcyBpZiBpdGVtcy5sZW5ndGggZXhjZWVkcyBtYXhTaXplXG4gICEoaXRlbXMubGVuZ3RoIDw9IG1heFNpemUpID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gaW52YXJpYW50KGZhbHNlLCAnSVRFTVNfU0laRScpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgLy8gc2hvcnQgY2lyY3VpdCBmaXJzdCBpdGVtIGFkZFxuICBpZiAoaXRlbXMubGVuZ3RoID09PSAwKSB7XG4gICAgaXRlbXMucHVzaChhZGQpO1xuICAgIHJldHVybiBudWxsO1xuICB9IGVsc2Uge1xuICAgIHZhciBpc0Z1bGwgPSBpdGVtcy5sZW5ndGggPT09IG1heFNpemU7XG4gICAgLy8gc2hvcnQgY2lyY3VpdCBpZiBmdWxsIGFuZCB0aGUgYWRkaXRpb25hbCBpdGVtIGRvZXMgbm90IGNvbWUgYmVmb3JlIHRoZSBsYXN0IGl0ZW1cbiAgICBpZiAoaXNGdWxsICYmIGNvbXBhcmF0b3IoaXRlbXNbaXRlbXMubGVuZ3RoIC0gMV0sIGFkZCkgPD0gMCkge1xuICAgICAgcmV0dXJuIGFkZDtcbiAgICB9XG4gICAgdmFyIGxvID0gMCxcbiAgICAgIGhpID0gaXRlbXMubGVuZ3RoO1xuICAgIHdoaWxlIChsbyA8IGhpKSB7XG4gICAgICB2YXIgbWlkID0gbG8gKyBoaSA+Pj4gMTtcbiAgICAgIGlmIChjb21wYXJhdG9yKGl0ZW1zW21pZF0sIGFkZCkgPD0gMCkge1xuICAgICAgICBsbyA9IG1pZCArIDE7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBoaSA9IG1pZDtcbiAgICAgIH1cbiAgICB9XG4gICAgaXRlbXMuc3BsaWNlKGxvLCAwLCBhZGQpO1xuICAgIHJldHVybiBpc0Z1bGwgPyBpdGVtcy5wb3AoKSA6IG51bGw7XG4gIH1cbn1cblxudmFyIE1BWF9TQUZFX0lOVEVHRVIgPSAvKiNfX1BVUkVfXyovSlNCSS5CaWdJbnQoTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVIpO1xudmFyIFpFUk8gPSAvKiNfX1BVUkVfXyovSlNCSS5CaWdJbnQoMCk7XG52YXIgT05FID0gLyojX19QVVJFX18qL0pTQkkuQmlnSW50KDEpO1xudmFyIFRXTyA9IC8qI19fUFVSRV9fKi9KU0JJLkJpZ0ludCgyKTtcbi8qKlxyXG4gKiBDb21wdXRlcyBmbG9vcihzcXJ0KHZhbHVlKSlcclxuICogQHBhcmFtIHZhbHVlIHRoZSB2YWx1ZSBmb3Igd2hpY2ggdG8gY29tcHV0ZSB0aGUgc3F1YXJlIHJvb3QsIHJvdW5kZWQgZG93blxyXG4gKi9cbmZ1bmN0aW9uIHNxcnQodmFsdWUpIHtcbiAgIUpTQkkuZ3JlYXRlclRoYW5PckVxdWFsKHZhbHVlLCBaRVJPKSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IGludmFyaWFudChmYWxzZSwgJ05FR0FUSVZFJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAvLyByZWx5IG9uIGJ1aWx0IGluIHNxcnQgaWYgcG9zc2libGVcbiAgaWYgKEpTQkkubGVzc1RoYW4odmFsdWUsIE1BWF9TQUZFX0lOVEVHRVIpKSB7XG4gICAgcmV0dXJuIEpTQkkuQmlnSW50KE1hdGguZmxvb3IoTWF0aC5zcXJ0KEpTQkkudG9OdW1iZXIodmFsdWUpKSkpO1xuICB9XG4gIHZhciB6O1xuICB2YXIgeDtcbiAgeiA9IHZhbHVlO1xuICB4ID0gSlNCSS5hZGQoSlNCSS5kaXZpZGUodmFsdWUsIFRXTyksIE9ORSk7XG4gIHdoaWxlIChKU0JJLmxlc3NUaGFuKHgsIHopKSB7XG4gICAgeiA9IHg7XG4gICAgeCA9IEpTQkkuZGl2aWRlKEpTQkkuYWRkKEpTQkkuZGl2aWRlKHZhbHVlLCB4KSwgeCksIFRXTyk7XG4gIH1cbiAgcmV0dXJuIHo7XG59XG5cbmV4cG9ydCB7IEFSR0VOVF9XQUxMRVRfREVURUNUT1JfQUREUkVTUywgQ0hBSU5fVE9fQUREUkVTU0VTX01BUCwgQ2hhaW5JZCwgQ3VycmVuY3lBbW91bnQsIEVOU19SRUdJU1RSQVJfQUREUkVTU0VTLCBFdGhlciwgRnJhY3Rpb24sIEdPVkVSTkFOQ0VfQUxQSEFfVjBfQUREUkVTU0VTLCBHT1ZFUk5BTkNFX0FMUEhBX1YxX0FERFJFU1NFUywgR09WRVJOQU5DRV9CUkFWT19BRERSRVNTRVMsIE1FUktMRV9ESVNUUklCVVRPUl9BRERSRVNTLCBNSVhFRF9ST1VURV9RVU9URVJfVjFfQUREUkVTU0VTLCBNVUxUSUNBTExfQUREUkVTU0VTLCBNYXhVaW50MjU2LCBOT05GVU5HSUJMRV9QT1NJVElPTl9NQU5BR0VSX0FERFJFU1NFUywgTmF0aXZlQ3VycmVuY3ksIE5hdGl2ZUN1cnJlbmN5TmFtZSwgUGVyY2VudCwgUHJpY2UsIFFVT1RFUl9BRERSRVNTRVMsIFJvdW5kaW5nLCBTT0NLU19DT05UUk9MTEVSX0FERFJFU1NFUywgU1VQUE9SVEVEX0NIQUlOUywgU1dBUF9ST1VURVJfMDJfQUREUkVTU0VTLCBUSUNLX0xFTlNfQUREUkVTU0VTLCBUSU1FTE9DS19BRERSRVNTRVMsIFRva2VuLCBUcmFkZVR5cGUsIFVOSVNXQVBfTkZUX0FJUkRST1BfQ0xBSU1fQUREUkVTUywgVU5JX0FERFJFU1NFUywgVjJfRkFDVE9SWV9BRERSRVNTLCBWMl9GQUNUT1JZX0FERFJFU1NFUywgVjJfUk9VVEVSX0FERFJFU1MsIFYyX1JPVVRFUl9BRERSRVNTRVMsIFYzX0NPUkVfRkFDVE9SWV9BRERSRVNTRVMsIFYzX01JR1JBVE9SX0FERFJFU1NFUywgV0VUSDksIGNvbXB1dGVQcmljZUltcGFjdCwgY29tcHV0ZVprc3luY0NyZWF0ZTJBZGRyZXNzLCBzb3J0ZWRJbnNlcnQsIHNxcnQsIHZhbGlkYXRlQW5kUGFyc2VBZGRyZXNzIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zZGstY29yZS5lc20uanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@uniswap/sdk-core/dist/sdk-core.esm.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@uniswap/sdk-core/node_modules/@ethersproject/keccak256/lib.esm/index.js":
/*!***************************************************************************************************!*\
  !*** ../../node_modules/@uniswap/sdk-core/node_modules/@ethersproject/keccak256/lib.esm/index.js ***!
  \***************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   keccak256: () => (/* binding */ keccak256)\n/* harmony export */ });\n/* harmony import */ var js_sha3__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! js-sha3 */ \"(ssr)/../../node_modules/js-sha3/src/sha3.js\");\n/* harmony import */ var js_sha3__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(js_sha3__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _ethersproject_bytes__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @ethersproject/bytes */ \"(ssr)/../../node_modules/@ethersproject/bytes/lib.esm/index.js\");\n\n\n\nfunction keccak256(data) {\n    return '0x' + js_sha3__WEBPACK_IMPORTED_MODULE_0___default().keccak_256((0,_ethersproject_bytes__WEBPACK_IMPORTED_MODULE_1__.arrayify)(data));\n}\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0B1bmlzd2FwL3Nkay1jb3JlL25vZGVfbW9kdWxlcy9AZXRoZXJzcHJvamVjdC9rZWNjYWsyNTYvbGliLmVzbS9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQWE7QUFDYztBQUNxQjtBQUN6QztBQUNQLGtCQUFrQix5REFBZSxDQUFDLDhEQUFRO0FBQzFDO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Ac2UtMi9uZXh0anMvLi4vLi4vbm9kZV9tb2R1bGVzL0B1bmlzd2FwL3Nkay1jb3JlL25vZGVfbW9kdWxlcy9AZXRoZXJzcHJvamVjdC9rZWNjYWsyNTYvbGliLmVzbS9pbmRleC5qcz8wYmIxIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuaW1wb3J0IHNoYTMgZnJvbSBcImpzLXNoYTNcIjtcbmltcG9ydCB7IGFycmF5aWZ5IH0gZnJvbSBcIkBldGhlcnNwcm9qZWN0L2J5dGVzXCI7XG5leHBvcnQgZnVuY3Rpb24ga2VjY2FrMjU2KGRhdGEpIHtcbiAgICByZXR1cm4gJzB4JyArIHNoYTMua2VjY2FrXzI1NihhcnJheWlmeShkYXRhKSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@uniswap/sdk-core/node_modules/@ethersproject/keccak256/lib.esm/index.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@uniswap/sdk-core/node_modules/@ethersproject/strings/lib.esm/_version.js":
/*!****************************************************************************************************!*\
  !*** ../../node_modules/@uniswap/sdk-core/node_modules/@ethersproject/strings/lib.esm/_version.js ***!
  \****************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   version: () => (/* binding */ version)\n/* harmony export */ });\nconst version = \"strings/5.7.0\";\n//# sourceMappingURL=_version.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0B1bmlzd2FwL3Nkay1jb3JlL25vZGVfbW9kdWxlcy9AZXRoZXJzcHJvamVjdC9zdHJpbmdzL2xpYi5lc20vX3ZlcnNpb24uanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFPO0FBQ1AiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Ac2UtMi9uZXh0anMvLi4vLi4vbm9kZV9tb2R1bGVzL0B1bmlzd2FwL3Nkay1jb3JlL25vZGVfbW9kdWxlcy9AZXRoZXJzcHJvamVjdC9zdHJpbmdzL2xpYi5lc20vX3ZlcnNpb24uanM/YjNkYyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3QgdmVyc2lvbiA9IFwic3RyaW5ncy81LjcuMFwiO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9X3ZlcnNpb24uanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@uniswap/sdk-core/node_modules/@ethersproject/strings/lib.esm/_version.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@uniswap/sdk-core/node_modules/@ethersproject/strings/lib.esm/utf8.js":
/*!************************************************************************************************!*\
  !*** ../../node_modules/@uniswap/sdk-core/node_modules/@ethersproject/strings/lib.esm/utf8.js ***!
  \************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   UnicodeNormalizationForm: () => (/* binding */ UnicodeNormalizationForm),\n/* harmony export */   Utf8ErrorFuncs: () => (/* binding */ Utf8ErrorFuncs),\n/* harmony export */   Utf8ErrorReason: () => (/* binding */ Utf8ErrorReason),\n/* harmony export */   _toEscapedUtf8String: () => (/* binding */ _toEscapedUtf8String),\n/* harmony export */   _toUtf8String: () => (/* binding */ _toUtf8String),\n/* harmony export */   toUtf8Bytes: () => (/* binding */ toUtf8Bytes),\n/* harmony export */   toUtf8CodePoints: () => (/* binding */ toUtf8CodePoints),\n/* harmony export */   toUtf8String: () => (/* binding */ toUtf8String)\n/* harmony export */ });\n/* harmony import */ var _ethersproject_bytes__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ethersproject/bytes */ \"(ssr)/../../node_modules/@ethersproject/bytes/lib.esm/index.js\");\n/* harmony import */ var _ethersproject_logger__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @ethersproject/logger */ \"(ssr)/../../node_modules/@ethersproject/logger/lib.esm/index.js\");\n/* harmony import */ var _version__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./_version */ \"(ssr)/../../node_modules/@uniswap/sdk-core/node_modules/@ethersproject/strings/lib.esm/_version.js\");\n\n\n\n\nconst logger = new _ethersproject_logger__WEBPACK_IMPORTED_MODULE_0__.Logger(_version__WEBPACK_IMPORTED_MODULE_1__.version);\n///////////////////////////////\nvar UnicodeNormalizationForm;\n(function (UnicodeNormalizationForm) {\n    UnicodeNormalizationForm[\"current\"] = \"\";\n    UnicodeNormalizationForm[\"NFC\"] = \"NFC\";\n    UnicodeNormalizationForm[\"NFD\"] = \"NFD\";\n    UnicodeNormalizationForm[\"NFKC\"] = \"NFKC\";\n    UnicodeNormalizationForm[\"NFKD\"] = \"NFKD\";\n})(UnicodeNormalizationForm || (UnicodeNormalizationForm = {}));\n;\nvar Utf8ErrorReason;\n(function (Utf8ErrorReason) {\n    // A continuation byte was present where there was nothing to continue\n    // - offset = the index the codepoint began in\n    Utf8ErrorReason[\"UNEXPECTED_CONTINUE\"] = \"unexpected continuation byte\";\n    // An invalid (non-continuation) byte to start a UTF-8 codepoint was found\n    // - offset = the index the codepoint began in\n    Utf8ErrorReason[\"BAD_PREFIX\"] = \"bad codepoint prefix\";\n    // The string is too short to process the expected codepoint\n    // - offset = the index the codepoint began in\n    Utf8ErrorReason[\"OVERRUN\"] = \"string overrun\";\n    // A missing continuation byte was expected but not found\n    // - offset = the index the continuation byte was expected at\n    Utf8ErrorReason[\"MISSING_CONTINUE\"] = \"missing continuation byte\";\n    // The computed code point is outside the range for UTF-8\n    // - offset       = start of this codepoint\n    // - badCodepoint = the computed codepoint; outside the UTF-8 range\n    Utf8ErrorReason[\"OUT_OF_RANGE\"] = \"out of UTF-8 range\";\n    // UTF-8 strings may not contain UTF-16 surrogate pairs\n    // - offset       = start of this codepoint\n    // - badCodepoint = the computed codepoint; inside the UTF-16 surrogate range\n    Utf8ErrorReason[\"UTF16_SURROGATE\"] = \"UTF-16 surrogate\";\n    // The string is an overlong representation\n    // - offset       = start of this codepoint\n    // - badCodepoint = the computed codepoint; already bounds checked\n    Utf8ErrorReason[\"OVERLONG\"] = \"overlong representation\";\n})(Utf8ErrorReason || (Utf8ErrorReason = {}));\n;\nfunction errorFunc(reason, offset, bytes, output, badCodepoint) {\n    return logger.throwArgumentError(`invalid codepoint at offset ${offset}; ${reason}`, \"bytes\", bytes);\n}\nfunction ignoreFunc(reason, offset, bytes, output, badCodepoint) {\n    // If there is an invalid prefix (including stray continuation), skip any additional continuation bytes\n    if (reason === Utf8ErrorReason.BAD_PREFIX || reason === Utf8ErrorReason.UNEXPECTED_CONTINUE) {\n        let i = 0;\n        for (let o = offset + 1; o < bytes.length; o++) {\n            if (bytes[o] >> 6 !== 0x02) {\n                break;\n            }\n            i++;\n        }\n        return i;\n    }\n    // This byte runs us past the end of the string, so just jump to the end\n    // (but the first byte was read already read and therefore skipped)\n    if (reason === Utf8ErrorReason.OVERRUN) {\n        return bytes.length - offset - 1;\n    }\n    // Nothing to skip\n    return 0;\n}\nfunction replaceFunc(reason, offset, bytes, output, badCodepoint) {\n    // Overlong representations are otherwise \"valid\" code points; just non-deistingtished\n    if (reason === Utf8ErrorReason.OVERLONG) {\n        output.push(badCodepoint);\n        return 0;\n    }\n    // Put the replacement character into the output\n    output.push(0xfffd);\n    // Otherwise, process as if ignoring errors\n    return ignoreFunc(reason, offset, bytes, output, badCodepoint);\n}\n// Common error handing strategies\nconst Utf8ErrorFuncs = Object.freeze({\n    error: errorFunc,\n    ignore: ignoreFunc,\n    replace: replaceFunc\n});\n// http://stackoverflow.com/questions/13356493/decode-utf-8-with-javascript#13691499\nfunction getUtf8CodePoints(bytes, onError) {\n    if (onError == null) {\n        onError = Utf8ErrorFuncs.error;\n    }\n    bytes = (0,_ethersproject_bytes__WEBPACK_IMPORTED_MODULE_2__.arrayify)(bytes);\n    const result = [];\n    let i = 0;\n    // Invalid bytes are ignored\n    while (i < bytes.length) {\n        const c = bytes[i++];\n        // 0xxx xxxx\n        if (c >> 7 === 0) {\n            result.push(c);\n            continue;\n        }\n        // Multibyte; how many bytes left for this character?\n        let extraLength = null;\n        let overlongMask = null;\n        // 110x xxxx 10xx xxxx\n        if ((c & 0xe0) === 0xc0) {\n            extraLength = 1;\n            overlongMask = 0x7f;\n            // 1110 xxxx 10xx xxxx 10xx xxxx\n        }\n        else if ((c & 0xf0) === 0xe0) {\n            extraLength = 2;\n            overlongMask = 0x7ff;\n            // 1111 0xxx 10xx xxxx 10xx xxxx 10xx xxxx\n        }\n        else if ((c & 0xf8) === 0xf0) {\n            extraLength = 3;\n            overlongMask = 0xffff;\n        }\n        else {\n            if ((c & 0xc0) === 0x80) {\n                i += onError(Utf8ErrorReason.UNEXPECTED_CONTINUE, i - 1, bytes, result);\n            }\n            else {\n                i += onError(Utf8ErrorReason.BAD_PREFIX, i - 1, bytes, result);\n            }\n            continue;\n        }\n        // Do we have enough bytes in our data?\n        if (i - 1 + extraLength >= bytes.length) {\n            i += onError(Utf8ErrorReason.OVERRUN, i - 1, bytes, result);\n            continue;\n        }\n        // Remove the length prefix from the char\n        let res = c & ((1 << (8 - extraLength - 1)) - 1);\n        for (let j = 0; j < extraLength; j++) {\n            let nextChar = bytes[i];\n            // Invalid continuation byte\n            if ((nextChar & 0xc0) != 0x80) {\n                i += onError(Utf8ErrorReason.MISSING_CONTINUE, i, bytes, result);\n                res = null;\n                break;\n            }\n            ;\n            res = (res << 6) | (nextChar & 0x3f);\n            i++;\n        }\n        // See above loop for invalid continuation byte\n        if (res === null) {\n            continue;\n        }\n        // Maximum code point\n        if (res > 0x10ffff) {\n            i += onError(Utf8ErrorReason.OUT_OF_RANGE, i - 1 - extraLength, bytes, result, res);\n            continue;\n        }\n        // Reserved for UTF-16 surrogate halves\n        if (res >= 0xd800 && res <= 0xdfff) {\n            i += onError(Utf8ErrorReason.UTF16_SURROGATE, i - 1 - extraLength, bytes, result, res);\n            continue;\n        }\n        // Check for overlong sequences (more bytes than needed)\n        if (res <= overlongMask) {\n            i += onError(Utf8ErrorReason.OVERLONG, i - 1 - extraLength, bytes, result, res);\n            continue;\n        }\n        result.push(res);\n    }\n    return result;\n}\n// http://stackoverflow.com/questions/18729405/how-to-convert-utf8-string-to-byte-array\nfunction toUtf8Bytes(str, form = UnicodeNormalizationForm.current) {\n    if (form != UnicodeNormalizationForm.current) {\n        logger.checkNormalize();\n        str = str.normalize(form);\n    }\n    let result = [];\n    for (let i = 0; i < str.length; i++) {\n        const c = str.charCodeAt(i);\n        if (c < 0x80) {\n            result.push(c);\n        }\n        else if (c < 0x800) {\n            result.push((c >> 6) | 0xc0);\n            result.push((c & 0x3f) | 0x80);\n        }\n        else if ((c & 0xfc00) == 0xd800) {\n            i++;\n            const c2 = str.charCodeAt(i);\n            if (i >= str.length || (c2 & 0xfc00) !== 0xdc00) {\n                throw new Error(\"invalid utf-8 string\");\n            }\n            // Surrogate Pair\n            const pair = 0x10000 + ((c & 0x03ff) << 10) + (c2 & 0x03ff);\n            result.push((pair >> 18) | 0xf0);\n            result.push(((pair >> 12) & 0x3f) | 0x80);\n            result.push(((pair >> 6) & 0x3f) | 0x80);\n            result.push((pair & 0x3f) | 0x80);\n        }\n        else {\n            result.push((c >> 12) | 0xe0);\n            result.push(((c >> 6) & 0x3f) | 0x80);\n            result.push((c & 0x3f) | 0x80);\n        }\n    }\n    return (0,_ethersproject_bytes__WEBPACK_IMPORTED_MODULE_2__.arrayify)(result);\n}\n;\nfunction escapeChar(value) {\n    const hex = (\"0000\" + value.toString(16));\n    return \"\\\\u\" + hex.substring(hex.length - 4);\n}\nfunction _toEscapedUtf8String(bytes, onError) {\n    return '\"' + getUtf8CodePoints(bytes, onError).map((codePoint) => {\n        if (codePoint < 256) {\n            switch (codePoint) {\n                case 8: return \"\\\\b\";\n                case 9: return \"\\\\t\";\n                case 10: return \"\\\\n\";\n                case 13: return \"\\\\r\";\n                case 34: return \"\\\\\\\"\";\n                case 92: return \"\\\\\\\\\";\n            }\n            if (codePoint >= 32 && codePoint < 127) {\n                return String.fromCharCode(codePoint);\n            }\n        }\n        if (codePoint <= 0xffff) {\n            return escapeChar(codePoint);\n        }\n        codePoint -= 0x10000;\n        return escapeChar(((codePoint >> 10) & 0x3ff) + 0xd800) + escapeChar((codePoint & 0x3ff) + 0xdc00);\n    }).join(\"\") + '\"';\n}\nfunction _toUtf8String(codePoints) {\n    return codePoints.map((codePoint) => {\n        if (codePoint <= 0xffff) {\n            return String.fromCharCode(codePoint);\n        }\n        codePoint -= 0x10000;\n        return String.fromCharCode((((codePoint >> 10) & 0x3ff) + 0xd800), ((codePoint & 0x3ff) + 0xdc00));\n    }).join(\"\");\n}\nfunction toUtf8String(bytes, onError) {\n    return _toUtf8String(getUtf8CodePoints(bytes, onError));\n}\nfunction toUtf8CodePoints(str, form = UnicodeNormalizationForm.current) {\n    return getUtf8CodePoints(toUtf8Bytes(str, form));\n}\n//# sourceMappingURL=utf8.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0B1bmlzd2FwL3Nkay1jb3JlL25vZGVfbW9kdWxlcy9AZXRoZXJzcHJvamVjdC9zdHJpbmdzL2xpYi5lc20vdXRmOC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQUFhO0FBQ21DO0FBQ0Q7QUFDVjtBQUNyQyxtQkFBbUIseURBQU0sQ0FBQyw2Q0FBTztBQUNqQztBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyw0REFBNEQ7QUFDN0Q7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdEQUFnRDtBQUNoRDtBQUNBO0FBQ0E7QUFDQSxnREFBZ0Q7QUFDaEQ7QUFDQTtBQUNBO0FBQ0EsZ0RBQWdEO0FBQ2hEO0FBQ0EsQ0FBQywwQ0FBMEM7QUFDM0M7QUFDQTtBQUNBLG9FQUFvRSxTQUFTLEVBQUUsT0FBTztBQUN0RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDLGtCQUFrQjtBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1FQUFtRTtBQUNuRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLDhEQUFRO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixpQkFBaUI7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixnQkFBZ0I7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyw4REFBUTtBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDTztBQUNQO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL0BzZS0yL25leHRqcy8uLi8uLi9ub2RlX21vZHVsZXMvQHVuaXN3YXAvc2RrLWNvcmUvbm9kZV9tb2R1bGVzL0BldGhlcnNwcm9qZWN0L3N0cmluZ3MvbGliLmVzbS91dGY4LmpzPzgxNmMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5pbXBvcnQgeyBhcnJheWlmeSB9IGZyb20gXCJAZXRoZXJzcHJvamVjdC9ieXRlc1wiO1xuaW1wb3J0IHsgTG9nZ2VyIH0gZnJvbSBcIkBldGhlcnNwcm9qZWN0L2xvZ2dlclwiO1xuaW1wb3J0IHsgdmVyc2lvbiB9IGZyb20gXCIuL192ZXJzaW9uXCI7XG5jb25zdCBsb2dnZXIgPSBuZXcgTG9nZ2VyKHZlcnNpb24pO1xuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuZXhwb3J0IHZhciBVbmljb2RlTm9ybWFsaXphdGlvbkZvcm07XG4oZnVuY3Rpb24gKFVuaWNvZGVOb3JtYWxpemF0aW9uRm9ybSkge1xuICAgIFVuaWNvZGVOb3JtYWxpemF0aW9uRm9ybVtcImN1cnJlbnRcIl0gPSBcIlwiO1xuICAgIFVuaWNvZGVOb3JtYWxpemF0aW9uRm9ybVtcIk5GQ1wiXSA9IFwiTkZDXCI7XG4gICAgVW5pY29kZU5vcm1hbGl6YXRpb25Gb3JtW1wiTkZEXCJdID0gXCJORkRcIjtcbiAgICBVbmljb2RlTm9ybWFsaXphdGlvbkZvcm1bXCJORktDXCJdID0gXCJORktDXCI7XG4gICAgVW5pY29kZU5vcm1hbGl6YXRpb25Gb3JtW1wiTkZLRFwiXSA9IFwiTkZLRFwiO1xufSkoVW5pY29kZU5vcm1hbGl6YXRpb25Gb3JtIHx8IChVbmljb2RlTm9ybWFsaXphdGlvbkZvcm0gPSB7fSkpO1xuO1xuZXhwb3J0IHZhciBVdGY4RXJyb3JSZWFzb247XG4oZnVuY3Rpb24gKFV0ZjhFcnJvclJlYXNvbikge1xuICAgIC8vIEEgY29udGludWF0aW9uIGJ5dGUgd2FzIHByZXNlbnQgd2hlcmUgdGhlcmUgd2FzIG5vdGhpbmcgdG8gY29udGludWVcbiAgICAvLyAtIG9mZnNldCA9IHRoZSBpbmRleCB0aGUgY29kZXBvaW50IGJlZ2FuIGluXG4gICAgVXRmOEVycm9yUmVhc29uW1wiVU5FWFBFQ1RFRF9DT05USU5VRVwiXSA9IFwidW5leHBlY3RlZCBjb250aW51YXRpb24gYnl0ZVwiO1xuICAgIC8vIEFuIGludmFsaWQgKG5vbi1jb250aW51YXRpb24pIGJ5dGUgdG8gc3RhcnQgYSBVVEYtOCBjb2RlcG9pbnQgd2FzIGZvdW5kXG4gICAgLy8gLSBvZmZzZXQgPSB0aGUgaW5kZXggdGhlIGNvZGVwb2ludCBiZWdhbiBpblxuICAgIFV0ZjhFcnJvclJlYXNvbltcIkJBRF9QUkVGSVhcIl0gPSBcImJhZCBjb2RlcG9pbnQgcHJlZml4XCI7XG4gICAgLy8gVGhlIHN0cmluZyBpcyB0b28gc2hvcnQgdG8gcHJvY2VzcyB0aGUgZXhwZWN0ZWQgY29kZXBvaW50XG4gICAgLy8gLSBvZmZzZXQgPSB0aGUgaW5kZXggdGhlIGNvZGVwb2ludCBiZWdhbiBpblxuICAgIFV0ZjhFcnJvclJlYXNvbltcIk9WRVJSVU5cIl0gPSBcInN0cmluZyBvdmVycnVuXCI7XG4gICAgLy8gQSBtaXNzaW5nIGNvbnRpbnVhdGlvbiBieXRlIHdhcyBleHBlY3RlZCBidXQgbm90IGZvdW5kXG4gICAgLy8gLSBvZmZzZXQgPSB0aGUgaW5kZXggdGhlIGNvbnRpbnVhdGlvbiBieXRlIHdhcyBleHBlY3RlZCBhdFxuICAgIFV0ZjhFcnJvclJlYXNvbltcIk1JU1NJTkdfQ09OVElOVUVcIl0gPSBcIm1pc3NpbmcgY29udGludWF0aW9uIGJ5dGVcIjtcbiAgICAvLyBUaGUgY29tcHV0ZWQgY29kZSBwb2ludCBpcyBvdXRzaWRlIHRoZSByYW5nZSBmb3IgVVRGLThcbiAgICAvLyAtIG9mZnNldCAgICAgICA9IHN0YXJ0IG9mIHRoaXMgY29kZXBvaW50XG4gICAgLy8gLSBiYWRDb2RlcG9pbnQgPSB0aGUgY29tcHV0ZWQgY29kZXBvaW50OyBvdXRzaWRlIHRoZSBVVEYtOCByYW5nZVxuICAgIFV0ZjhFcnJvclJlYXNvbltcIk9VVF9PRl9SQU5HRVwiXSA9IFwib3V0IG9mIFVURi04IHJhbmdlXCI7XG4gICAgLy8gVVRGLTggc3RyaW5ncyBtYXkgbm90IGNvbnRhaW4gVVRGLTE2IHN1cnJvZ2F0ZSBwYWlyc1xuICAgIC8vIC0gb2Zmc2V0ICAgICAgID0gc3RhcnQgb2YgdGhpcyBjb2RlcG9pbnRcbiAgICAvLyAtIGJhZENvZGVwb2ludCA9IHRoZSBjb21wdXRlZCBjb2RlcG9pbnQ7IGluc2lkZSB0aGUgVVRGLTE2IHN1cnJvZ2F0ZSByYW5nZVxuICAgIFV0ZjhFcnJvclJlYXNvbltcIlVURjE2X1NVUlJPR0FURVwiXSA9IFwiVVRGLTE2IHN1cnJvZ2F0ZVwiO1xuICAgIC8vIFRoZSBzdHJpbmcgaXMgYW4gb3ZlcmxvbmcgcmVwcmVzZW50YXRpb25cbiAgICAvLyAtIG9mZnNldCAgICAgICA9IHN0YXJ0IG9mIHRoaXMgY29kZXBvaW50XG4gICAgLy8gLSBiYWRDb2RlcG9pbnQgPSB0aGUgY29tcHV0ZWQgY29kZXBvaW50OyBhbHJlYWR5IGJvdW5kcyBjaGVja2VkXG4gICAgVXRmOEVycm9yUmVhc29uW1wiT1ZFUkxPTkdcIl0gPSBcIm92ZXJsb25nIHJlcHJlc2VudGF0aW9uXCI7XG59KShVdGY4RXJyb3JSZWFzb24gfHwgKFV0ZjhFcnJvclJlYXNvbiA9IHt9KSk7XG47XG5mdW5jdGlvbiBlcnJvckZ1bmMocmVhc29uLCBvZmZzZXQsIGJ5dGVzLCBvdXRwdXQsIGJhZENvZGVwb2ludCkge1xuICAgIHJldHVybiBsb2dnZXIudGhyb3dBcmd1bWVudEVycm9yKGBpbnZhbGlkIGNvZGVwb2ludCBhdCBvZmZzZXQgJHtvZmZzZXR9OyAke3JlYXNvbn1gLCBcImJ5dGVzXCIsIGJ5dGVzKTtcbn1cbmZ1bmN0aW9uIGlnbm9yZUZ1bmMocmVhc29uLCBvZmZzZXQsIGJ5dGVzLCBvdXRwdXQsIGJhZENvZGVwb2ludCkge1xuICAgIC8vIElmIHRoZXJlIGlzIGFuIGludmFsaWQgcHJlZml4IChpbmNsdWRpbmcgc3RyYXkgY29udGludWF0aW9uKSwgc2tpcCBhbnkgYWRkaXRpb25hbCBjb250aW51YXRpb24gYnl0ZXNcbiAgICBpZiAocmVhc29uID09PSBVdGY4RXJyb3JSZWFzb24uQkFEX1BSRUZJWCB8fCByZWFzb24gPT09IFV0ZjhFcnJvclJlYXNvbi5VTkVYUEVDVEVEX0NPTlRJTlVFKSB7XG4gICAgICAgIGxldCBpID0gMDtcbiAgICAgICAgZm9yIChsZXQgbyA9IG9mZnNldCArIDE7IG8gPCBieXRlcy5sZW5ndGg7IG8rKykge1xuICAgICAgICAgICAgaWYgKGJ5dGVzW29dID4+IDYgIT09IDB4MDIpIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGkrKztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaTtcbiAgICB9XG4gICAgLy8gVGhpcyBieXRlIHJ1bnMgdXMgcGFzdCB0aGUgZW5kIG9mIHRoZSBzdHJpbmcsIHNvIGp1c3QganVtcCB0byB0aGUgZW5kXG4gICAgLy8gKGJ1dCB0aGUgZmlyc3QgYnl0ZSB3YXMgcmVhZCBhbHJlYWR5IHJlYWQgYW5kIHRoZXJlZm9yZSBza2lwcGVkKVxuICAgIGlmIChyZWFzb24gPT09IFV0ZjhFcnJvclJlYXNvbi5PVkVSUlVOKSB7XG4gICAgICAgIHJldHVybiBieXRlcy5sZW5ndGggLSBvZmZzZXQgLSAxO1xuICAgIH1cbiAgICAvLyBOb3RoaW5nIHRvIHNraXBcbiAgICByZXR1cm4gMDtcbn1cbmZ1bmN0aW9uIHJlcGxhY2VGdW5jKHJlYXNvbiwgb2Zmc2V0LCBieXRlcywgb3V0cHV0LCBiYWRDb2RlcG9pbnQpIHtcbiAgICAvLyBPdmVybG9uZyByZXByZXNlbnRhdGlvbnMgYXJlIG90aGVyd2lzZSBcInZhbGlkXCIgY29kZSBwb2ludHM7IGp1c3Qgbm9uLWRlaXN0aW5ndGlzaGVkXG4gICAgaWYgKHJlYXNvbiA9PT0gVXRmOEVycm9yUmVhc29uLk9WRVJMT05HKSB7XG4gICAgICAgIG91dHB1dC5wdXNoKGJhZENvZGVwb2ludCk7XG4gICAgICAgIHJldHVybiAwO1xuICAgIH1cbiAgICAvLyBQdXQgdGhlIHJlcGxhY2VtZW50IGNoYXJhY3RlciBpbnRvIHRoZSBvdXRwdXRcbiAgICBvdXRwdXQucHVzaCgweGZmZmQpO1xuICAgIC8vIE90aGVyd2lzZSwgcHJvY2VzcyBhcyBpZiBpZ25vcmluZyBlcnJvcnNcbiAgICByZXR1cm4gaWdub3JlRnVuYyhyZWFzb24sIG9mZnNldCwgYnl0ZXMsIG91dHB1dCwgYmFkQ29kZXBvaW50KTtcbn1cbi8vIENvbW1vbiBlcnJvciBoYW5kaW5nIHN0cmF0ZWdpZXNcbmV4cG9ydCBjb25zdCBVdGY4RXJyb3JGdW5jcyA9IE9iamVjdC5mcmVlemUoe1xuICAgIGVycm9yOiBlcnJvckZ1bmMsXG4gICAgaWdub3JlOiBpZ25vcmVGdW5jLFxuICAgIHJlcGxhY2U6IHJlcGxhY2VGdW5jXG59KTtcbi8vIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMTMzNTY0OTMvZGVjb2RlLXV0Zi04LXdpdGgtamF2YXNjcmlwdCMxMzY5MTQ5OVxuZnVuY3Rpb24gZ2V0VXRmOENvZGVQb2ludHMoYnl0ZXMsIG9uRXJyb3IpIHtcbiAgICBpZiAob25FcnJvciA9PSBudWxsKSB7XG4gICAgICAgIG9uRXJyb3IgPSBVdGY4RXJyb3JGdW5jcy5lcnJvcjtcbiAgICB9XG4gICAgYnl0ZXMgPSBhcnJheWlmeShieXRlcyk7XG4gICAgY29uc3QgcmVzdWx0ID0gW107XG4gICAgbGV0IGkgPSAwO1xuICAgIC8vIEludmFsaWQgYnl0ZXMgYXJlIGlnbm9yZWRcbiAgICB3aGlsZSAoaSA8IGJ5dGVzLmxlbmd0aCkge1xuICAgICAgICBjb25zdCBjID0gYnl0ZXNbaSsrXTtcbiAgICAgICAgLy8gMHh4eCB4eHh4XG4gICAgICAgIGlmIChjID4+IDcgPT09IDApIHtcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKGMpO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgLy8gTXVsdGlieXRlOyBob3cgbWFueSBieXRlcyBsZWZ0IGZvciB0aGlzIGNoYXJhY3Rlcj9cbiAgICAgICAgbGV0IGV4dHJhTGVuZ3RoID0gbnVsbDtcbiAgICAgICAgbGV0IG92ZXJsb25nTWFzayA9IG51bGw7XG4gICAgICAgIC8vIDExMHggeHh4eCAxMHh4IHh4eHhcbiAgICAgICAgaWYgKChjICYgMHhlMCkgPT09IDB4YzApIHtcbiAgICAgICAgICAgIGV4dHJhTGVuZ3RoID0gMTtcbiAgICAgICAgICAgIG92ZXJsb25nTWFzayA9IDB4N2Y7XG4gICAgICAgICAgICAvLyAxMTEwIHh4eHggMTB4eCB4eHh4IDEweHggeHh4eFxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKChjICYgMHhmMCkgPT09IDB4ZTApIHtcbiAgICAgICAgICAgIGV4dHJhTGVuZ3RoID0gMjtcbiAgICAgICAgICAgIG92ZXJsb25nTWFzayA9IDB4N2ZmO1xuICAgICAgICAgICAgLy8gMTExMSAweHh4IDEweHggeHh4eCAxMHh4IHh4eHggMTB4eCB4eHh4XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoKGMgJiAweGY4KSA9PT0gMHhmMCkge1xuICAgICAgICAgICAgZXh0cmFMZW5ndGggPSAzO1xuICAgICAgICAgICAgb3ZlcmxvbmdNYXNrID0gMHhmZmZmO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKChjICYgMHhjMCkgPT09IDB4ODApIHtcbiAgICAgICAgICAgICAgICBpICs9IG9uRXJyb3IoVXRmOEVycm9yUmVhc29uLlVORVhQRUNURURfQ09OVElOVUUsIGkgLSAxLCBieXRlcywgcmVzdWx0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGkgKz0gb25FcnJvcihVdGY4RXJyb3JSZWFzb24uQkFEX1BSRUZJWCwgaSAtIDEsIGJ5dGVzLCByZXN1bHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgLy8gRG8gd2UgaGF2ZSBlbm91Z2ggYnl0ZXMgaW4gb3VyIGRhdGE/XG4gICAgICAgIGlmIChpIC0gMSArIGV4dHJhTGVuZ3RoID49IGJ5dGVzLmxlbmd0aCkge1xuICAgICAgICAgICAgaSArPSBvbkVycm9yKFV0ZjhFcnJvclJlYXNvbi5PVkVSUlVOLCBpIC0gMSwgYnl0ZXMsIHJlc3VsdCk7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBSZW1vdmUgdGhlIGxlbmd0aCBwcmVmaXggZnJvbSB0aGUgY2hhclxuICAgICAgICBsZXQgcmVzID0gYyAmICgoMSA8PCAoOCAtIGV4dHJhTGVuZ3RoIC0gMSkpIC0gMSk7XG4gICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgZXh0cmFMZW5ndGg7IGorKykge1xuICAgICAgICAgICAgbGV0IG5leHRDaGFyID0gYnl0ZXNbaV07XG4gICAgICAgICAgICAvLyBJbnZhbGlkIGNvbnRpbnVhdGlvbiBieXRlXG4gICAgICAgICAgICBpZiAoKG5leHRDaGFyICYgMHhjMCkgIT0gMHg4MCkge1xuICAgICAgICAgICAgICAgIGkgKz0gb25FcnJvcihVdGY4RXJyb3JSZWFzb24uTUlTU0lOR19DT05USU5VRSwgaSwgYnl0ZXMsIHJlc3VsdCk7XG4gICAgICAgICAgICAgICAgcmVzID0gbnVsbDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIDtcbiAgICAgICAgICAgIHJlcyA9IChyZXMgPDwgNikgfCAobmV4dENoYXIgJiAweDNmKTtcbiAgICAgICAgICAgIGkrKztcbiAgICAgICAgfVxuICAgICAgICAvLyBTZWUgYWJvdmUgbG9vcCBmb3IgaW52YWxpZCBjb250aW51YXRpb24gYnl0ZVxuICAgICAgICBpZiAocmVzID09PSBudWxsKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBNYXhpbXVtIGNvZGUgcG9pbnRcbiAgICAgICAgaWYgKHJlcyA+IDB4MTBmZmZmKSB7XG4gICAgICAgICAgICBpICs9IG9uRXJyb3IoVXRmOEVycm9yUmVhc29uLk9VVF9PRl9SQU5HRSwgaSAtIDEgLSBleHRyYUxlbmd0aCwgYnl0ZXMsIHJlc3VsdCwgcmVzKTtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIC8vIFJlc2VydmVkIGZvciBVVEYtMTYgc3Vycm9nYXRlIGhhbHZlc1xuICAgICAgICBpZiAocmVzID49IDB4ZDgwMCAmJiByZXMgPD0gMHhkZmZmKSB7XG4gICAgICAgICAgICBpICs9IG9uRXJyb3IoVXRmOEVycm9yUmVhc29uLlVURjE2X1NVUlJPR0FURSwgaSAtIDEgLSBleHRyYUxlbmd0aCwgYnl0ZXMsIHJlc3VsdCwgcmVzKTtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIC8vIENoZWNrIGZvciBvdmVybG9uZyBzZXF1ZW5jZXMgKG1vcmUgYnl0ZXMgdGhhbiBuZWVkZWQpXG4gICAgICAgIGlmIChyZXMgPD0gb3ZlcmxvbmdNYXNrKSB7XG4gICAgICAgICAgICBpICs9IG9uRXJyb3IoVXRmOEVycm9yUmVhc29uLk9WRVJMT05HLCBpIC0gMSAtIGV4dHJhTGVuZ3RoLCBieXRlcywgcmVzdWx0LCByZXMpO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgcmVzdWx0LnB1c2gocmVzKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbi8vIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMTg3Mjk0MDUvaG93LXRvLWNvbnZlcnQtdXRmOC1zdHJpbmctdG8tYnl0ZS1hcnJheVxuZXhwb3J0IGZ1bmN0aW9uIHRvVXRmOEJ5dGVzKHN0ciwgZm9ybSA9IFVuaWNvZGVOb3JtYWxpemF0aW9uRm9ybS5jdXJyZW50KSB7XG4gICAgaWYgKGZvcm0gIT0gVW5pY29kZU5vcm1hbGl6YXRpb25Gb3JtLmN1cnJlbnQpIHtcbiAgICAgICAgbG9nZ2VyLmNoZWNrTm9ybWFsaXplKCk7XG4gICAgICAgIHN0ciA9IHN0ci5ub3JtYWxpemUoZm9ybSk7XG4gICAgfVxuICAgIGxldCByZXN1bHQgPSBbXTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHN0ci5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBjID0gc3RyLmNoYXJDb2RlQXQoaSk7XG4gICAgICAgIGlmIChjIDwgMHg4MCkge1xuICAgICAgICAgICAgcmVzdWx0LnB1c2goYyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoYyA8IDB4ODAwKSB7XG4gICAgICAgICAgICByZXN1bHQucHVzaCgoYyA+PiA2KSB8IDB4YzApO1xuICAgICAgICAgICAgcmVzdWx0LnB1c2goKGMgJiAweDNmKSB8IDB4ODApO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKChjICYgMHhmYzAwKSA9PSAweGQ4MDApIHtcbiAgICAgICAgICAgIGkrKztcbiAgICAgICAgICAgIGNvbnN0IGMyID0gc3RyLmNoYXJDb2RlQXQoaSk7XG4gICAgICAgICAgICBpZiAoaSA+PSBzdHIubGVuZ3RoIHx8IChjMiAmIDB4ZmMwMCkgIT09IDB4ZGMwMCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcImludmFsaWQgdXRmLTggc3RyaW5nXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gU3Vycm9nYXRlIFBhaXJcbiAgICAgICAgICAgIGNvbnN0IHBhaXIgPSAweDEwMDAwICsgKChjICYgMHgwM2ZmKSA8PCAxMCkgKyAoYzIgJiAweDAzZmYpO1xuICAgICAgICAgICAgcmVzdWx0LnB1c2goKHBhaXIgPj4gMTgpIHwgMHhmMCk7XG4gICAgICAgICAgICByZXN1bHQucHVzaCgoKHBhaXIgPj4gMTIpICYgMHgzZikgfCAweDgwKTtcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKCgocGFpciA+PiA2KSAmIDB4M2YpIHwgMHg4MCk7XG4gICAgICAgICAgICByZXN1bHQucHVzaCgocGFpciAmIDB4M2YpIHwgMHg4MCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXN1bHQucHVzaCgoYyA+PiAxMikgfCAweGUwKTtcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKCgoYyA+PiA2KSAmIDB4M2YpIHwgMHg4MCk7XG4gICAgICAgICAgICByZXN1bHQucHVzaCgoYyAmIDB4M2YpIHwgMHg4MCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGFycmF5aWZ5KHJlc3VsdCk7XG59XG47XG5mdW5jdGlvbiBlc2NhcGVDaGFyKHZhbHVlKSB7XG4gICAgY29uc3QgaGV4ID0gKFwiMDAwMFwiICsgdmFsdWUudG9TdHJpbmcoMTYpKTtcbiAgICByZXR1cm4gXCJcXFxcdVwiICsgaGV4LnN1YnN0cmluZyhoZXgubGVuZ3RoIC0gNCk7XG59XG5leHBvcnQgZnVuY3Rpb24gX3RvRXNjYXBlZFV0ZjhTdHJpbmcoYnl0ZXMsIG9uRXJyb3IpIHtcbiAgICByZXR1cm4gJ1wiJyArIGdldFV0ZjhDb2RlUG9pbnRzKGJ5dGVzLCBvbkVycm9yKS5tYXAoKGNvZGVQb2ludCkgPT4ge1xuICAgICAgICBpZiAoY29kZVBvaW50IDwgMjU2KSB7XG4gICAgICAgICAgICBzd2l0Y2ggKGNvZGVQb2ludCkge1xuICAgICAgICAgICAgICAgIGNhc2UgODogcmV0dXJuIFwiXFxcXGJcIjtcbiAgICAgICAgICAgICAgICBjYXNlIDk6IHJldHVybiBcIlxcXFx0XCI7XG4gICAgICAgICAgICAgICAgY2FzZSAxMDogcmV0dXJuIFwiXFxcXG5cIjtcbiAgICAgICAgICAgICAgICBjYXNlIDEzOiByZXR1cm4gXCJcXFxcclwiO1xuICAgICAgICAgICAgICAgIGNhc2UgMzQ6IHJldHVybiBcIlxcXFxcXFwiXCI7XG4gICAgICAgICAgICAgICAgY2FzZSA5MjogcmV0dXJuIFwiXFxcXFxcXFxcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjb2RlUG9pbnQgPj0gMzIgJiYgY29kZVBvaW50IDwgMTI3KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUoY29kZVBvaW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoY29kZVBvaW50IDw9IDB4ZmZmZikge1xuICAgICAgICAgICAgcmV0dXJuIGVzY2FwZUNoYXIoY29kZVBvaW50KTtcbiAgICAgICAgfVxuICAgICAgICBjb2RlUG9pbnQgLT0gMHgxMDAwMDtcbiAgICAgICAgcmV0dXJuIGVzY2FwZUNoYXIoKChjb2RlUG9pbnQgPj4gMTApICYgMHgzZmYpICsgMHhkODAwKSArIGVzY2FwZUNoYXIoKGNvZGVQb2ludCAmIDB4M2ZmKSArIDB4ZGMwMCk7XG4gICAgfSkuam9pbihcIlwiKSArICdcIic7XG59XG5leHBvcnQgZnVuY3Rpb24gX3RvVXRmOFN0cmluZyhjb2RlUG9pbnRzKSB7XG4gICAgcmV0dXJuIGNvZGVQb2ludHMubWFwKChjb2RlUG9pbnQpID0+IHtcbiAgICAgICAgaWYgKGNvZGVQb2ludCA8PSAweGZmZmYpIHtcbiAgICAgICAgICAgIHJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlKGNvZGVQb2ludCk7XG4gICAgICAgIH1cbiAgICAgICAgY29kZVBvaW50IC09IDB4MTAwMDA7XG4gICAgICAgIHJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlKCgoKGNvZGVQb2ludCA+PiAxMCkgJiAweDNmZikgKyAweGQ4MDApLCAoKGNvZGVQb2ludCAmIDB4M2ZmKSArIDB4ZGMwMCkpO1xuICAgIH0pLmpvaW4oXCJcIik7XG59XG5leHBvcnQgZnVuY3Rpb24gdG9VdGY4U3RyaW5nKGJ5dGVzLCBvbkVycm9yKSB7XG4gICAgcmV0dXJuIF90b1V0ZjhTdHJpbmcoZ2V0VXRmOENvZGVQb2ludHMoYnl0ZXMsIG9uRXJyb3IpKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiB0b1V0ZjhDb2RlUG9pbnRzKHN0ciwgZm9ybSA9IFVuaWNvZGVOb3JtYWxpemF0aW9uRm9ybS5jdXJyZW50KSB7XG4gICAgcmV0dXJuIGdldFV0ZjhDb2RlUG9pbnRzKHRvVXRmOEJ5dGVzKHN0ciwgZm9ybSkpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dXRmOC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@uniswap/sdk-core/node_modules/@ethersproject/strings/lib.esm/utf8.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@uniswap/v2-sdk/dist/v2-sdk.esm.js":
/*!*************************************************************!*\
  !*** ../../node_modules/@uniswap/v2-sdk/dist/v2-sdk.esm.js ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   FACTORY_ADDRESS_MAP: () => (/* binding */ FACTORY_ADDRESS_MAP),\n/* harmony export */   INIT_CODE_HASH: () => (/* binding */ INIT_CODE_HASH),\n/* harmony export */   InsufficientInputAmountError: () => (/* binding */ InsufficientInputAmountError),\n/* harmony export */   InsufficientReservesError: () => (/* binding */ InsufficientReservesError),\n/* harmony export */   MINIMUM_LIQUIDITY: () => (/* binding */ MINIMUM_LIQUIDITY),\n/* harmony export */   Pair: () => (/* binding */ Pair),\n/* harmony export */   Route: () => (/* binding */ Route),\n/* harmony export */   Router: () => (/* binding */ Router),\n/* harmony export */   Trade: () => (/* binding */ Trade),\n/* harmony export */   computePairAddress: () => (/* binding */ computePairAddress),\n/* harmony export */   inputOutputComparator: () => (/* binding */ inputOutputComparator),\n/* harmony export */   tradeComparator: () => (/* binding */ tradeComparator)\n/* harmony export */ });\n/* harmony import */ var _uniswap_sdk_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @uniswap/sdk-core */ \"(ssr)/../../node_modules/@uniswap/v2-sdk/node_modules/@uniswap/sdk-core/dist/sdk-core.esm.js\");\n/* harmony import */ var jsbi__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jsbi */ \"(ssr)/../../node_modules/jsbi/dist/jsbi.mjs\");\n/* harmony import */ var _ethersproject_address__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @ethersproject/address */ \"(ssr)/../../node_modules/@ethersproject/address/lib.esm/index.js\");\n/* harmony import */ var _ethersproject_bignumber__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @ethersproject/bignumber */ \"(ssr)/../../node_modules/@ethersproject/bignumber/lib.esm/bignumber.js\");\n/* harmony import */ var _ethersproject_solidity__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @ethersproject/solidity */ \"(ssr)/../../node_modules/@ethersproject/solidity/lib.esm/index.js\");\n/* harmony import */ var tiny_invariant__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! tiny-invariant */ \"(ssr)/../../node_modules/tiny-invariant/dist/esm/tiny-invariant.js\");\n\n\n\n\n\n\n\n/**\r\n * @deprecated use FACTORY_ADDRESS_MAP instead\r\n */\nvar FACTORY_ADDRESS = '0x5C69bEe701ef814a2B6a3EDD4B1652CB9cc5aA6f';\nvar FACTORY_ADDRESS_MAP = _uniswap_sdk_core__WEBPACK_IMPORTED_MODULE_0__.V2_FACTORY_ADDRESSES;\nvar INIT_CODE_HASH = '0x96e8ac4277198ff8b6f785478aa9a39f403cb768dd02cbee326c3e7da348845f';\nvar MINIMUM_LIQUIDITY = /*#__PURE__*/jsbi__WEBPACK_IMPORTED_MODULE_1__[\"default\"].BigInt(1000);\n// exports for internal consumption\nvar ZERO = /*#__PURE__*/jsbi__WEBPACK_IMPORTED_MODULE_1__[\"default\"].BigInt(0);\nvar ONE = /*#__PURE__*/jsbi__WEBPACK_IMPORTED_MODULE_1__[\"default\"].BigInt(1);\nvar FIVE = /*#__PURE__*/jsbi__WEBPACK_IMPORTED_MODULE_1__[\"default\"].BigInt(5);\nvar _997 = /*#__PURE__*/jsbi__WEBPACK_IMPORTED_MODULE_1__[\"default\"].BigInt(997);\nvar _1000 = /*#__PURE__*/jsbi__WEBPACK_IMPORTED_MODULE_1__[\"default\"].BigInt(1000);\nvar BASIS_POINTS = /*#__PURE__*/jsbi__WEBPACK_IMPORTED_MODULE_1__[\"default\"].BigInt(10000);\nvar ZERO_PERCENT = /*#__PURE__*/new _uniswap_sdk_core__WEBPACK_IMPORTED_MODULE_0__.Percent(ZERO);\nvar ONE_HUNDRED_PERCENT = /*#__PURE__*/new _uniswap_sdk_core__WEBPACK_IMPORTED_MODULE_0__.Percent(ONE);\n\nfunction _construct(t, e, r) {\n  if (_isNativeReflectConstruct()) return Reflect.construct.apply(null, arguments);\n  var o = [null];\n  o.push.apply(o, e);\n  var p = new (t.bind.apply(t, o))();\n  return r && _setPrototypeOf(p, r.prototype), p;\n}\nfunction _isNativeReflectConstruct() {\n  try {\n    var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n  } catch (t) {}\n  return (_isNativeReflectConstruct = function () {\n    return !!t;\n  })();\n}\nfunction _toPrimitive(t, r) {\n  if (\"object\" != typeof t || !t) return t;\n  var e = t[Symbol.toPrimitive];\n  if (void 0 !== e) {\n    var i = e.call(t, r || \"default\");\n    if (\"object\" != typeof i) return i;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (\"string\" === r ? String : Number)(t);\n}\nfunction _toPropertyKey(t) {\n  var i = _toPrimitive(t, \"string\");\n  return \"symbol\" == typeof i ? i : String(i);\n}\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor);\n  }\n}\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  _setPrototypeOf(subClass, superClass);\n}\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n  return _setPrototypeOf(o, p);\n}\nfunction _isNativeFunction(fn) {\n  try {\n    return Function.toString.call(fn).indexOf(\"[native code]\") !== -1;\n  } catch (e) {\n    return typeof fn === \"function\";\n  }\n}\nfunction _wrapNativeSuper(Class) {\n  var _cache = typeof Map === \"function\" ? new Map() : undefined;\n  _wrapNativeSuper = function _wrapNativeSuper(Class) {\n    if (Class === null || !_isNativeFunction(Class)) return Class;\n    if (typeof Class !== \"function\") {\n      throw new TypeError(\"Super expression must either be null or a function\");\n    }\n    if (typeof _cache !== \"undefined\") {\n      if (_cache.has(Class)) return _cache.get(Class);\n      _cache.set(Class, Wrapper);\n    }\n    function Wrapper() {\n      return _construct(Class, arguments, _getPrototypeOf(this).constructor);\n    }\n    Wrapper.prototype = Object.create(Class.prototype, {\n      constructor: {\n        value: Wrapper,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    return _setPrototypeOf(Wrapper, Class);\n  };\n  return _wrapNativeSuper(Class);\n}\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n  return self;\n}\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n  return arr2;\n}\nfunction _createForOfIteratorHelperLoose(o, allowArrayLike) {\n  var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"];\n  if (it) return (it = it.call(o)).next.bind(it);\n  if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n    if (it) o = it;\n    var i = 0;\n    return function () {\n      if (i >= o.length) return {\n        done: true\n      };\n      return {\n        done: false,\n        value: o[i++]\n      };\n    };\n  }\n  throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\n// see https://stackoverflow.com/a/41102306\nvar CAN_SET_PROTOTYPE = ('setPrototypeOf' in Object);\n/**\r\n * Indicates that the pair has insufficient reserves for a desired output amount. I.e. the amount of output cannot be\r\n * obtained by sending any amount of input.\r\n */\nvar InsufficientReservesError = /*#__PURE__*/function (_Error) {\n  _inheritsLoose(InsufficientReservesError, _Error);\n  function InsufficientReservesError() {\n    var _this;\n    _this = _Error.call(this) || this;\n    _this.isInsufficientReservesError = true;\n    _this.name = _this.constructor.name;\n    if (CAN_SET_PROTOTYPE) Object.setPrototypeOf(_assertThisInitialized(_this), (this instanceof InsufficientReservesError ? this.constructor : void 0).prototype);\n    return _this;\n  }\n  return InsufficientReservesError;\n}( /*#__PURE__*/_wrapNativeSuper(Error));\n/**\r\n * Indicates that the input amount is too small to produce any amount of output. I.e. the amount of input sent is less\r\n * than the price of a single unit of output after fees.\r\n */\nvar InsufficientInputAmountError = /*#__PURE__*/function (_Error2) {\n  _inheritsLoose(InsufficientInputAmountError, _Error2);\n  function InsufficientInputAmountError() {\n    var _this2;\n    _this2 = _Error2.call(this) || this;\n    _this2.isInsufficientInputAmountError = true;\n    _this2.name = _this2.constructor.name;\n    if (CAN_SET_PROTOTYPE) Object.setPrototypeOf(_assertThisInitialized(_this2), (this instanceof InsufficientInputAmountError ? this.constructor : void 0).prototype);\n    return _this2;\n  }\n  return InsufficientInputAmountError;\n}( /*#__PURE__*/_wrapNativeSuper(Error));\n\nvar computePairAddress = function computePairAddress(_ref) {\n  var factoryAddress = _ref.factoryAddress,\n    tokenA = _ref.tokenA,\n    tokenB = _ref.tokenB;\n  var _ref2 = tokenA.sortsBefore(tokenB) ? [tokenA, tokenB] : [tokenB, tokenA],\n    token0 = _ref2[0],\n    token1 = _ref2[1]; // does safety checks\n  return (0,_ethersproject_address__WEBPACK_IMPORTED_MODULE_3__.getCreate2Address)(factoryAddress, (0,_ethersproject_solidity__WEBPACK_IMPORTED_MODULE_4__.keccak256)(['bytes'], [(0,_ethersproject_solidity__WEBPACK_IMPORTED_MODULE_4__.pack)(['address', 'address'], [token0.address, token1.address])]), INIT_CODE_HASH);\n};\nvar Pair = /*#__PURE__*/function () {\n  function Pair(currencyAmountA, tokenAmountB) {\n    var tokenAmounts = currencyAmountA.currency.sortsBefore(tokenAmountB.currency) // does safety checks\n    ? [currencyAmountA, tokenAmountB] : [tokenAmountB, currencyAmountA];\n    this.liquidityToken = new _uniswap_sdk_core__WEBPACK_IMPORTED_MODULE_0__.Token(tokenAmounts[0].currency.chainId, Pair.getAddress(tokenAmounts[0].currency, tokenAmounts[1].currency), 18, 'UNI-V2', 'Uniswap V2');\n    this.tokenAmounts = tokenAmounts;\n  }\n  Pair.getAddress = function getAddress(tokenA, tokenB) {\n    var _FACTORY_ADDRESS_MAP$;\n    var factoryAddress = (_FACTORY_ADDRESS_MAP$ = FACTORY_ADDRESS_MAP[tokenA.chainId]) != null ? _FACTORY_ADDRESS_MAP$ : FACTORY_ADDRESS;\n    return computePairAddress({\n      factoryAddress: factoryAddress,\n      tokenA: tokenA,\n      tokenB: tokenB\n    });\n  }\n  /**\r\n   * Returns true if the token is either token0 or token1\r\n   * @param token to check\r\n   */;\n  var _proto = Pair.prototype;\n  _proto.involvesToken = function involvesToken(token) {\n    return token.equals(this.token0) || token.equals(this.token1);\n  }\n  /**\r\n   * Returns the current mid price of the pair in terms of token0, i.e. the ratio of reserve1 to reserve0\r\n   */;\n  /**\r\n   * Return the price of the given token in terms of the other token in the pair.\r\n   * @param token token to return price of\r\n   */\n  _proto.priceOf = function priceOf(token) {\n    !this.involvesToken(token) ?  true ? (0,tiny_invariant__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(false, 'TOKEN') : 0 : void 0;\n    return token.equals(this.token0) ? this.token0Price : this.token1Price;\n  }\n  /**\r\n   * Returns the chain ID of the tokens in the pair.\r\n   */;\n  _proto.reserveOf = function reserveOf(token) {\n    !this.involvesToken(token) ?  true ? (0,tiny_invariant__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(false, 'TOKEN') : 0 : void 0;\n    return token.equals(this.token0) ? this.reserve0 : this.reserve1;\n  }\n  /**\r\n   * getAmountOut is the linear algebra of reserve ratio against amountIn:amountOut.\r\n   * https://ethereum.stackexchange.com/questions/101629/what-is-math-for-uniswap-calculates-the-amountout-and-amountin-why-997-and-1000\r\n   * has the math deduction for the reserve calculation without fee-on-transfer fees.\r\n   *\r\n   * With fee-on-transfer tax, intuitively it's just:\r\n   * inputAmountWithFeeAndTax = 0.997 * (1 - amountIn.sellFeesBips / 10000) * amountIn\r\n   *                          = (1 - amountIn.sellFeesBips / 10000) * amountInWithFee\r\n   * where amountInWithFee is the amountIn after taking out the LP fees\r\n   * outputAmountWithTax = amountOut * (1 - amountOut.buyFeesBips / 10000)\r\n   *\r\n   * But we are illustrating the math deduction below to ensure that's the case.\r\n   *\r\n   * before swap A * B = K where A = reserveIn B = reserveOut\r\n   *\r\n   * after swap A' * B' = K where only k is a constant value\r\n   *\r\n   * getAmountOut\r\n   *\r\n   * A' = A + 0.997 * (1 - amountIn.sellFeesBips / 10000) * amountIn # here 0.3% is deducted\r\n   * B' = B - amountOut * (1 - amountOut.buyFeesBips / 10000)\r\n   * amountOut = (B - B') / (1 - amountOut.buyFeesBips / 10000) # where A' * B' still is k\r\n   *           = (B - K/(A + 0.997 * (1 - amountIn.sellFeesBips / 10000) * amountIn))\r\n   *             /\r\n   *             (1 - amountOut.buyFeesBips / 10000)\r\n   *           = (B - AB/(A + 0.997 * (1 - amountIn.sellFeesBips / 10000) * amountIn))\r\n   *             /\r\n   *             (1 - amountOut.buyFeesBips / 10000)\r\n   *           = ((BA + B * 0.997 * (1 - amountIn.sellFeesBips / 10000) * amountIn - AB)/(A + 0.997 * (1 - amountIn.sellFeesBips / 10000) * amountIn))\r\n   *             /\r\n   *             (1 - amountOut.buyFeesBips / 10000)\r\n   *           = (B * 0.997 * (1 - amountIn.sellFeesBips / 10000) * amountIn / (A + 0.997 * (1 - amountIn.sellFeesBips / 10000) * amountIn)\r\n   *             /\r\n   *             (1 - amountOut.buyFeesBips / 10000)\r\n   * amountOut * (1 - amountOut.buyFeesBips / 10000) = (B * 0.997 * (1 - amountIn.sellFeesBips / 10000) * amountIn\r\n   *                                                    /\r\n   *                                                    (A + 0.997 * (1 - amountIn.sellFeesBips / 10000) * amountIn)\r\n   *\r\n   * outputAmountWithTax = (B * 0.997 * (1 - amountIn.sellFeesBips / 10000) * amountIn\r\n   *                       /\r\n   *                       (A + 0.997 * (1 - amountIn.sellFeesBips / 10000) * amountIn)\r\n   *                       = (B * 0.997 * (1 - amountIn.sellFeesBips / 10000) * amountIn * 1000\r\n   *                       /\r\n   *                       ((A + 0.997 * (1 - amountIn.sellFeesBips / 10000) * amountIn) * 1000)\r\n   *                     = (B * (1 - amountIn.sellFeesBips / 10000) 997 * * amountIn\r\n   *                       /\r\n   *                       (1000 * A + (1 - amountIn.sellFeesBips / 10000) * 997 * amountIn)\r\n   *                     = (B * (1 - amountIn.sellFeesBips / 10000) * inputAmountWithFee)\r\n   *                       /\r\n   *                       (1000 * A + (1 - amountIn.sellFeesBips / 10000) * inputAmountWithFee)\r\n   *                     = (B * inputAmountWithFeeAndTax)\r\n   *                       /\r\n   *                       (1000 * A + inputAmountWithFeeAndTax)\r\n   *\r\n   * inputAmountWithFeeAndTax = (1 - amountIn.sellFeesBips / 10000) * inputAmountWithFee\r\n   * outputAmountWithTax = amountOut * (1 - amountOut.buyFeesBips / 10000)\r\n   *\r\n   * @param inputAmount\r\n   * @param calculateFotFees\r\n   */;\n  _proto.getOutputAmount = function getOutputAmount(inputAmount, calculateFotFees) {\n    if (calculateFotFees === void 0) {\n      calculateFotFees = true;\n    }\n    !this.involvesToken(inputAmount.currency) ?  true ? (0,tiny_invariant__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(false, 'TOKEN') : 0 : void 0;\n    if (jsbi__WEBPACK_IMPORTED_MODULE_1__[\"default\"].equal(this.reserve0.quotient, ZERO) || jsbi__WEBPACK_IMPORTED_MODULE_1__[\"default\"].equal(this.reserve1.quotient, ZERO)) {\n      throw new InsufficientReservesError();\n    }\n    var inputReserve = this.reserveOf(inputAmount.currency);\n    var outputReserve = this.reserveOf(inputAmount.currency.equals(this.token0) ? this.token1 : this.token0);\n    var percentAfterSellFees = calculateFotFees ? this.derivePercentAfterSellFees(inputAmount) : ZERO_PERCENT;\n    var inputAmountAfterTax = percentAfterSellFees.greaterThan(ZERO_PERCENT) ? _uniswap_sdk_core__WEBPACK_IMPORTED_MODULE_0__.CurrencyAmount.fromRawAmount(inputAmount.currency, percentAfterSellFees.multiply(inputAmount).quotient // fraction.quotient will round down by itself, which is desired\n    ) : inputAmount;\n    var inputAmountWithFeeAndAfterTax = jsbi__WEBPACK_IMPORTED_MODULE_1__[\"default\"].multiply(inputAmountAfterTax.quotient, _997);\n    var numerator = jsbi__WEBPACK_IMPORTED_MODULE_1__[\"default\"].multiply(inputAmountWithFeeAndAfterTax, outputReserve.quotient);\n    var denominator = jsbi__WEBPACK_IMPORTED_MODULE_1__[\"default\"].add(jsbi__WEBPACK_IMPORTED_MODULE_1__[\"default\"].multiply(inputReserve.quotient, _1000), inputAmountWithFeeAndAfterTax);\n    var outputAmount = _uniswap_sdk_core__WEBPACK_IMPORTED_MODULE_0__.CurrencyAmount.fromRawAmount(inputAmount.currency.equals(this.token0) ? this.token1 : this.token0, jsbi__WEBPACK_IMPORTED_MODULE_1__[\"default\"].divide(numerator, denominator) // JSBI.divide will round down by itself, which is desired\n    );\n    if (jsbi__WEBPACK_IMPORTED_MODULE_1__[\"default\"].equal(outputAmount.quotient, ZERO)) {\n      throw new InsufficientInputAmountError();\n    }\n    var percentAfterBuyFees = calculateFotFees ? this.derivePercentAfterBuyFees(outputAmount) : ZERO_PERCENT;\n    var outputAmountAfterTax = percentAfterBuyFees.greaterThan(ZERO_PERCENT) ? _uniswap_sdk_core__WEBPACK_IMPORTED_MODULE_0__.CurrencyAmount.fromRawAmount(outputAmount.currency, outputAmount.multiply(percentAfterBuyFees).quotient // fraction.quotient will round down by itself, which is desired\n    ) : outputAmount;\n    if (jsbi__WEBPACK_IMPORTED_MODULE_1__[\"default\"].equal(outputAmountAfterTax.quotient, ZERO)) {\n      throw new InsufficientInputAmountError();\n    }\n    return [outputAmountAfterTax, new Pair(inputReserve.add(inputAmountAfterTax), outputReserve.subtract(outputAmountAfterTax))];\n  }\n  /**\r\n   * getAmountIn is the linear algebra of reserve ratio against amountIn:amountOut.\r\n   * https://ethereum.stackexchange.com/questions/101629/what-is-math-for-uniswap-calculates-the-amountout-and-amountin-why-997-and-1000\r\n   * has the math deduction for the reserve calculation without fee-on-transfer fees.\r\n   *\r\n   * With fee-on-transfer fees, intuitively it's just:\r\n   * outputAmountWithTax = amountOut / (1 - amountOut.buyFeesBips / 10000)\r\n   * inputAmountWithTax = amountIn / (1 - amountIn.sellFeesBips / 10000) / 0.997\r\n   *\r\n   * But we are illustrating the math deduction below to ensure that's the case.\r\n   *\r\n   * before swap A * B = K where A = reserveIn B = reserveOut\r\n   *\r\n   * after swap A' * B' = K where only k is a constant value\r\n   *\r\n   * getAmountIn\r\n   *\r\n   * B' = B - amountOut * (1 - amountOut.buyFeesBips / 10000)\r\n   * A' = A + 0.997 * (1 - amountIn.sellFeesBips / 10000) * amountIn # here 0.3% is deducted\r\n   * amountIn = (A' - A) / (0.997 * (1 - amountIn.sellFeesBips / 10000))\r\n   *          = (K / (B - amountOut / (1 - amountOut.buyFeesBips / 10000)) - A)\r\n   *            /\r\n   *            (0.997 * (1 - amountIn.sellFeesBips / 10000))\r\n   *          = (AB / (B - amountOut / (1 - amountOut.buyFeesBips / 10000)) - A)\r\n   *            /\r\n   *            (0.997 * (1 - amountIn.sellFeesBips / 10000))\r\n   *          = ((AB - AB + A * amountOut / (1 - amountOut.buyFeesBips / 10000)) / (B - amountOut / (1 - amountOut.buyFeesBips / 10000)))\r\n   *            /\r\n   *            (0.997 * (1 - amountIn.sellFeesBips / 10000))\r\n   *          = ((A * amountOut / (1 - amountOut.buyFeesBips / 10000)) / (B - amountOut / (1 - amountOut.buyFeesBips / 10000)))\r\n   *            /\r\n   *            (0.997 * (1 - amountIn.sellFeesBips / 10000))\r\n   *          = ((A * 1000 * amountOut / (1 - amountOut.buyFeesBips / 10000)) / (B - amountOut / (1 - amountOut.buyFeesBips / 10000)))\r\n   *            /\r\n   *            (997 * (1 - amountIn.sellFeesBips / 10000))\r\n   *\r\n   * outputAmountWithTax = amountOut / (1 - amountOut.buyFeesBips / 10000)\r\n   * inputAmountWithTax = amountIn / (997 * (1 - amountIn.sellFeesBips / 10000))\r\n   *                    = (A * outputAmountWithTax * 1000) / ((B - outputAmountWithTax) * 997)\r\n   *\r\n   * @param outputAmount\r\n   */;\n  _proto.getInputAmount = function getInputAmount(outputAmount, calculateFotFees) {\n    if (calculateFotFees === void 0) {\n      calculateFotFees = true;\n    }\n    !this.involvesToken(outputAmount.currency) ?  true ? (0,tiny_invariant__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(false, 'TOKEN') : 0 : void 0;\n    var percentAfterBuyFees = calculateFotFees ? this.derivePercentAfterBuyFees(outputAmount) : ZERO_PERCENT;\n    var outputAmountBeforeTax = percentAfterBuyFees.greaterThan(ZERO_PERCENT) ? _uniswap_sdk_core__WEBPACK_IMPORTED_MODULE_0__.CurrencyAmount.fromRawAmount(outputAmount.currency, jsbi__WEBPACK_IMPORTED_MODULE_1__[\"default\"].add(outputAmount.divide(percentAfterBuyFees).quotient, ONE) // add 1 for rounding up\n    ) : outputAmount;\n    if (jsbi__WEBPACK_IMPORTED_MODULE_1__[\"default\"].equal(this.reserve0.quotient, ZERO) || jsbi__WEBPACK_IMPORTED_MODULE_1__[\"default\"].equal(this.reserve1.quotient, ZERO) || jsbi__WEBPACK_IMPORTED_MODULE_1__[\"default\"].greaterThanOrEqual(outputAmount.quotient, this.reserveOf(outputAmount.currency).quotient) || jsbi__WEBPACK_IMPORTED_MODULE_1__[\"default\"].greaterThanOrEqual(outputAmountBeforeTax.quotient, this.reserveOf(outputAmount.currency).quotient)) {\n      throw new InsufficientReservesError();\n    }\n    var outputReserve = this.reserveOf(outputAmount.currency);\n    var inputReserve = this.reserveOf(outputAmount.currency.equals(this.token0) ? this.token1 : this.token0);\n    var numerator = jsbi__WEBPACK_IMPORTED_MODULE_1__[\"default\"].multiply(jsbi__WEBPACK_IMPORTED_MODULE_1__[\"default\"].multiply(inputReserve.quotient, outputAmountBeforeTax.quotient), _1000);\n    var denominator = jsbi__WEBPACK_IMPORTED_MODULE_1__[\"default\"].multiply(jsbi__WEBPACK_IMPORTED_MODULE_1__[\"default\"].subtract(outputReserve.quotient, outputAmountBeforeTax.quotient), _997);\n    var inputAmount = _uniswap_sdk_core__WEBPACK_IMPORTED_MODULE_0__.CurrencyAmount.fromRawAmount(outputAmount.currency.equals(this.token0) ? this.token1 : this.token0, jsbi__WEBPACK_IMPORTED_MODULE_1__[\"default\"].add(jsbi__WEBPACK_IMPORTED_MODULE_1__[\"default\"].divide(numerator, denominator), ONE) // add 1 here is part of the formula, no rounding needed here, since there will not be decimal at this point\n    );\n    var percentAfterSellFees = calculateFotFees ? this.derivePercentAfterSellFees(inputAmount) : ZERO_PERCENT;\n    var inputAmountBeforeTax = percentAfterSellFees.greaterThan(ZERO_PERCENT) ? _uniswap_sdk_core__WEBPACK_IMPORTED_MODULE_0__.CurrencyAmount.fromRawAmount(inputAmount.currency, jsbi__WEBPACK_IMPORTED_MODULE_1__[\"default\"].add(inputAmount.divide(percentAfterSellFees).quotient, ONE) // add 1 for rounding up\n    ) : inputAmount;\n    return [inputAmountBeforeTax, new Pair(inputReserve.add(inputAmount), outputReserve.subtract(outputAmount))];\n  };\n  _proto.getLiquidityMinted = function getLiquidityMinted(totalSupply, tokenAmountA, tokenAmountB) {\n    !totalSupply.currency.equals(this.liquidityToken) ?  true ? (0,tiny_invariant__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(false, 'LIQUIDITY') : 0 : void 0;\n    var tokenAmounts = tokenAmountA.currency.sortsBefore(tokenAmountB.currency) // does safety checks\n    ? [tokenAmountA, tokenAmountB] : [tokenAmountB, tokenAmountA];\n    !(tokenAmounts[0].currency.equals(this.token0) && tokenAmounts[1].currency.equals(this.token1)) ?  true ? (0,tiny_invariant__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(false, 'TOKEN') : 0 : void 0;\n    var liquidity;\n    if (jsbi__WEBPACK_IMPORTED_MODULE_1__[\"default\"].equal(totalSupply.quotient, ZERO)) {\n      liquidity = jsbi__WEBPACK_IMPORTED_MODULE_1__[\"default\"].subtract((0,_uniswap_sdk_core__WEBPACK_IMPORTED_MODULE_0__.sqrt)(jsbi__WEBPACK_IMPORTED_MODULE_1__[\"default\"].multiply(tokenAmounts[0].quotient, tokenAmounts[1].quotient)), MINIMUM_LIQUIDITY);\n    } else {\n      var amount0 = jsbi__WEBPACK_IMPORTED_MODULE_1__[\"default\"].divide(jsbi__WEBPACK_IMPORTED_MODULE_1__[\"default\"].multiply(tokenAmounts[0].quotient, totalSupply.quotient), this.reserve0.quotient);\n      var amount1 = jsbi__WEBPACK_IMPORTED_MODULE_1__[\"default\"].divide(jsbi__WEBPACK_IMPORTED_MODULE_1__[\"default\"].multiply(tokenAmounts[1].quotient, totalSupply.quotient), this.reserve1.quotient);\n      liquidity = jsbi__WEBPACK_IMPORTED_MODULE_1__[\"default\"].lessThanOrEqual(amount0, amount1) ? amount0 : amount1;\n    }\n    if (!jsbi__WEBPACK_IMPORTED_MODULE_1__[\"default\"].greaterThan(liquidity, ZERO)) {\n      throw new InsufficientInputAmountError();\n    }\n    return _uniswap_sdk_core__WEBPACK_IMPORTED_MODULE_0__.CurrencyAmount.fromRawAmount(this.liquidityToken, liquidity);\n  };\n  _proto.getLiquidityValue = function getLiquidityValue(token, totalSupply, liquidity, feeOn, kLast) {\n    if (feeOn === void 0) {\n      feeOn = false;\n    }\n    !this.involvesToken(token) ?  true ? (0,tiny_invariant__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(false, 'TOKEN') : 0 : void 0;\n    !totalSupply.currency.equals(this.liquidityToken) ?  true ? (0,tiny_invariant__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(false, 'TOTAL_SUPPLY') : 0 : void 0;\n    !liquidity.currency.equals(this.liquidityToken) ?  true ? (0,tiny_invariant__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(false, 'LIQUIDITY') : 0 : void 0;\n    !jsbi__WEBPACK_IMPORTED_MODULE_1__[\"default\"].lessThanOrEqual(liquidity.quotient, totalSupply.quotient) ?  true ? (0,tiny_invariant__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(false, 'LIQUIDITY') : 0 : void 0;\n    var totalSupplyAdjusted;\n    if (!feeOn) {\n      totalSupplyAdjusted = totalSupply;\n    } else {\n      !!!kLast ?  true ? (0,tiny_invariant__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(false, 'K_LAST') : 0 : void 0;\n      var kLastParsed = jsbi__WEBPACK_IMPORTED_MODULE_1__[\"default\"].BigInt(kLast);\n      if (!jsbi__WEBPACK_IMPORTED_MODULE_1__[\"default\"].equal(kLastParsed, ZERO)) {\n        var rootK = (0,_uniswap_sdk_core__WEBPACK_IMPORTED_MODULE_0__.sqrt)(jsbi__WEBPACK_IMPORTED_MODULE_1__[\"default\"].multiply(this.reserve0.quotient, this.reserve1.quotient));\n        var rootKLast = (0,_uniswap_sdk_core__WEBPACK_IMPORTED_MODULE_0__.sqrt)(kLastParsed);\n        if (jsbi__WEBPACK_IMPORTED_MODULE_1__[\"default\"].greaterThan(rootK, rootKLast)) {\n          var numerator = jsbi__WEBPACK_IMPORTED_MODULE_1__[\"default\"].multiply(totalSupply.quotient, jsbi__WEBPACK_IMPORTED_MODULE_1__[\"default\"].subtract(rootK, rootKLast));\n          var denominator = jsbi__WEBPACK_IMPORTED_MODULE_1__[\"default\"].add(jsbi__WEBPACK_IMPORTED_MODULE_1__[\"default\"].multiply(rootK, FIVE), rootKLast);\n          var feeLiquidity = jsbi__WEBPACK_IMPORTED_MODULE_1__[\"default\"].divide(numerator, denominator);\n          totalSupplyAdjusted = totalSupply.add(_uniswap_sdk_core__WEBPACK_IMPORTED_MODULE_0__.CurrencyAmount.fromRawAmount(this.liquidityToken, feeLiquidity));\n        } else {\n          totalSupplyAdjusted = totalSupply;\n        }\n      } else {\n        totalSupplyAdjusted = totalSupply;\n      }\n    }\n    return _uniswap_sdk_core__WEBPACK_IMPORTED_MODULE_0__.CurrencyAmount.fromRawAmount(token, jsbi__WEBPACK_IMPORTED_MODULE_1__[\"default\"].divide(jsbi__WEBPACK_IMPORTED_MODULE_1__[\"default\"].multiply(liquidity.quotient, this.reserveOf(token).quotient), totalSupplyAdjusted.quotient));\n  };\n  _proto.derivePercentAfterSellFees = function derivePercentAfterSellFees(inputAmount) {\n    var sellFeeBips = this.token0.wrapped.equals(inputAmount.wrapped.currency) ? this.token0.wrapped.sellFeeBps : this.token1.wrapped.sellFeeBps;\n    if (sellFeeBips != null && sellFeeBips.gt(_ethersproject_bignumber__WEBPACK_IMPORTED_MODULE_5__.BigNumber.from(0))) {\n      return ONE_HUNDRED_PERCENT.subtract(new _uniswap_sdk_core__WEBPACK_IMPORTED_MODULE_0__.Percent(jsbi__WEBPACK_IMPORTED_MODULE_1__[\"default\"].BigInt(sellFeeBips)).divide(BASIS_POINTS));\n    } else {\n      return ZERO_PERCENT;\n    }\n  };\n  _proto.derivePercentAfterBuyFees = function derivePercentAfterBuyFees(outputAmount) {\n    var buyFeeBps = this.token0.wrapped.equals(outputAmount.wrapped.currency) ? this.token0.wrapped.buyFeeBps : this.token1.wrapped.buyFeeBps;\n    if (buyFeeBps != null && buyFeeBps.gt(_ethersproject_bignumber__WEBPACK_IMPORTED_MODULE_5__.BigNumber.from(0))) {\n      return ONE_HUNDRED_PERCENT.subtract(new _uniswap_sdk_core__WEBPACK_IMPORTED_MODULE_0__.Percent(jsbi__WEBPACK_IMPORTED_MODULE_1__[\"default\"].BigInt(buyFeeBps)).divide(BASIS_POINTS));\n    } else {\n      return ZERO_PERCENT;\n    }\n  };\n  _createClass(Pair, [{\n    key: \"token0Price\",\n    get: function get() {\n      var result = this.tokenAmounts[1].divide(this.tokenAmounts[0]);\n      return new _uniswap_sdk_core__WEBPACK_IMPORTED_MODULE_0__.Price(this.token0, this.token1, result.denominator, result.numerator);\n    }\n    /**\r\n     * Returns the current mid price of the pair in terms of token1, i.e. the ratio of reserve0 to reserve1\r\n     */\n  }, {\n    key: \"token1Price\",\n    get: function get() {\n      var result = this.tokenAmounts[0].divide(this.tokenAmounts[1]);\n      return new _uniswap_sdk_core__WEBPACK_IMPORTED_MODULE_0__.Price(this.token1, this.token0, result.denominator, result.numerator);\n    }\n  }, {\n    key: \"chainId\",\n    get: function get() {\n      return this.token0.chainId;\n    }\n  }, {\n    key: \"token0\",\n    get: function get() {\n      return this.tokenAmounts[0].currency;\n    }\n  }, {\n    key: \"token1\",\n    get: function get() {\n      return this.tokenAmounts[1].currency;\n    }\n  }, {\n    key: \"reserve0\",\n    get: function get() {\n      return this.tokenAmounts[0];\n    }\n  }, {\n    key: \"reserve1\",\n    get: function get() {\n      return this.tokenAmounts[1];\n    }\n  }]);\n  return Pair;\n}();\n\nvar Route = /*#__PURE__*/function () {\n  function Route(pairs, input, output) {\n    this._midPrice = null;\n    !(pairs.length > 0) ?  true ? (0,tiny_invariant__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(false, 'PAIRS') : 0 : void 0;\n    var chainId = pairs[0].chainId;\n    !pairs.every(function (pair) {\n      return pair.chainId === chainId;\n    }) ?  true ? (0,tiny_invariant__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(false, 'CHAIN_IDS') : 0 : void 0;\n    var wrappedInput = input.wrapped;\n    !pairs[0].involvesToken(wrappedInput) ?  true ? (0,tiny_invariant__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(false, 'INPUT') : 0 : void 0;\n    !(typeof output === 'undefined' || pairs[pairs.length - 1].involvesToken(output.wrapped)) ?  true ? (0,tiny_invariant__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(false, 'OUTPUT') : 0 : void 0;\n    var path = [wrappedInput];\n    for (var _iterator = _createForOfIteratorHelperLoose(pairs.entries()), _step; !(_step = _iterator()).done;) {\n      var _step$value = _step.value,\n        i = _step$value[0],\n        pair = _step$value[1];\n      var currentInput = path[i];\n      !(currentInput.equals(pair.token0) || currentInput.equals(pair.token1)) ?  true ? (0,tiny_invariant__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(false, 'PATH') : 0 : void 0;\n      var _output = currentInput.equals(pair.token0) ? pair.token1 : pair.token0;\n      path.push(_output);\n    }\n    this.pairs = pairs;\n    this.path = path;\n    this.input = input;\n    this.output = output;\n  }\n  _createClass(Route, [{\n    key: \"midPrice\",\n    get: function get() {\n      if (this._midPrice !== null) return this._midPrice;\n      var prices = [];\n      for (var _iterator2 = _createForOfIteratorHelperLoose(this.pairs.entries()), _step2; !(_step2 = _iterator2()).done;) {\n        var _step2$value = _step2.value,\n          i = _step2$value[0],\n          pair = _step2$value[1];\n        prices.push(this.path[i].equals(pair.token0) ? new _uniswap_sdk_core__WEBPACK_IMPORTED_MODULE_0__.Price(pair.reserve0.currency, pair.reserve1.currency, pair.reserve0.quotient, pair.reserve1.quotient) : new _uniswap_sdk_core__WEBPACK_IMPORTED_MODULE_0__.Price(pair.reserve1.currency, pair.reserve0.currency, pair.reserve1.quotient, pair.reserve0.quotient));\n      }\n      var reduced = prices.slice(1).reduce(function (accumulator, currentValue) {\n        return accumulator.multiply(currentValue);\n      }, prices[0]);\n      return this._midPrice = new _uniswap_sdk_core__WEBPACK_IMPORTED_MODULE_0__.Price(this.input, this.output, reduced.denominator, reduced.numerator);\n    }\n  }, {\n    key: \"chainId\",\n    get: function get() {\n      return this.pairs[0].chainId;\n    }\n  }]);\n  return Route;\n}();\n\n// comparator function that allows sorting trades by their output amounts, in decreasing order, and then input amounts\n// in increasing order. i.e. the best trades have the most outputs for the least inputs and are sorted first\nfunction inputOutputComparator(a, b) {\n  // must have same input and output token for comparison\n  !a.inputAmount.currency.equals(b.inputAmount.currency) ?  true ? (0,tiny_invariant__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(false, 'INPUT_CURRENCY') : 0 : void 0;\n  !a.outputAmount.currency.equals(b.outputAmount.currency) ?  true ? (0,tiny_invariant__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(false, 'OUTPUT_CURRENCY') : 0 : void 0;\n  if (a.outputAmount.equalTo(b.outputAmount)) {\n    if (a.inputAmount.equalTo(b.inputAmount)) {\n      return 0;\n    }\n    // trade A requires less input than trade B, so A should come first\n    if (a.inputAmount.lessThan(b.inputAmount)) {\n      return -1;\n    } else {\n      return 1;\n    }\n  } else {\n    // tradeA has less output than trade B, so should come second\n    if (a.outputAmount.lessThan(b.outputAmount)) {\n      return 1;\n    } else {\n      return -1;\n    }\n  }\n}\n// extension of the input output comparator that also considers other dimensions of the trade in ranking them\nfunction tradeComparator(a, b) {\n  var ioComp = inputOutputComparator(a, b);\n  if (ioComp !== 0) {\n    return ioComp;\n  }\n  // consider lowest slippage next, since these are less likely to fail\n  if (a.priceImpact.lessThan(b.priceImpact)) {\n    return -1;\n  } else if (a.priceImpact.greaterThan(b.priceImpact)) {\n    return 1;\n  }\n  // finally consider the number of hops since each hop costs gas\n  return a.route.path.length - b.route.path.length;\n}\n/**\r\n * Represents a trade executed against a list of pairs.\r\n * Does not account for slippage, i.e. trades that front run this trade and move the price.\r\n */\nvar Trade = /*#__PURE__*/function () {\n  function Trade(route, amount, tradeType) {\n    this.route = route;\n    this.tradeType = tradeType;\n    var tokenAmounts = new Array(route.path.length);\n    if (tradeType === _uniswap_sdk_core__WEBPACK_IMPORTED_MODULE_0__.TradeType.EXACT_INPUT) {\n      !amount.currency.equals(route.input) ?  true ? (0,tiny_invariant__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(false, 'INPUT') : 0 : void 0;\n      tokenAmounts[0] = amount.wrapped;\n      for (var i = 0; i < route.path.length - 1; i++) {\n        var pair = route.pairs[i];\n        var _pair$getOutputAmount = pair.getOutputAmount(tokenAmounts[i]),\n          outputAmount = _pair$getOutputAmount[0];\n        tokenAmounts[i + 1] = outputAmount;\n      }\n      this.inputAmount = _uniswap_sdk_core__WEBPACK_IMPORTED_MODULE_0__.CurrencyAmount.fromFractionalAmount(route.input, amount.numerator, amount.denominator);\n      this.outputAmount = _uniswap_sdk_core__WEBPACK_IMPORTED_MODULE_0__.CurrencyAmount.fromFractionalAmount(route.output, tokenAmounts[tokenAmounts.length - 1].numerator, tokenAmounts[tokenAmounts.length - 1].denominator);\n    } else {\n      !amount.currency.equals(route.output) ?  true ? (0,tiny_invariant__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(false, 'OUTPUT') : 0 : void 0;\n      tokenAmounts[tokenAmounts.length - 1] = amount.wrapped;\n      for (var _i = route.path.length - 1; _i > 0; _i--) {\n        var _pair = route.pairs[_i - 1];\n        var _pair$getInputAmount = _pair.getInputAmount(tokenAmounts[_i]),\n          inputAmount = _pair$getInputAmount[0];\n        tokenAmounts[_i - 1] = inputAmount;\n      }\n      this.inputAmount = _uniswap_sdk_core__WEBPACK_IMPORTED_MODULE_0__.CurrencyAmount.fromFractionalAmount(route.input, tokenAmounts[0].numerator, tokenAmounts[0].denominator);\n      this.outputAmount = _uniswap_sdk_core__WEBPACK_IMPORTED_MODULE_0__.CurrencyAmount.fromFractionalAmount(route.output, amount.numerator, amount.denominator);\n    }\n    this.executionPrice = new _uniswap_sdk_core__WEBPACK_IMPORTED_MODULE_0__.Price(this.inputAmount.currency, this.outputAmount.currency, this.inputAmount.quotient, this.outputAmount.quotient);\n    this.priceImpact = (0,_uniswap_sdk_core__WEBPACK_IMPORTED_MODULE_0__.computePriceImpact)(route.midPrice, this.inputAmount, this.outputAmount);\n  }\n  /**\r\n   * Constructs an exact in trade with the given amount in and route\r\n   * @param route route of the exact in trade\r\n   * @param amountIn the amount being passed in\r\n   */\n  Trade.exactIn = function exactIn(route, amountIn) {\n    return new Trade(route, amountIn, _uniswap_sdk_core__WEBPACK_IMPORTED_MODULE_0__.TradeType.EXACT_INPUT);\n  }\n  /**\r\n   * Constructs an exact out trade with the given amount out and route\r\n   * @param route route of the exact out trade\r\n   * @param amountOut the amount returned by the trade\r\n   */;\n  Trade.exactOut = function exactOut(route, amountOut) {\n    return new Trade(route, amountOut, _uniswap_sdk_core__WEBPACK_IMPORTED_MODULE_0__.TradeType.EXACT_OUTPUT);\n  }\n  /**\r\n   * Get the minimum amount that must be received from this trade for the given slippage tolerance\r\n   * @param slippageTolerance tolerance of unfavorable slippage from the execution price of this trade\r\n   */;\n  var _proto = Trade.prototype;\n  _proto.minimumAmountOut = function minimumAmountOut(slippageTolerance) {\n    !!slippageTolerance.lessThan(ZERO) ?  true ? (0,tiny_invariant__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(false, 'SLIPPAGE_TOLERANCE') : 0 : void 0;\n    if (this.tradeType === _uniswap_sdk_core__WEBPACK_IMPORTED_MODULE_0__.TradeType.EXACT_OUTPUT) {\n      return this.outputAmount;\n    } else {\n      var slippageAdjustedAmountOut = new _uniswap_sdk_core__WEBPACK_IMPORTED_MODULE_0__.Fraction(ONE).add(slippageTolerance).invert().multiply(this.outputAmount.quotient).quotient;\n      return _uniswap_sdk_core__WEBPACK_IMPORTED_MODULE_0__.CurrencyAmount.fromRawAmount(this.outputAmount.currency, slippageAdjustedAmountOut);\n    }\n  }\n  /**\r\n   * Get the maximum amount in that can be spent via this trade for the given slippage tolerance\r\n   * @param slippageTolerance tolerance of unfavorable slippage from the execution price of this trade\r\n   */;\n  _proto.maximumAmountIn = function maximumAmountIn(slippageTolerance) {\n    !!slippageTolerance.lessThan(ZERO) ?  true ? (0,tiny_invariant__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(false, 'SLIPPAGE_TOLERANCE') : 0 : void 0;\n    if (this.tradeType === _uniswap_sdk_core__WEBPACK_IMPORTED_MODULE_0__.TradeType.EXACT_INPUT) {\n      return this.inputAmount;\n    } else {\n      var slippageAdjustedAmountIn = new _uniswap_sdk_core__WEBPACK_IMPORTED_MODULE_0__.Fraction(ONE).add(slippageTolerance).multiply(this.inputAmount.quotient).quotient;\n      return _uniswap_sdk_core__WEBPACK_IMPORTED_MODULE_0__.CurrencyAmount.fromRawAmount(this.inputAmount.currency, slippageAdjustedAmountIn);\n    }\n  }\n  /**\r\n   * Given a list of pairs, and a fixed amount in, returns the top `maxNumResults` trades that go from an input token\r\n   * amount to an output token, making at most `maxHops` hops.\r\n   * Note this does not consider aggregation, as routes are linear. It's possible a better route exists by splitting\r\n   * the amount in among multiple routes.\r\n   * @param pairs the pairs to consider in finding the best trade\r\n   * @param nextAmountIn exact amount of input currency to spend\r\n   * @param currencyOut the desired currency out\r\n   * @param maxNumResults maximum number of results to return\r\n   * @param maxHops maximum number of hops a returned trade can make, e.g. 1 hop goes through a single pair\r\n   * @param currentPairs used in recursion; the current list of pairs\r\n   * @param currencyAmountIn used in recursion; the original value of the currencyAmountIn parameter\r\n   * @param bestTrades used in recursion; the current list of best trades\r\n   */;\n  Trade.bestTradeExactIn = function bestTradeExactIn(pairs, currencyAmountIn, currencyOut, _temp,\n  // used in recursion.\n  currentPairs, nextAmountIn, bestTrades) {\n    var _ref = _temp === void 0 ? {} : _temp,\n      _ref$maxNumResults = _ref.maxNumResults,\n      maxNumResults = _ref$maxNumResults === void 0 ? 3 : _ref$maxNumResults,\n      _ref$maxHops = _ref.maxHops,\n      maxHops = _ref$maxHops === void 0 ? 3 : _ref$maxHops;\n    if (currentPairs === void 0) {\n      currentPairs = [];\n    }\n    if (nextAmountIn === void 0) {\n      nextAmountIn = currencyAmountIn;\n    }\n    if (bestTrades === void 0) {\n      bestTrades = [];\n    }\n    !(pairs.length > 0) ?  true ? (0,tiny_invariant__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(false, 'PAIRS') : 0 : void 0;\n    !(maxHops > 0) ?  true ? (0,tiny_invariant__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(false, 'MAX_HOPS') : 0 : void 0;\n    !(currencyAmountIn === nextAmountIn || currentPairs.length > 0) ?  true ? (0,tiny_invariant__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(false, 'INVALID_RECURSION') : 0 : void 0;\n    var amountIn = nextAmountIn.wrapped;\n    var tokenOut = currencyOut.wrapped;\n    for (var i = 0; i < pairs.length; i++) {\n      var pair = pairs[i];\n      // pair irrelevant\n      if (!pair.token0.equals(amountIn.currency) && !pair.token1.equals(amountIn.currency)) continue;\n      if (pair.reserve0.equalTo(ZERO) || pair.reserve1.equalTo(ZERO)) continue;\n      var amountOut = void 0;\n      try {\n        ;\n        var _pair$getOutputAmount2 = pair.getOutputAmount(amountIn);\n        amountOut = _pair$getOutputAmount2[0];\n      } catch (error) {\n        // input too low\n        if (error.isInsufficientInputAmountError) {\n          continue;\n        }\n        throw error;\n      }\n      // we have arrived at the output token, so this is the final trade of one of the paths\n      if (amountOut.currency.equals(tokenOut)) {\n        (0,_uniswap_sdk_core__WEBPACK_IMPORTED_MODULE_0__.sortedInsert)(bestTrades, new Trade(new Route([].concat(currentPairs, [pair]), currencyAmountIn.currency, currencyOut), currencyAmountIn, _uniswap_sdk_core__WEBPACK_IMPORTED_MODULE_0__.TradeType.EXACT_INPUT), maxNumResults, tradeComparator);\n      } else if (maxHops > 1 && pairs.length > 1) {\n        var pairsExcludingThisPair = pairs.slice(0, i).concat(pairs.slice(i + 1, pairs.length));\n        // otherwise, consider all the other paths that lead from this token as long as we have not exceeded maxHops\n        Trade.bestTradeExactIn(pairsExcludingThisPair, currencyAmountIn, currencyOut, {\n          maxNumResults: maxNumResults,\n          maxHops: maxHops - 1\n        }, [].concat(currentPairs, [pair]), amountOut, bestTrades);\n      }\n    }\n    return bestTrades;\n  }\n  /**\r\n   * Return the execution price after accounting for slippage tolerance\r\n   * @param slippageTolerance the allowed tolerated slippage\r\n   */;\n  _proto.worstExecutionPrice = function worstExecutionPrice(slippageTolerance) {\n    return new _uniswap_sdk_core__WEBPACK_IMPORTED_MODULE_0__.Price(this.inputAmount.currency, this.outputAmount.currency, this.maximumAmountIn(slippageTolerance).quotient, this.minimumAmountOut(slippageTolerance).quotient);\n  }\n  /**\r\n   * similar to the above method but instead targets a fixed output amount\r\n   * given a list of pairs, and a fixed amount out, returns the top `maxNumResults` trades that go from an input token\r\n   * to an output token amount, making at most `maxHops` hops\r\n   * note this does not consider aggregation, as routes are linear. it's possible a better route exists by splitting\r\n   * the amount in among multiple routes.\r\n   * @param pairs the pairs to consider in finding the best trade\r\n   * @param currencyIn the currency to spend\r\n   * @param nextAmountOut the exact amount of currency out\r\n   * @param maxNumResults maximum number of results to return\r\n   * @param maxHops maximum number of hops a returned trade can make, e.g. 1 hop goes through a single pair\r\n   * @param currentPairs used in recursion; the current list of pairs\r\n   * @param currencyAmountOut used in recursion; the original value of the currencyAmountOut parameter\r\n   * @param bestTrades used in recursion; the current list of best trades\r\n   */;\n  Trade.bestTradeExactOut = function bestTradeExactOut(pairs, currencyIn, currencyAmountOut, _temp2,\n  // used in recursion.\n  currentPairs, nextAmountOut, bestTrades) {\n    var _ref2 = _temp2 === void 0 ? {} : _temp2,\n      _ref2$maxNumResults = _ref2.maxNumResults,\n      maxNumResults = _ref2$maxNumResults === void 0 ? 3 : _ref2$maxNumResults,\n      _ref2$maxHops = _ref2.maxHops,\n      maxHops = _ref2$maxHops === void 0 ? 3 : _ref2$maxHops;\n    if (currentPairs === void 0) {\n      currentPairs = [];\n    }\n    if (nextAmountOut === void 0) {\n      nextAmountOut = currencyAmountOut;\n    }\n    if (bestTrades === void 0) {\n      bestTrades = [];\n    }\n    !(pairs.length > 0) ?  true ? (0,tiny_invariant__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(false, 'PAIRS') : 0 : void 0;\n    !(maxHops > 0) ?  true ? (0,tiny_invariant__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(false, 'MAX_HOPS') : 0 : void 0;\n    !(currencyAmountOut === nextAmountOut || currentPairs.length > 0) ?  true ? (0,tiny_invariant__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(false, 'INVALID_RECURSION') : 0 : void 0;\n    var amountOut = nextAmountOut.wrapped;\n    var tokenIn = currencyIn.wrapped;\n    for (var i = 0; i < pairs.length; i++) {\n      var pair = pairs[i];\n      // pair irrelevant\n      if (!pair.token0.equals(amountOut.currency) && !pair.token1.equals(amountOut.currency)) continue;\n      if (pair.reserve0.equalTo(ZERO) || pair.reserve1.equalTo(ZERO)) continue;\n      var amountIn = void 0;\n      try {\n        ;\n        var _pair$getInputAmount2 = pair.getInputAmount(amountOut);\n        amountIn = _pair$getInputAmount2[0];\n      } catch (error) {\n        // not enough liquidity in this pair\n        if (error.isInsufficientReservesError) {\n          continue;\n        }\n        throw error;\n      }\n      // we have arrived at the input token, so this is the first trade of one of the paths\n      if (amountIn.currency.equals(tokenIn)) {\n        (0,_uniswap_sdk_core__WEBPACK_IMPORTED_MODULE_0__.sortedInsert)(bestTrades, new Trade(new Route([pair].concat(currentPairs), currencyIn, currencyAmountOut.currency), currencyAmountOut, _uniswap_sdk_core__WEBPACK_IMPORTED_MODULE_0__.TradeType.EXACT_OUTPUT), maxNumResults, tradeComparator);\n      } else if (maxHops > 1 && pairs.length > 1) {\n        var pairsExcludingThisPair = pairs.slice(0, i).concat(pairs.slice(i + 1, pairs.length));\n        // otherwise, consider all the other paths that arrive at this token as long as we have not exceeded maxHops\n        Trade.bestTradeExactOut(pairsExcludingThisPair, currencyIn, currencyAmountOut, {\n          maxNumResults: maxNumResults,\n          maxHops: maxHops - 1\n        }, [pair].concat(currentPairs), amountIn, bestTrades);\n      }\n    }\n    return bestTrades;\n  };\n  return Trade;\n}();\n\nfunction toHex(currencyAmount) {\n  return \"0x\" + currencyAmount.quotient.toString(16);\n}\nvar ZERO_HEX = '0x0';\n/**\r\n * Represents the Uniswap V2 Router, and has static methods for helping execute trades.\r\n */\nvar Router = /*#__PURE__*/function () {\n  /**\r\n   * Cannot be constructed.\r\n   */\n  function Router() {}\n  /**\r\n   * Produces the on-chain method name to call and the hex encoded parameters to pass as arguments for a given trade.\r\n   * @param trade to produce call parameters for\r\n   * @param options options for the call parameters\r\n   */\n  Router.swapCallParameters = function swapCallParameters(trade, options) {\n    var etherIn = trade.inputAmount.currency.isNative;\n    var etherOut = trade.outputAmount.currency.isNative;\n    // the router does not support both ether in and out\n    !!(etherIn && etherOut) ?  true ? (0,tiny_invariant__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(false, 'ETHER_IN_OUT') : 0 : void 0;\n    !(!('ttl' in options) || options.ttl > 0) ?  true ? (0,tiny_invariant__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(false, 'TTL') : 0 : void 0;\n    var to = (0,_uniswap_sdk_core__WEBPACK_IMPORTED_MODULE_0__.validateAndParseAddress)(options.recipient);\n    var amountIn = toHex(trade.maximumAmountIn(options.allowedSlippage));\n    var amountOut = toHex(trade.minimumAmountOut(options.allowedSlippage));\n    var path = trade.route.path.map(function (token) {\n      return token.address;\n    });\n    var deadline = 'ttl' in options ? \"0x\" + (Math.floor(new Date().getTime() / 1000) + options.ttl).toString(16) : \"0x\" + options.deadline.toString(16);\n    var useFeeOnTransfer = Boolean(options.feeOnTransfer);\n    var methodName;\n    var args;\n    var value;\n    switch (trade.tradeType) {\n      case _uniswap_sdk_core__WEBPACK_IMPORTED_MODULE_0__.TradeType.EXACT_INPUT:\n        if (etherIn) {\n          methodName = useFeeOnTransfer ? 'swapExactETHForTokensSupportingFeeOnTransferTokens' : 'swapExactETHForTokens';\n          // (uint amountOutMin, address[] calldata path, address to, uint deadline)\n          args = [amountOut, path, to, deadline];\n          value = amountIn;\n        } else if (etherOut) {\n          methodName = useFeeOnTransfer ? 'swapExactTokensForETHSupportingFeeOnTransferTokens' : 'swapExactTokensForETH';\n          // (uint amountIn, uint amountOutMin, address[] calldata path, address to, uint deadline)\n          args = [amountIn, amountOut, path, to, deadline];\n          value = ZERO_HEX;\n        } else {\n          methodName = useFeeOnTransfer ? 'swapExactTokensForTokensSupportingFeeOnTransferTokens' : 'swapExactTokensForTokens';\n          // (uint amountIn, uint amountOutMin, address[] calldata path, address to, uint deadline)\n          args = [amountIn, amountOut, path, to, deadline];\n          value = ZERO_HEX;\n        }\n        break;\n      case _uniswap_sdk_core__WEBPACK_IMPORTED_MODULE_0__.TradeType.EXACT_OUTPUT:\n        !!useFeeOnTransfer ?  true ? (0,tiny_invariant__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(false, 'EXACT_OUT_FOT') : 0 : void 0;\n        if (etherIn) {\n          methodName = 'swapETHForExactTokens';\n          // (uint amountOut, address[] calldata path, address to, uint deadline)\n          args = [amountOut, path, to, deadline];\n          value = amountIn;\n        } else if (etherOut) {\n          methodName = 'swapTokensForExactETH';\n          // (uint amountOut, uint amountInMax, address[] calldata path, address to, uint deadline)\n          args = [amountOut, amountIn, path, to, deadline];\n          value = ZERO_HEX;\n        } else {\n          methodName = 'swapTokensForExactTokens';\n          // (uint amountOut, uint amountInMax, address[] calldata path, address to, uint deadline)\n          args = [amountOut, amountIn, path, to, deadline];\n          value = ZERO_HEX;\n        }\n        break;\n    }\n    return {\n      methodName: methodName,\n      args: args,\n      value: value\n    };\n  };\n  return Router;\n}();\n\n\n//# sourceMappingURL=v2-sdk.esm.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0B1bmlzd2FwL3YyLXNkay9kaXN0L3YyLXNkay5lc20uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQXNMO0FBQzlKO0FBQ21DO0FBQ047QUFDSztBQUNuQjs7QUFFdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIsbUVBQW9CO0FBQzlDO0FBQ0EscUNBQXFDLDRDQUFJO0FBQ3pDO0FBQ0Esd0JBQXdCLDRDQUFJO0FBQzVCLHVCQUF1Qiw0Q0FBSTtBQUMzQix3QkFBd0IsNENBQUk7QUFDNUIsd0JBQXdCLDRDQUFJO0FBQzVCLHlCQUF5Qiw0Q0FBSTtBQUM3QixnQ0FBZ0MsNENBQUk7QUFDcEMsb0NBQW9DLHNEQUFPO0FBQzNDLDJDQUEyQyxzREFBTzs7QUFFbEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUZBQXlGO0FBQ3pGLElBQUk7QUFDSjtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLGtCQUFrQjtBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNB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QTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyx3REFBUztBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsd0RBQVM7QUFDcEIsNkJBQTZCLEtBQXFDLEdBQUcsMERBQVMsMkJBQTJCLENBQWdCO0FBQ3pIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRWtOO0FBQ25OIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQHNlLTIvbmV4dGpzLy4uLy4uL25vZGVfbW9kdWxlcy9AdW5pc3dhcC92Mi1zZGsvZGlzdC92Mi1zZGsuZXNtLmpzPzNiNDUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgVjJfRkFDVE9SWV9BRERSRVNTRVMsIFBlcmNlbnQsIEN1cnJlbmN5QW1vdW50LCBzcXJ0LCBUb2tlbiwgUHJpY2UsIFRyYWRlVHlwZSwgRnJhY3Rpb24sIGNvbXB1dGVQcmljZUltcGFjdCwgc29ydGVkSW5zZXJ0LCB2YWxpZGF0ZUFuZFBhcnNlQWRkcmVzcyB9IGZyb20gJ0B1bmlzd2FwL3Nkay1jb3JlJztcbmltcG9ydCBKU0JJIGZyb20gJ2pzYmknO1xuaW1wb3J0IHsgZ2V0Q3JlYXRlMkFkZHJlc3MgfSBmcm9tICdAZXRoZXJzcHJvamVjdC9hZGRyZXNzJztcbmltcG9ydCB7IEJpZ051bWJlciB9IGZyb20gJ0BldGhlcnNwcm9qZWN0L2JpZ251bWJlcic7XG5pbXBvcnQgeyBrZWNjYWsyNTYsIHBhY2sgfSBmcm9tICdAZXRoZXJzcHJvamVjdC9zb2xpZGl0eSc7XG5pbXBvcnQgaW52YXJpYW50IGZyb20gJ3RpbnktaW52YXJpYW50JztcblxuLyoqXHJcbiAqIEBkZXByZWNhdGVkIHVzZSBGQUNUT1JZX0FERFJFU1NfTUFQIGluc3RlYWRcclxuICovXG52YXIgRkFDVE9SWV9BRERSRVNTID0gJzB4NUM2OWJFZTcwMWVmODE0YTJCNmEzRURENEIxNjUyQ0I5Y2M1YUE2Zic7XG52YXIgRkFDVE9SWV9BRERSRVNTX01BUCA9IFYyX0ZBQ1RPUllfQUREUkVTU0VTO1xudmFyIElOSVRfQ09ERV9IQVNIID0gJzB4OTZlOGFjNDI3NzE5OGZmOGI2Zjc4NTQ3OGFhOWEzOWY0MDNjYjc2OGRkMDJjYmVlMzI2YzNlN2RhMzQ4ODQ1Zic7XG52YXIgTUlOSU1VTV9MSVFVSURJVFkgPSAvKiNfX1BVUkVfXyovSlNCSS5CaWdJbnQoMTAwMCk7XG4vLyBleHBvcnRzIGZvciBpbnRlcm5hbCBjb25zdW1wdGlvblxudmFyIFpFUk8gPSAvKiNfX1BVUkVfXyovSlNCSS5CaWdJbnQoMCk7XG52YXIgT05FID0gLyojX19QVVJFX18qL0pTQkkuQmlnSW50KDEpO1xudmFyIEZJVkUgPSAvKiNfX1BVUkVfXyovSlNCSS5CaWdJbnQoNSk7XG52YXIgXzk5NyA9IC8qI19fUFVSRV9fKi9KU0JJLkJpZ0ludCg5OTcpO1xudmFyIF8xMDAwID0gLyojX19QVVJFX18qL0pTQkkuQmlnSW50KDEwMDApO1xudmFyIEJBU0lTX1BPSU5UUyA9IC8qI19fUFVSRV9fKi9KU0JJLkJpZ0ludCgxMDAwMCk7XG52YXIgWkVST19QRVJDRU5UID0gLyojX19QVVJFX18qL25ldyBQZXJjZW50KFpFUk8pO1xudmFyIE9ORV9IVU5EUkVEX1BFUkNFTlQgPSAvKiNfX1BVUkVfXyovbmV3IFBlcmNlbnQoT05FKTtcblxuZnVuY3Rpb24gX2NvbnN0cnVjdCh0LCBlLCByKSB7XG4gIGlmIChfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCkpIHJldHVybiBSZWZsZWN0LmNvbnN0cnVjdC5hcHBseShudWxsLCBhcmd1bWVudHMpO1xuICB2YXIgbyA9IFtudWxsXTtcbiAgby5wdXNoLmFwcGx5KG8sIGUpO1xuICB2YXIgcCA9IG5ldyAodC5iaW5kLmFwcGx5KHQsIG8pKSgpO1xuICByZXR1cm4gciAmJiBfc2V0UHJvdG90eXBlT2YocCwgci5wcm90b3R5cGUpLCBwO1xufVxuZnVuY3Rpb24gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpIHtcbiAgdHJ5IHtcbiAgICB2YXIgdCA9ICFCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbiwgW10sIGZ1bmN0aW9uICgpIHt9KSk7XG4gIH0gY2F0Y2ggKHQpIHt9XG4gIHJldHVybiAoX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gISF0O1xuICB9KSgpO1xufVxuZnVuY3Rpb24gX3RvUHJpbWl0aXZlKHQsIHIpIHtcbiAgaWYgKFwib2JqZWN0XCIgIT0gdHlwZW9mIHQgfHwgIXQpIHJldHVybiB0O1xuICB2YXIgZSA9IHRbU3ltYm9sLnRvUHJpbWl0aXZlXTtcbiAgaWYgKHZvaWQgMCAhPT0gZSkge1xuICAgIHZhciBpID0gZS5jYWxsKHQsIHIgfHwgXCJkZWZhdWx0XCIpO1xuICAgIGlmIChcIm9iamVjdFwiICE9IHR5cGVvZiBpKSByZXR1cm4gaTtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIik7XG4gIH1cbiAgcmV0dXJuIChcInN0cmluZ1wiID09PSByID8gU3RyaW5nIDogTnVtYmVyKSh0KTtcbn1cbmZ1bmN0aW9uIF90b1Byb3BlcnR5S2V5KHQpIHtcbiAgdmFyIGkgPSBfdG9QcmltaXRpdmUodCwgXCJzdHJpbmdcIik7XG4gIHJldHVybiBcInN5bWJvbFwiID09IHR5cGVvZiBpID8gaSA6IFN0cmluZyhpKTtcbn1cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07XG4gICAgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlO1xuICAgIGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTtcbiAgICBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIF90b1Byb3BlcnR5S2V5KGRlc2NyaXB0b3Iua2V5KSwgZGVzY3JpcHRvcik7XG4gIH1cbn1cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHtcbiAgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7XG4gIGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KENvbnN0cnVjdG9yLCBcInByb3RvdHlwZVwiLCB7XG4gICAgd3JpdGFibGU6IGZhbHNlXG4gIH0pO1xuICByZXR1cm4gQ29uc3RydWN0b3I7XG59XG5mdW5jdGlvbiBfaW5oZXJpdHNMb29zZShzdWJDbGFzcywgc3VwZXJDbGFzcykge1xuICBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MucHJvdG90eXBlKTtcbiAgc3ViQ2xhc3MucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gc3ViQ2xhc3M7XG4gIF9zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcyk7XG59XG5mdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2Yobykge1xuICBfZ2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3QuZ2V0UHJvdG90eXBlT2YuYmluZCgpIDogZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pIHtcbiAgICByZXR1cm4gby5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKG8pO1xuICB9O1xuICByZXR1cm4gX2dldFByb3RvdHlwZU9mKG8pO1xufVxuZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHtcbiAgX3NldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mLmJpbmQoKSA6IGZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7XG4gICAgby5fX3Byb3RvX18gPSBwO1xuICAgIHJldHVybiBvO1xuICB9O1xuICByZXR1cm4gX3NldFByb3RvdHlwZU9mKG8sIHApO1xufVxuZnVuY3Rpb24gX2lzTmF0aXZlRnVuY3Rpb24oZm4pIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gRnVuY3Rpb24udG9TdHJpbmcuY2FsbChmbikuaW5kZXhPZihcIltuYXRpdmUgY29kZV1cIikgIT09IC0xO1xuICB9IGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIHR5cGVvZiBmbiA9PT0gXCJmdW5jdGlvblwiO1xuICB9XG59XG5mdW5jdGlvbiBfd3JhcE5hdGl2ZVN1cGVyKENsYXNzKSB7XG4gIHZhciBfY2FjaGUgPSB0eXBlb2YgTWFwID09PSBcImZ1bmN0aW9uXCIgPyBuZXcgTWFwKCkgOiB1bmRlZmluZWQ7XG4gIF93cmFwTmF0aXZlU3VwZXIgPSBmdW5jdGlvbiBfd3JhcE5hdGl2ZVN1cGVyKENsYXNzKSB7XG4gICAgaWYgKENsYXNzID09PSBudWxsIHx8ICFfaXNOYXRpdmVGdW5jdGlvbihDbGFzcykpIHJldHVybiBDbGFzcztcbiAgICBpZiAodHlwZW9mIENsYXNzICE9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBfY2FjaGUgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgIGlmIChfY2FjaGUuaGFzKENsYXNzKSkgcmV0dXJuIF9jYWNoZS5nZXQoQ2xhc3MpO1xuICAgICAgX2NhY2hlLnNldChDbGFzcywgV3JhcHBlcik7XG4gICAgfVxuICAgIGZ1bmN0aW9uIFdyYXBwZXIoKSB7XG4gICAgICByZXR1cm4gX2NvbnN0cnVjdChDbGFzcywgYXJndW1lbnRzLCBfZ2V0UHJvdG90eXBlT2YodGhpcykuY29uc3RydWN0b3IpO1xuICAgIH1cbiAgICBXcmFwcGVyLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoQ2xhc3MucHJvdG90eXBlLCB7XG4gICAgICBjb25zdHJ1Y3Rvcjoge1xuICAgICAgICB2YWx1ZTogV3JhcHBlcixcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gX3NldFByb3RvdHlwZU9mKFdyYXBwZXIsIENsYXNzKTtcbiAgfTtcbiAgcmV0dXJuIF93cmFwTmF0aXZlU3VwZXIoQ2xhc3MpO1xufVxuZnVuY3Rpb24gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKSB7XG4gIGlmIChzZWxmID09PSB2b2lkIDApIHtcbiAgICB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7XG4gIH1cbiAgcmV0dXJuIHNlbGY7XG59XG5mdW5jdGlvbiBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkobywgbWluTGVuKSB7XG4gIGlmICghbykgcmV0dXJuO1xuICBpZiAodHlwZW9mIG8gPT09IFwic3RyaW5nXCIpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pO1xuICB2YXIgbiA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKS5zbGljZSg4LCAtMSk7XG4gIGlmIChuID09PSBcIk9iamVjdFwiICYmIG8uY29uc3RydWN0b3IpIG4gPSBvLmNvbnN0cnVjdG9yLm5hbWU7XG4gIGlmIChuID09PSBcIk1hcFwiIHx8IG4gPT09IFwiU2V0XCIpIHJldHVybiBBcnJheS5mcm9tKG8pO1xuICBpZiAobiA9PT0gXCJBcmd1bWVudHNcIiB8fCAvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKSkgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7XG59XG5mdW5jdGlvbiBfYXJyYXlMaWtlVG9BcnJheShhcnIsIGxlbikge1xuICBpZiAobGVuID09IG51bGwgfHwgbGVuID4gYXJyLmxlbmd0aCkgbGVuID0gYXJyLmxlbmd0aDtcbiAgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBuZXcgQXJyYXkobGVuKTsgaSA8IGxlbjsgaSsrKSBhcnIyW2ldID0gYXJyW2ldO1xuICByZXR1cm4gYXJyMjtcbn1cbmZ1bmN0aW9uIF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyTG9vc2UobywgYWxsb3dBcnJheUxpa2UpIHtcbiAgdmFyIGl0ID0gdHlwZW9mIFN5bWJvbCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBvW1N5bWJvbC5pdGVyYXRvcl0gfHwgb1tcIkBAaXRlcmF0b3JcIl07XG4gIGlmIChpdCkgcmV0dXJuIChpdCA9IGl0LmNhbGwobykpLm5leHQuYmluZChpdCk7XG4gIGlmIChBcnJheS5pc0FycmF5KG8pIHx8IChpdCA9IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShvKSkgfHwgYWxsb3dBcnJheUxpa2UgJiYgbyAmJiB0eXBlb2Ygby5sZW5ndGggPT09IFwibnVtYmVyXCIpIHtcbiAgICBpZiAoaXQpIG8gPSBpdDtcbiAgICB2YXIgaSA9IDA7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmIChpID49IG8ubGVuZ3RoKSByZXR1cm4ge1xuICAgICAgICBkb25lOiB0cnVlXG4gICAgICB9O1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgZG9uZTogZmFsc2UsXG4gICAgICAgIHZhbHVlOiBvW2krK11cbiAgICAgIH07XG4gICAgfTtcbiAgfVxuICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIGl0ZXJhdGUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIik7XG59XG5cbi8vIHNlZSBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL2EvNDExMDIzMDZcbnZhciBDQU5fU0VUX1BST1RPVFlQRSA9ICgnc2V0UHJvdG90eXBlT2YnIGluIE9iamVjdCk7XG4vKipcclxuICogSW5kaWNhdGVzIHRoYXQgdGhlIHBhaXIgaGFzIGluc3VmZmljaWVudCByZXNlcnZlcyBmb3IgYSBkZXNpcmVkIG91dHB1dCBhbW91bnQuIEkuZS4gdGhlIGFtb3VudCBvZiBvdXRwdXQgY2Fubm90IGJlXHJcbiAqIG9idGFpbmVkIGJ5IHNlbmRpbmcgYW55IGFtb3VudCBvZiBpbnB1dC5cclxuICovXG52YXIgSW5zdWZmaWNpZW50UmVzZXJ2ZXNFcnJvciA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX0Vycm9yKSB7XG4gIF9pbmhlcml0c0xvb3NlKEluc3VmZmljaWVudFJlc2VydmVzRXJyb3IsIF9FcnJvcik7XG4gIGZ1bmN0aW9uIEluc3VmZmljaWVudFJlc2VydmVzRXJyb3IoKSB7XG4gICAgdmFyIF90aGlzO1xuICAgIF90aGlzID0gX0Vycm9yLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICBfdGhpcy5pc0luc3VmZmljaWVudFJlc2VydmVzRXJyb3IgPSB0cnVlO1xuICAgIF90aGlzLm5hbWUgPSBfdGhpcy5jb25zdHJ1Y3Rvci5uYW1lO1xuICAgIGlmIChDQU5fU0VUX1BST1RPVFlQRSkgT2JqZWN0LnNldFByb3RvdHlwZU9mKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCAodGhpcyBpbnN0YW5jZW9mIEluc3VmZmljaWVudFJlc2VydmVzRXJyb3IgPyB0aGlzLmNvbnN0cnVjdG9yIDogdm9pZCAwKS5wcm90b3R5cGUpO1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuICByZXR1cm4gSW5zdWZmaWNpZW50UmVzZXJ2ZXNFcnJvcjtcbn0oIC8qI19fUFVSRV9fKi9fd3JhcE5hdGl2ZVN1cGVyKEVycm9yKSk7XG4vKipcclxuICogSW5kaWNhdGVzIHRoYXQgdGhlIGlucHV0IGFtb3VudCBpcyB0b28gc21hbGwgdG8gcHJvZHVjZSBhbnkgYW1vdW50IG9mIG91dHB1dC4gSS5lLiB0aGUgYW1vdW50IG9mIGlucHV0IHNlbnQgaXMgbGVzc1xyXG4gKiB0aGFuIHRoZSBwcmljZSBvZiBhIHNpbmdsZSB1bml0IG9mIG91dHB1dCBhZnRlciBmZWVzLlxyXG4gKi9cbnZhciBJbnN1ZmZpY2llbnRJbnB1dEFtb3VudEVycm9yID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfRXJyb3IyKSB7XG4gIF9pbmhlcml0c0xvb3NlKEluc3VmZmljaWVudElucHV0QW1vdW50RXJyb3IsIF9FcnJvcjIpO1xuICBmdW5jdGlvbiBJbnN1ZmZpY2llbnRJbnB1dEFtb3VudEVycm9yKCkge1xuICAgIHZhciBfdGhpczI7XG4gICAgX3RoaXMyID0gX0Vycm9yMi5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgX3RoaXMyLmlzSW5zdWZmaWNpZW50SW5wdXRBbW91bnRFcnJvciA9IHRydWU7XG4gICAgX3RoaXMyLm5hbWUgPSBfdGhpczIuY29uc3RydWN0b3IubmFtZTtcbiAgICBpZiAoQ0FOX1NFVF9QUk9UT1RZUEUpIE9iamVjdC5zZXRQcm90b3R5cGVPZihfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzMiksICh0aGlzIGluc3RhbmNlb2YgSW5zdWZmaWNpZW50SW5wdXRBbW91bnRFcnJvciA/IHRoaXMuY29uc3RydWN0b3IgOiB2b2lkIDApLnByb3RvdHlwZSk7XG4gICAgcmV0dXJuIF90aGlzMjtcbiAgfVxuICByZXR1cm4gSW5zdWZmaWNpZW50SW5wdXRBbW91bnRFcnJvcjtcbn0oIC8qI19fUFVSRV9fKi9fd3JhcE5hdGl2ZVN1cGVyKEVycm9yKSk7XG5cbnZhciBjb21wdXRlUGFpckFkZHJlc3MgPSBmdW5jdGlvbiBjb21wdXRlUGFpckFkZHJlc3MoX3JlZikge1xuICB2YXIgZmFjdG9yeUFkZHJlc3MgPSBfcmVmLmZhY3RvcnlBZGRyZXNzLFxuICAgIHRva2VuQSA9IF9yZWYudG9rZW5BLFxuICAgIHRva2VuQiA9IF9yZWYudG9rZW5CO1xuICB2YXIgX3JlZjIgPSB0b2tlbkEuc29ydHNCZWZvcmUodG9rZW5CKSA/IFt0b2tlbkEsIHRva2VuQl0gOiBbdG9rZW5CLCB0b2tlbkFdLFxuICAgIHRva2VuMCA9IF9yZWYyWzBdLFxuICAgIHRva2VuMSA9IF9yZWYyWzFdOyAvLyBkb2VzIHNhZmV0eSBjaGVja3NcbiAgcmV0dXJuIGdldENyZWF0ZTJBZGRyZXNzKGZhY3RvcnlBZGRyZXNzLCBrZWNjYWsyNTYoWydieXRlcyddLCBbcGFjayhbJ2FkZHJlc3MnLCAnYWRkcmVzcyddLCBbdG9rZW4wLmFkZHJlc3MsIHRva2VuMS5hZGRyZXNzXSldKSwgSU5JVF9DT0RFX0hBU0gpO1xufTtcbnZhciBQYWlyID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gUGFpcihjdXJyZW5jeUFtb3VudEEsIHRva2VuQW1vdW50Qikge1xuICAgIHZhciB0b2tlbkFtb3VudHMgPSBjdXJyZW5jeUFtb3VudEEuY3VycmVuY3kuc29ydHNCZWZvcmUodG9rZW5BbW91bnRCLmN1cnJlbmN5KSAvLyBkb2VzIHNhZmV0eSBjaGVja3NcbiAgICA/IFtjdXJyZW5jeUFtb3VudEEsIHRva2VuQW1vdW50Ql0gOiBbdG9rZW5BbW91bnRCLCBjdXJyZW5jeUFtb3VudEFdO1xuICAgIHRoaXMubGlxdWlkaXR5VG9rZW4gPSBuZXcgVG9rZW4odG9rZW5BbW91bnRzWzBdLmN1cnJlbmN5LmNoYWluSWQsIFBhaXIuZ2V0QWRkcmVzcyh0b2tlbkFtb3VudHNbMF0uY3VycmVuY3ksIHRva2VuQW1vdW50c1sxXS5jdXJyZW5jeSksIDE4LCAnVU5JLVYyJywgJ1VuaXN3YXAgVjInKTtcbiAgICB0aGlzLnRva2VuQW1vdW50cyA9IHRva2VuQW1vdW50cztcbiAgfVxuICBQYWlyLmdldEFkZHJlc3MgPSBmdW5jdGlvbiBnZXRBZGRyZXNzKHRva2VuQSwgdG9rZW5CKSB7XG4gICAgdmFyIF9GQUNUT1JZX0FERFJFU1NfTUFQJDtcbiAgICB2YXIgZmFjdG9yeUFkZHJlc3MgPSAoX0ZBQ1RPUllfQUREUkVTU19NQVAkID0gRkFDVE9SWV9BRERSRVNTX01BUFt0b2tlbkEuY2hhaW5JZF0pICE9IG51bGwgPyBfRkFDVE9SWV9BRERSRVNTX01BUCQgOiBGQUNUT1JZX0FERFJFU1M7XG4gICAgcmV0dXJuIGNvbXB1dGVQYWlyQWRkcmVzcyh7XG4gICAgICBmYWN0b3J5QWRkcmVzczogZmFjdG9yeUFkZHJlc3MsXG4gICAgICB0b2tlbkE6IHRva2VuQSxcbiAgICAgIHRva2VuQjogdG9rZW5CXG4gICAgfSk7XG4gIH1cbiAgLyoqXHJcbiAgICogUmV0dXJucyB0cnVlIGlmIHRoZSB0b2tlbiBpcyBlaXRoZXIgdG9rZW4wIG9yIHRva2VuMVxyXG4gICAqIEBwYXJhbSB0b2tlbiB0byBjaGVja1xyXG4gICAqLztcbiAgdmFyIF9wcm90byA9IFBhaXIucHJvdG90eXBlO1xuICBfcHJvdG8uaW52b2x2ZXNUb2tlbiA9IGZ1bmN0aW9uIGludm9sdmVzVG9rZW4odG9rZW4pIHtcbiAgICByZXR1cm4gdG9rZW4uZXF1YWxzKHRoaXMudG9rZW4wKSB8fCB0b2tlbi5lcXVhbHModGhpcy50b2tlbjEpO1xuICB9XG4gIC8qKlxyXG4gICAqIFJldHVybnMgdGhlIGN1cnJlbnQgbWlkIHByaWNlIG9mIHRoZSBwYWlyIGluIHRlcm1zIG9mIHRva2VuMCwgaS5lLiB0aGUgcmF0aW8gb2YgcmVzZXJ2ZTEgdG8gcmVzZXJ2ZTBcclxuICAgKi87XG4gIC8qKlxyXG4gICAqIFJldHVybiB0aGUgcHJpY2Ugb2YgdGhlIGdpdmVuIHRva2VuIGluIHRlcm1zIG9mIHRoZSBvdGhlciB0b2tlbiBpbiB0aGUgcGFpci5cclxuICAgKiBAcGFyYW0gdG9rZW4gdG9rZW4gdG8gcmV0dXJuIHByaWNlIG9mXHJcbiAgICovXG4gIF9wcm90by5wcmljZU9mID0gZnVuY3Rpb24gcHJpY2VPZih0b2tlbikge1xuICAgICF0aGlzLmludm9sdmVzVG9rZW4odG9rZW4pID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gaW52YXJpYW50KGZhbHNlLCAnVE9LRU4nKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgcmV0dXJuIHRva2VuLmVxdWFscyh0aGlzLnRva2VuMCkgPyB0aGlzLnRva2VuMFByaWNlIDogdGhpcy50b2tlbjFQcmljZTtcbiAgfVxuICAvKipcclxuICAgKiBSZXR1cm5zIHRoZSBjaGFpbiBJRCBvZiB0aGUgdG9rZW5zIGluIHRoZSBwYWlyLlxyXG4gICAqLztcbiAgX3Byb3RvLnJlc2VydmVPZiA9IGZ1bmN0aW9uIHJlc2VydmVPZih0b2tlbikge1xuICAgICF0aGlzLmludm9sdmVzVG9rZW4odG9rZW4pID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gaW52YXJpYW50KGZhbHNlLCAnVE9LRU4nKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgcmV0dXJuIHRva2VuLmVxdWFscyh0aGlzLnRva2VuMCkgPyB0aGlzLnJlc2VydmUwIDogdGhpcy5yZXNlcnZlMTtcbiAgfVxuICAvKipcclxuICAgKiBnZXRBbW91bnRPdXQgaXMgdGhlIGxpbmVhciBhbGdlYnJhIG9mIHJlc2VydmUgcmF0aW8gYWdhaW5zdCBhbW91bnRJbjphbW91bnRPdXQuXHJcbiAgICogaHR0cHM6Ly9ldGhlcmV1bS5zdGFja2V4Y2hhbmdlLmNvbS9xdWVzdGlvbnMvMTAxNjI5L3doYXQtaXMtbWF0aC1mb3ItdW5pc3dhcC1jYWxjdWxhdGVzLXRoZS1hbW91bnRvdXQtYW5kLWFtb3VudGluLXdoeS05OTctYW5kLTEwMDBcclxuICAgKiBoYXMgdGhlIG1hdGggZGVkdWN0aW9uIGZvciB0aGUgcmVzZXJ2ZSBjYWxjdWxhdGlvbiB3aXRob3V0IGZlZS1vbi10cmFuc2ZlciBmZWVzLlxyXG4gICAqXHJcbiAgICogV2l0aCBmZWUtb24tdHJhbnNmZXIgdGF4LCBpbnR1aXRpdmVseSBpdCdzIGp1c3Q6XHJcbiAgICogaW5wdXRBbW91bnRXaXRoRmVlQW5kVGF4ID0gMC45OTcgKiAoMSAtIGFtb3VudEluLnNlbGxGZWVzQmlwcyAvIDEwMDAwKSAqIGFtb3VudEluXHJcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgID0gKDEgLSBhbW91bnRJbi5zZWxsRmVlc0JpcHMgLyAxMDAwMCkgKiBhbW91bnRJbldpdGhGZWVcclxuICAgKiB3aGVyZSBhbW91bnRJbldpdGhGZWUgaXMgdGhlIGFtb3VudEluIGFmdGVyIHRha2luZyBvdXQgdGhlIExQIGZlZXNcclxuICAgKiBvdXRwdXRBbW91bnRXaXRoVGF4ID0gYW1vdW50T3V0ICogKDEgLSBhbW91bnRPdXQuYnV5RmVlc0JpcHMgLyAxMDAwMClcclxuICAgKlxyXG4gICAqIEJ1dCB3ZSBhcmUgaWxsdXN0cmF0aW5nIHRoZSBtYXRoIGRlZHVjdGlvbiBiZWxvdyB0byBlbnN1cmUgdGhhdCdzIHRoZSBjYXNlLlxyXG4gICAqXHJcbiAgICogYmVmb3JlIHN3YXAgQSAqIEIgPSBLIHdoZXJlIEEgPSByZXNlcnZlSW4gQiA9IHJlc2VydmVPdXRcclxuICAgKlxyXG4gICAqIGFmdGVyIHN3YXAgQScgKiBCJyA9IEsgd2hlcmUgb25seSBrIGlzIGEgY29uc3RhbnQgdmFsdWVcclxuICAgKlxyXG4gICAqIGdldEFtb3VudE91dFxyXG4gICAqXHJcbiAgICogQScgPSBBICsgMC45OTcgKiAoMSAtIGFtb3VudEluLnNlbGxGZWVzQmlwcyAvIDEwMDAwKSAqIGFtb3VudEluICMgaGVyZSAwLjMlIGlzIGRlZHVjdGVkXHJcbiAgICogQicgPSBCIC0gYW1vdW50T3V0ICogKDEgLSBhbW91bnRPdXQuYnV5RmVlc0JpcHMgLyAxMDAwMClcclxuICAgKiBhbW91bnRPdXQgPSAoQiAtIEInKSAvICgxIC0gYW1vdW50T3V0LmJ1eUZlZXNCaXBzIC8gMTAwMDApICMgd2hlcmUgQScgKiBCJyBzdGlsbCBpcyBrXHJcbiAgICogICAgICAgICAgID0gKEIgLSBLLyhBICsgMC45OTcgKiAoMSAtIGFtb3VudEluLnNlbGxGZWVzQmlwcyAvIDEwMDAwKSAqIGFtb3VudEluKSlcclxuICAgKiAgICAgICAgICAgICAvXHJcbiAgICogICAgICAgICAgICAgKDEgLSBhbW91bnRPdXQuYnV5RmVlc0JpcHMgLyAxMDAwMClcclxuICAgKiAgICAgICAgICAgPSAoQiAtIEFCLyhBICsgMC45OTcgKiAoMSAtIGFtb3VudEluLnNlbGxGZWVzQmlwcyAvIDEwMDAwKSAqIGFtb3VudEluKSlcclxuICAgKiAgICAgICAgICAgICAvXHJcbiAgICogICAgICAgICAgICAgKDEgLSBhbW91bnRPdXQuYnV5RmVlc0JpcHMgLyAxMDAwMClcclxuICAgKiAgICAgICAgICAgPSAoKEJBICsgQiAqIDAuOTk3ICogKDEgLSBhbW91bnRJbi5zZWxsRmVlc0JpcHMgLyAxMDAwMCkgKiBhbW91bnRJbiAtIEFCKS8oQSArIDAuOTk3ICogKDEgLSBhbW91bnRJbi5zZWxsRmVlc0JpcHMgLyAxMDAwMCkgKiBhbW91bnRJbikpXHJcbiAgICogICAgICAgICAgICAgL1xyXG4gICAqICAgICAgICAgICAgICgxIC0gYW1vdW50T3V0LmJ1eUZlZXNCaXBzIC8gMTAwMDApXHJcbiAgICogICAgICAgICAgID0gKEIgKiAwLjk5NyAqICgxIC0gYW1vdW50SW4uc2VsbEZlZXNCaXBzIC8gMTAwMDApICogYW1vdW50SW4gLyAoQSArIDAuOTk3ICogKDEgLSBhbW91bnRJbi5zZWxsRmVlc0JpcHMgLyAxMDAwMCkgKiBhbW91bnRJbilcclxuICAgKiAgICAgICAgICAgICAvXHJcbiAgICogICAgICAgICAgICAgKDEgLSBhbW91bnRPdXQuYnV5RmVlc0JpcHMgLyAxMDAwMClcclxuICAgKiBhbW91bnRPdXQgKiAoMSAtIGFtb3VudE91dC5idXlGZWVzQmlwcyAvIDEwMDAwKSA9IChCICogMC45OTcgKiAoMSAtIGFtb3VudEluLnNlbGxGZWVzQmlwcyAvIDEwMDAwKSAqIGFtb3VudEluXHJcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgL1xyXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChBICsgMC45OTcgKiAoMSAtIGFtb3VudEluLnNlbGxGZWVzQmlwcyAvIDEwMDAwKSAqIGFtb3VudEluKVxyXG4gICAqXHJcbiAgICogb3V0cHV0QW1vdW50V2l0aFRheCA9IChCICogMC45OTcgKiAoMSAtIGFtb3VudEluLnNlbGxGZWVzQmlwcyAvIDEwMDAwKSAqIGFtb3VudEluXHJcbiAgICogICAgICAgICAgICAgICAgICAgICAgIC9cclxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgKEEgKyAwLjk5NyAqICgxIC0gYW1vdW50SW4uc2VsbEZlZXNCaXBzIC8gMTAwMDApICogYW1vdW50SW4pXHJcbiAgICogICAgICAgICAgICAgICAgICAgICAgID0gKEIgKiAwLjk5NyAqICgxIC0gYW1vdW50SW4uc2VsbEZlZXNCaXBzIC8gMTAwMDApICogYW1vdW50SW4gKiAxMDAwXHJcbiAgICogICAgICAgICAgICAgICAgICAgICAgIC9cclxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgKChBICsgMC45OTcgKiAoMSAtIGFtb3VudEluLnNlbGxGZWVzQmlwcyAvIDEwMDAwKSAqIGFtb3VudEluKSAqIDEwMDApXHJcbiAgICogICAgICAgICAgICAgICAgICAgICA9IChCICogKDEgLSBhbW91bnRJbi5zZWxsRmVlc0JpcHMgLyAxMDAwMCkgOTk3ICogKiBhbW91bnRJblxyXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAvXHJcbiAgICogICAgICAgICAgICAgICAgICAgICAgICgxMDAwICogQSArICgxIC0gYW1vdW50SW4uc2VsbEZlZXNCaXBzIC8gMTAwMDApICogOTk3ICogYW1vdW50SW4pXHJcbiAgICogICAgICAgICAgICAgICAgICAgICA9IChCICogKDEgLSBhbW91bnRJbi5zZWxsRmVlc0JpcHMgLyAxMDAwMCkgKiBpbnB1dEFtb3VudFdpdGhGZWUpXHJcbiAgICogICAgICAgICAgICAgICAgICAgICAgIC9cclxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgKDEwMDAgKiBBICsgKDEgLSBhbW91bnRJbi5zZWxsRmVlc0JpcHMgLyAxMDAwMCkgKiBpbnB1dEFtb3VudFdpdGhGZWUpXHJcbiAgICogICAgICAgICAgICAgICAgICAgICA9IChCICogaW5wdXRBbW91bnRXaXRoRmVlQW5kVGF4KVxyXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAvXHJcbiAgICogICAgICAgICAgICAgICAgICAgICAgICgxMDAwICogQSArIGlucHV0QW1vdW50V2l0aEZlZUFuZFRheClcclxuICAgKlxyXG4gICAqIGlucHV0QW1vdW50V2l0aEZlZUFuZFRheCA9ICgxIC0gYW1vdW50SW4uc2VsbEZlZXNCaXBzIC8gMTAwMDApICogaW5wdXRBbW91bnRXaXRoRmVlXHJcbiAgICogb3V0cHV0QW1vdW50V2l0aFRheCA9IGFtb3VudE91dCAqICgxIC0gYW1vdW50T3V0LmJ1eUZlZXNCaXBzIC8gMTAwMDApXHJcbiAgICpcclxuICAgKiBAcGFyYW0gaW5wdXRBbW91bnRcclxuICAgKiBAcGFyYW0gY2FsY3VsYXRlRm90RmVlc1xyXG4gICAqLztcbiAgX3Byb3RvLmdldE91dHB1dEFtb3VudCA9IGZ1bmN0aW9uIGdldE91dHB1dEFtb3VudChpbnB1dEFtb3VudCwgY2FsY3VsYXRlRm90RmVlcykge1xuICAgIGlmIChjYWxjdWxhdGVGb3RGZWVzID09PSB2b2lkIDApIHtcbiAgICAgIGNhbGN1bGF0ZUZvdEZlZXMgPSB0cnVlO1xuICAgIH1cbiAgICAhdGhpcy5pbnZvbHZlc1Rva2VuKGlucHV0QW1vdW50LmN1cnJlbmN5KSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IGludmFyaWFudChmYWxzZSwgJ1RPS0VOJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgIGlmIChKU0JJLmVxdWFsKHRoaXMucmVzZXJ2ZTAucXVvdGllbnQsIFpFUk8pIHx8IEpTQkkuZXF1YWwodGhpcy5yZXNlcnZlMS5xdW90aWVudCwgWkVSTykpIHtcbiAgICAgIHRocm93IG5ldyBJbnN1ZmZpY2llbnRSZXNlcnZlc0Vycm9yKCk7XG4gICAgfVxuICAgIHZhciBpbnB1dFJlc2VydmUgPSB0aGlzLnJlc2VydmVPZihpbnB1dEFtb3VudC5jdXJyZW5jeSk7XG4gICAgdmFyIG91dHB1dFJlc2VydmUgPSB0aGlzLnJlc2VydmVPZihpbnB1dEFtb3VudC5jdXJyZW5jeS5lcXVhbHModGhpcy50b2tlbjApID8gdGhpcy50b2tlbjEgOiB0aGlzLnRva2VuMCk7XG4gICAgdmFyIHBlcmNlbnRBZnRlclNlbGxGZWVzID0gY2FsY3VsYXRlRm90RmVlcyA/IHRoaXMuZGVyaXZlUGVyY2VudEFmdGVyU2VsbEZlZXMoaW5wdXRBbW91bnQpIDogWkVST19QRVJDRU5UO1xuICAgIHZhciBpbnB1dEFtb3VudEFmdGVyVGF4ID0gcGVyY2VudEFmdGVyU2VsbEZlZXMuZ3JlYXRlclRoYW4oWkVST19QRVJDRU5UKSA/IEN1cnJlbmN5QW1vdW50LmZyb21SYXdBbW91bnQoaW5wdXRBbW91bnQuY3VycmVuY3ksIHBlcmNlbnRBZnRlclNlbGxGZWVzLm11bHRpcGx5KGlucHV0QW1vdW50KS5xdW90aWVudCAvLyBmcmFjdGlvbi5xdW90aWVudCB3aWxsIHJvdW5kIGRvd24gYnkgaXRzZWxmLCB3aGljaCBpcyBkZXNpcmVkXG4gICAgKSA6IGlucHV0QW1vdW50O1xuICAgIHZhciBpbnB1dEFtb3VudFdpdGhGZWVBbmRBZnRlclRheCA9IEpTQkkubXVsdGlwbHkoaW5wdXRBbW91bnRBZnRlclRheC5xdW90aWVudCwgXzk5Nyk7XG4gICAgdmFyIG51bWVyYXRvciA9IEpTQkkubXVsdGlwbHkoaW5wdXRBbW91bnRXaXRoRmVlQW5kQWZ0ZXJUYXgsIG91dHB1dFJlc2VydmUucXVvdGllbnQpO1xuICAgIHZhciBkZW5vbWluYXRvciA9IEpTQkkuYWRkKEpTQkkubXVsdGlwbHkoaW5wdXRSZXNlcnZlLnF1b3RpZW50LCBfMTAwMCksIGlucHV0QW1vdW50V2l0aEZlZUFuZEFmdGVyVGF4KTtcbiAgICB2YXIgb3V0cHV0QW1vdW50ID0gQ3VycmVuY3lBbW91bnQuZnJvbVJhd0Ftb3VudChpbnB1dEFtb3VudC5jdXJyZW5jeS5lcXVhbHModGhpcy50b2tlbjApID8gdGhpcy50b2tlbjEgOiB0aGlzLnRva2VuMCwgSlNCSS5kaXZpZGUobnVtZXJhdG9yLCBkZW5vbWluYXRvcikgLy8gSlNCSS5kaXZpZGUgd2lsbCByb3VuZCBkb3duIGJ5IGl0c2VsZiwgd2hpY2ggaXMgZGVzaXJlZFxuICAgICk7XG4gICAgaWYgKEpTQkkuZXF1YWwob3V0cHV0QW1vdW50LnF1b3RpZW50LCBaRVJPKSkge1xuICAgICAgdGhyb3cgbmV3IEluc3VmZmljaWVudElucHV0QW1vdW50RXJyb3IoKTtcbiAgICB9XG4gICAgdmFyIHBlcmNlbnRBZnRlckJ1eUZlZXMgPSBjYWxjdWxhdGVGb3RGZWVzID8gdGhpcy5kZXJpdmVQZXJjZW50QWZ0ZXJCdXlGZWVzKG91dHB1dEFtb3VudCkgOiBaRVJPX1BFUkNFTlQ7XG4gICAgdmFyIG91dHB1dEFtb3VudEFmdGVyVGF4ID0gcGVyY2VudEFmdGVyQnV5RmVlcy5ncmVhdGVyVGhhbihaRVJPX1BFUkNFTlQpID8gQ3VycmVuY3lBbW91bnQuZnJvbVJhd0Ftb3VudChvdXRwdXRBbW91bnQuY3VycmVuY3ksIG91dHB1dEFtb3VudC5tdWx0aXBseShwZXJjZW50QWZ0ZXJCdXlGZWVzKS5xdW90aWVudCAvLyBmcmFjdGlvbi5xdW90aWVudCB3aWxsIHJvdW5kIGRvd24gYnkgaXRzZWxmLCB3aGljaCBpcyBkZXNpcmVkXG4gICAgKSA6IG91dHB1dEFtb3VudDtcbiAgICBpZiAoSlNCSS5lcXVhbChvdXRwdXRBbW91bnRBZnRlclRheC5xdW90aWVudCwgWkVSTykpIHtcbiAgICAgIHRocm93IG5ldyBJbnN1ZmZpY2llbnRJbnB1dEFtb3VudEVycm9yKCk7XG4gICAgfVxuICAgIHJldHVybiBbb3V0cHV0QW1vdW50QWZ0ZXJUYXgsIG5ldyBQYWlyKGlucHV0UmVzZXJ2ZS5hZGQoaW5wdXRBbW91bnRBZnRlclRheCksIG91dHB1dFJlc2VydmUuc3VidHJhY3Qob3V0cHV0QW1vdW50QWZ0ZXJUYXgpKV07XG4gIH1cbiAgLyoqXHJcbiAgICogZ2V0QW1vdW50SW4gaXMgdGhlIGxpbmVhciBhbGdlYnJhIG9mIHJlc2VydmUgcmF0aW8gYWdhaW5zdCBhbW91bnRJbjphbW91bnRPdXQuXHJcbiAgICogaHR0cHM6Ly9ldGhlcmV1bS5zdGFja2V4Y2hhbmdlLmNvbS9xdWVzdGlvbnMvMTAxNjI5L3doYXQtaXMtbWF0aC1mb3ItdW5pc3dhcC1jYWxjdWxhdGVzLXRoZS1hbW91bnRvdXQtYW5kLWFtb3VudGluLXdoeS05OTctYW5kLTEwMDBcclxuICAgKiBoYXMgdGhlIG1hdGggZGVkdWN0aW9uIGZvciB0aGUgcmVzZXJ2ZSBjYWxjdWxhdGlvbiB3aXRob3V0IGZlZS1vbi10cmFuc2ZlciBmZWVzLlxyXG4gICAqXHJcbiAgICogV2l0aCBmZWUtb24tdHJhbnNmZXIgZmVlcywgaW50dWl0aXZlbHkgaXQncyBqdXN0OlxyXG4gICAqIG91dHB1dEFtb3VudFdpdGhUYXggPSBhbW91bnRPdXQgLyAoMSAtIGFtb3VudE91dC5idXlGZWVzQmlwcyAvIDEwMDAwKVxyXG4gICAqIGlucHV0QW1vdW50V2l0aFRheCA9IGFtb3VudEluIC8gKDEgLSBhbW91bnRJbi5zZWxsRmVlc0JpcHMgLyAxMDAwMCkgLyAwLjk5N1xyXG4gICAqXHJcbiAgICogQnV0IHdlIGFyZSBpbGx1c3RyYXRpbmcgdGhlIG1hdGggZGVkdWN0aW9uIGJlbG93IHRvIGVuc3VyZSB0aGF0J3MgdGhlIGNhc2UuXHJcbiAgICpcclxuICAgKiBiZWZvcmUgc3dhcCBBICogQiA9IEsgd2hlcmUgQSA9IHJlc2VydmVJbiBCID0gcmVzZXJ2ZU91dFxyXG4gICAqXHJcbiAgICogYWZ0ZXIgc3dhcCBBJyAqIEInID0gSyB3aGVyZSBvbmx5IGsgaXMgYSBjb25zdGFudCB2YWx1ZVxyXG4gICAqXHJcbiAgICogZ2V0QW1vdW50SW5cclxuICAgKlxyXG4gICAqIEInID0gQiAtIGFtb3VudE91dCAqICgxIC0gYW1vdW50T3V0LmJ1eUZlZXNCaXBzIC8gMTAwMDApXHJcbiAgICogQScgPSBBICsgMC45OTcgKiAoMSAtIGFtb3VudEluLnNlbGxGZWVzQmlwcyAvIDEwMDAwKSAqIGFtb3VudEluICMgaGVyZSAwLjMlIGlzIGRlZHVjdGVkXHJcbiAgICogYW1vdW50SW4gPSAoQScgLSBBKSAvICgwLjk5NyAqICgxIC0gYW1vdW50SW4uc2VsbEZlZXNCaXBzIC8gMTAwMDApKVxyXG4gICAqICAgICAgICAgID0gKEsgLyAoQiAtIGFtb3VudE91dCAvICgxIC0gYW1vdW50T3V0LmJ1eUZlZXNCaXBzIC8gMTAwMDApKSAtIEEpXHJcbiAgICogICAgICAgICAgICAvXHJcbiAgICogICAgICAgICAgICAoMC45OTcgKiAoMSAtIGFtb3VudEluLnNlbGxGZWVzQmlwcyAvIDEwMDAwKSlcclxuICAgKiAgICAgICAgICA9IChBQiAvIChCIC0gYW1vdW50T3V0IC8gKDEgLSBhbW91bnRPdXQuYnV5RmVlc0JpcHMgLyAxMDAwMCkpIC0gQSlcclxuICAgKiAgICAgICAgICAgIC9cclxuICAgKiAgICAgICAgICAgICgwLjk5NyAqICgxIC0gYW1vdW50SW4uc2VsbEZlZXNCaXBzIC8gMTAwMDApKVxyXG4gICAqICAgICAgICAgID0gKChBQiAtIEFCICsgQSAqIGFtb3VudE91dCAvICgxIC0gYW1vdW50T3V0LmJ1eUZlZXNCaXBzIC8gMTAwMDApKSAvIChCIC0gYW1vdW50T3V0IC8gKDEgLSBhbW91bnRPdXQuYnV5RmVlc0JpcHMgLyAxMDAwMCkpKVxyXG4gICAqICAgICAgICAgICAgL1xyXG4gICAqICAgICAgICAgICAgKDAuOTk3ICogKDEgLSBhbW91bnRJbi5zZWxsRmVlc0JpcHMgLyAxMDAwMCkpXHJcbiAgICogICAgICAgICAgPSAoKEEgKiBhbW91bnRPdXQgLyAoMSAtIGFtb3VudE91dC5idXlGZWVzQmlwcyAvIDEwMDAwKSkgLyAoQiAtIGFtb3VudE91dCAvICgxIC0gYW1vdW50T3V0LmJ1eUZlZXNCaXBzIC8gMTAwMDApKSlcclxuICAgKiAgICAgICAgICAgIC9cclxuICAgKiAgICAgICAgICAgICgwLjk5NyAqICgxIC0gYW1vdW50SW4uc2VsbEZlZXNCaXBzIC8gMTAwMDApKVxyXG4gICAqICAgICAgICAgID0gKChBICogMTAwMCAqIGFtb3VudE91dCAvICgxIC0gYW1vdW50T3V0LmJ1eUZlZXNCaXBzIC8gMTAwMDApKSAvIChCIC0gYW1vdW50T3V0IC8gKDEgLSBhbW91bnRPdXQuYnV5RmVlc0JpcHMgLyAxMDAwMCkpKVxyXG4gICAqICAgICAgICAgICAgL1xyXG4gICAqICAgICAgICAgICAgKDk5NyAqICgxIC0gYW1vdW50SW4uc2VsbEZlZXNCaXBzIC8gMTAwMDApKVxyXG4gICAqXHJcbiAgICogb3V0cHV0QW1vdW50V2l0aFRheCA9IGFtb3VudE91dCAvICgxIC0gYW1vdW50T3V0LmJ1eUZlZXNCaXBzIC8gMTAwMDApXHJcbiAgICogaW5wdXRBbW91bnRXaXRoVGF4ID0gYW1vdW50SW4gLyAoOTk3ICogKDEgLSBhbW91bnRJbi5zZWxsRmVlc0JpcHMgLyAxMDAwMCkpXHJcbiAgICogICAgICAgICAgICAgICAgICAgID0gKEEgKiBvdXRwdXRBbW91bnRXaXRoVGF4ICogMTAwMCkgLyAoKEIgLSBvdXRwdXRBbW91bnRXaXRoVGF4KSAqIDk5NylcclxuICAgKlxyXG4gICAqIEBwYXJhbSBvdXRwdXRBbW91bnRcclxuICAgKi87XG4gIF9wcm90by5nZXRJbnB1dEFtb3VudCA9IGZ1bmN0aW9uIGdldElucHV0QW1vdW50KG91dHB1dEFtb3VudCwgY2FsY3VsYXRlRm90RmVlcykge1xuICAgIGlmIChjYWxjdWxhdGVGb3RGZWVzID09PSB2b2lkIDApIHtcbiAgICAgIGNhbGN1bGF0ZUZvdEZlZXMgPSB0cnVlO1xuICAgIH1cbiAgICAhdGhpcy5pbnZvbHZlc1Rva2VuKG91dHB1dEFtb3VudC5jdXJyZW5jeSkgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBpbnZhcmlhbnQoZmFsc2UsICdUT0tFTicpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICB2YXIgcGVyY2VudEFmdGVyQnV5RmVlcyA9IGNhbGN1bGF0ZUZvdEZlZXMgPyB0aGlzLmRlcml2ZVBlcmNlbnRBZnRlckJ1eUZlZXMob3V0cHV0QW1vdW50KSA6IFpFUk9fUEVSQ0VOVDtcbiAgICB2YXIgb3V0cHV0QW1vdW50QmVmb3JlVGF4ID0gcGVyY2VudEFmdGVyQnV5RmVlcy5ncmVhdGVyVGhhbihaRVJPX1BFUkNFTlQpID8gQ3VycmVuY3lBbW91bnQuZnJvbVJhd0Ftb3VudChvdXRwdXRBbW91bnQuY3VycmVuY3ksIEpTQkkuYWRkKG91dHB1dEFtb3VudC5kaXZpZGUocGVyY2VudEFmdGVyQnV5RmVlcykucXVvdGllbnQsIE9ORSkgLy8gYWRkIDEgZm9yIHJvdW5kaW5nIHVwXG4gICAgKSA6IG91dHB1dEFtb3VudDtcbiAgICBpZiAoSlNCSS5lcXVhbCh0aGlzLnJlc2VydmUwLnF1b3RpZW50LCBaRVJPKSB8fCBKU0JJLmVxdWFsKHRoaXMucmVzZXJ2ZTEucXVvdGllbnQsIFpFUk8pIHx8IEpTQkkuZ3JlYXRlclRoYW5PckVxdWFsKG91dHB1dEFtb3VudC5xdW90aWVudCwgdGhpcy5yZXNlcnZlT2Yob3V0cHV0QW1vdW50LmN1cnJlbmN5KS5xdW90aWVudCkgfHwgSlNCSS5ncmVhdGVyVGhhbk9yRXF1YWwob3V0cHV0QW1vdW50QmVmb3JlVGF4LnF1b3RpZW50LCB0aGlzLnJlc2VydmVPZihvdXRwdXRBbW91bnQuY3VycmVuY3kpLnF1b3RpZW50KSkge1xuICAgICAgdGhyb3cgbmV3IEluc3VmZmljaWVudFJlc2VydmVzRXJyb3IoKTtcbiAgICB9XG4gICAgdmFyIG91dHB1dFJlc2VydmUgPSB0aGlzLnJlc2VydmVPZihvdXRwdXRBbW91bnQuY3VycmVuY3kpO1xuICAgIHZhciBpbnB1dFJlc2VydmUgPSB0aGlzLnJlc2VydmVPZihvdXRwdXRBbW91bnQuY3VycmVuY3kuZXF1YWxzKHRoaXMudG9rZW4wKSA/IHRoaXMudG9rZW4xIDogdGhpcy50b2tlbjApO1xuICAgIHZhciBudW1lcmF0b3IgPSBKU0JJLm11bHRpcGx5KEpTQkkubXVsdGlwbHkoaW5wdXRSZXNlcnZlLnF1b3RpZW50LCBvdXRwdXRBbW91bnRCZWZvcmVUYXgucXVvdGllbnQpLCBfMTAwMCk7XG4gICAgdmFyIGRlbm9taW5hdG9yID0gSlNCSS5tdWx0aXBseShKU0JJLnN1YnRyYWN0KG91dHB1dFJlc2VydmUucXVvdGllbnQsIG91dHB1dEFtb3VudEJlZm9yZVRheC5xdW90aWVudCksIF85OTcpO1xuICAgIHZhciBpbnB1dEFtb3VudCA9IEN1cnJlbmN5QW1vdW50LmZyb21SYXdBbW91bnQob3V0cHV0QW1vdW50LmN1cnJlbmN5LmVxdWFscyh0aGlzLnRva2VuMCkgPyB0aGlzLnRva2VuMSA6IHRoaXMudG9rZW4wLCBKU0JJLmFkZChKU0JJLmRpdmlkZShudW1lcmF0b3IsIGRlbm9taW5hdG9yKSwgT05FKSAvLyBhZGQgMSBoZXJlIGlzIHBhcnQgb2YgdGhlIGZvcm11bGEsIG5vIHJvdW5kaW5nIG5lZWRlZCBoZXJlLCBzaW5jZSB0aGVyZSB3aWxsIG5vdCBiZSBkZWNpbWFsIGF0IHRoaXMgcG9pbnRcbiAgICApO1xuICAgIHZhciBwZXJjZW50QWZ0ZXJTZWxsRmVlcyA9IGNhbGN1bGF0ZUZvdEZlZXMgPyB0aGlzLmRlcml2ZVBlcmNlbnRBZnRlclNlbGxGZWVzKGlucHV0QW1vdW50KSA6IFpFUk9fUEVSQ0VOVDtcbiAgICB2YXIgaW5wdXRBbW91bnRCZWZvcmVUYXggPSBwZXJjZW50QWZ0ZXJTZWxsRmVlcy5ncmVhdGVyVGhhbihaRVJPX1BFUkNFTlQpID8gQ3VycmVuY3lBbW91bnQuZnJvbVJhd0Ftb3VudChpbnB1dEFtb3VudC5jdXJyZW5jeSwgSlNCSS5hZGQoaW5wdXRBbW91bnQuZGl2aWRlKHBlcmNlbnRBZnRlclNlbGxGZWVzKS5xdW90aWVudCwgT05FKSAvLyBhZGQgMSBmb3Igcm91bmRpbmcgdXBcbiAgICApIDogaW5wdXRBbW91bnQ7XG4gICAgcmV0dXJuIFtpbnB1dEFtb3VudEJlZm9yZVRheCwgbmV3IFBhaXIoaW5wdXRSZXNlcnZlLmFkZChpbnB1dEFtb3VudCksIG91dHB1dFJlc2VydmUuc3VidHJhY3Qob3V0cHV0QW1vdW50KSldO1xuICB9O1xuICBfcHJvdG8uZ2V0TGlxdWlkaXR5TWludGVkID0gZnVuY3Rpb24gZ2V0TGlxdWlkaXR5TWludGVkKHRvdGFsU3VwcGx5LCB0b2tlbkFtb3VudEEsIHRva2VuQW1vdW50Qikge1xuICAgICF0b3RhbFN1cHBseS5jdXJyZW5jeS5lcXVhbHModGhpcy5saXF1aWRpdHlUb2tlbikgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBpbnZhcmlhbnQoZmFsc2UsICdMSVFVSURJVFknKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgdmFyIHRva2VuQW1vdW50cyA9IHRva2VuQW1vdW50QS5jdXJyZW5jeS5zb3J0c0JlZm9yZSh0b2tlbkFtb3VudEIuY3VycmVuY3kpIC8vIGRvZXMgc2FmZXR5IGNoZWNrc1xuICAgID8gW3Rva2VuQW1vdW50QSwgdG9rZW5BbW91bnRCXSA6IFt0b2tlbkFtb3VudEIsIHRva2VuQW1vdW50QV07XG4gICAgISh0b2tlbkFtb3VudHNbMF0uY3VycmVuY3kuZXF1YWxzKHRoaXMudG9rZW4wKSAmJiB0b2tlbkFtb3VudHNbMV0uY3VycmVuY3kuZXF1YWxzKHRoaXMudG9rZW4xKSkgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBpbnZhcmlhbnQoZmFsc2UsICdUT0tFTicpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICB2YXIgbGlxdWlkaXR5O1xuICAgIGlmIChKU0JJLmVxdWFsKHRvdGFsU3VwcGx5LnF1b3RpZW50LCBaRVJPKSkge1xuICAgICAgbGlxdWlkaXR5ID0gSlNCSS5zdWJ0cmFjdChzcXJ0KEpTQkkubXVsdGlwbHkodG9rZW5BbW91bnRzWzBdLnF1b3RpZW50LCB0b2tlbkFtb3VudHNbMV0ucXVvdGllbnQpKSwgTUlOSU1VTV9MSVFVSURJVFkpO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgYW1vdW50MCA9IEpTQkkuZGl2aWRlKEpTQkkubXVsdGlwbHkodG9rZW5BbW91bnRzWzBdLnF1b3RpZW50LCB0b3RhbFN1cHBseS5xdW90aWVudCksIHRoaXMucmVzZXJ2ZTAucXVvdGllbnQpO1xuICAgICAgdmFyIGFtb3VudDEgPSBKU0JJLmRpdmlkZShKU0JJLm11bHRpcGx5KHRva2VuQW1vdW50c1sxXS5xdW90aWVudCwgdG90YWxTdXBwbHkucXVvdGllbnQpLCB0aGlzLnJlc2VydmUxLnF1b3RpZW50KTtcbiAgICAgIGxpcXVpZGl0eSA9IEpTQkkubGVzc1RoYW5PckVxdWFsKGFtb3VudDAsIGFtb3VudDEpID8gYW1vdW50MCA6IGFtb3VudDE7XG4gICAgfVxuICAgIGlmICghSlNCSS5ncmVhdGVyVGhhbihsaXF1aWRpdHksIFpFUk8pKSB7XG4gICAgICB0aHJvdyBuZXcgSW5zdWZmaWNpZW50SW5wdXRBbW91bnRFcnJvcigpO1xuICAgIH1cbiAgICByZXR1cm4gQ3VycmVuY3lBbW91bnQuZnJvbVJhd0Ftb3VudCh0aGlzLmxpcXVpZGl0eVRva2VuLCBsaXF1aWRpdHkpO1xuICB9O1xuICBfcHJvdG8uZ2V0TGlxdWlkaXR5VmFsdWUgPSBmdW5jdGlvbiBnZXRMaXF1aWRpdHlWYWx1ZSh0b2tlbiwgdG90YWxTdXBwbHksIGxpcXVpZGl0eSwgZmVlT24sIGtMYXN0KSB7XG4gICAgaWYgKGZlZU9uID09PSB2b2lkIDApIHtcbiAgICAgIGZlZU9uID0gZmFsc2U7XG4gICAgfVxuICAgICF0aGlzLmludm9sdmVzVG9rZW4odG9rZW4pID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gaW52YXJpYW50KGZhbHNlLCAnVE9LRU4nKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgIXRvdGFsU3VwcGx5LmN1cnJlbmN5LmVxdWFscyh0aGlzLmxpcXVpZGl0eVRva2VuKSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IGludmFyaWFudChmYWxzZSwgJ1RPVEFMX1NVUFBMWScpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICAhbGlxdWlkaXR5LmN1cnJlbmN5LmVxdWFscyh0aGlzLmxpcXVpZGl0eVRva2VuKSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IGludmFyaWFudChmYWxzZSwgJ0xJUVVJRElUWScpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICAhSlNCSS5sZXNzVGhhbk9yRXF1YWwobGlxdWlkaXR5LnF1b3RpZW50LCB0b3RhbFN1cHBseS5xdW90aWVudCkgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBpbnZhcmlhbnQoZmFsc2UsICdMSVFVSURJVFknKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgdmFyIHRvdGFsU3VwcGx5QWRqdXN0ZWQ7XG4gICAgaWYgKCFmZWVPbikge1xuICAgICAgdG90YWxTdXBwbHlBZGp1c3RlZCA9IHRvdGFsU3VwcGx5O1xuICAgIH0gZWxzZSB7XG4gICAgICAhISFrTGFzdCA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IGludmFyaWFudChmYWxzZSwgJ0tfTEFTVCcpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICAgIHZhciBrTGFzdFBhcnNlZCA9IEpTQkkuQmlnSW50KGtMYXN0KTtcbiAgICAgIGlmICghSlNCSS5lcXVhbChrTGFzdFBhcnNlZCwgWkVSTykpIHtcbiAgICAgICAgdmFyIHJvb3RLID0gc3FydChKU0JJLm11bHRpcGx5KHRoaXMucmVzZXJ2ZTAucXVvdGllbnQsIHRoaXMucmVzZXJ2ZTEucXVvdGllbnQpKTtcbiAgICAgICAgdmFyIHJvb3RLTGFzdCA9IHNxcnQoa0xhc3RQYXJzZWQpO1xuICAgICAgICBpZiAoSlNCSS5ncmVhdGVyVGhhbihyb290Sywgcm9vdEtMYXN0KSkge1xuICAgICAgICAgIHZhciBudW1lcmF0b3IgPSBKU0JJLm11bHRpcGx5KHRvdGFsU3VwcGx5LnF1b3RpZW50LCBKU0JJLnN1YnRyYWN0KHJvb3RLLCByb290S0xhc3QpKTtcbiAgICAgICAgICB2YXIgZGVub21pbmF0b3IgPSBKU0JJLmFkZChKU0JJLm11bHRpcGx5KHJvb3RLLCBGSVZFKSwgcm9vdEtMYXN0KTtcbiAgICAgICAgICB2YXIgZmVlTGlxdWlkaXR5ID0gSlNCSS5kaXZpZGUobnVtZXJhdG9yLCBkZW5vbWluYXRvcik7XG4gICAgICAgICAgdG90YWxTdXBwbHlBZGp1c3RlZCA9IHRvdGFsU3VwcGx5LmFkZChDdXJyZW5jeUFtb3VudC5mcm9tUmF3QW1vdW50KHRoaXMubGlxdWlkaXR5VG9rZW4sIGZlZUxpcXVpZGl0eSkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRvdGFsU3VwcGx5QWRqdXN0ZWQgPSB0b3RhbFN1cHBseTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdG90YWxTdXBwbHlBZGp1c3RlZCA9IHRvdGFsU3VwcGx5O1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gQ3VycmVuY3lBbW91bnQuZnJvbVJhd0Ftb3VudCh0b2tlbiwgSlNCSS5kaXZpZGUoSlNCSS5tdWx0aXBseShsaXF1aWRpdHkucXVvdGllbnQsIHRoaXMucmVzZXJ2ZU9mKHRva2VuKS5xdW90aWVudCksIHRvdGFsU3VwcGx5QWRqdXN0ZWQucXVvdGllbnQpKTtcbiAgfTtcbiAgX3Byb3RvLmRlcml2ZVBlcmNlbnRBZnRlclNlbGxGZWVzID0gZnVuY3Rpb24gZGVyaXZlUGVyY2VudEFmdGVyU2VsbEZlZXMoaW5wdXRBbW91bnQpIHtcbiAgICB2YXIgc2VsbEZlZUJpcHMgPSB0aGlzLnRva2VuMC53cmFwcGVkLmVxdWFscyhpbnB1dEFtb3VudC53cmFwcGVkLmN1cnJlbmN5KSA/IHRoaXMudG9rZW4wLndyYXBwZWQuc2VsbEZlZUJwcyA6IHRoaXMudG9rZW4xLndyYXBwZWQuc2VsbEZlZUJwcztcbiAgICBpZiAoc2VsbEZlZUJpcHMgIT0gbnVsbCAmJiBzZWxsRmVlQmlwcy5ndChCaWdOdW1iZXIuZnJvbSgwKSkpIHtcbiAgICAgIHJldHVybiBPTkVfSFVORFJFRF9QRVJDRU5ULnN1YnRyYWN0KG5ldyBQZXJjZW50KEpTQkkuQmlnSW50KHNlbGxGZWVCaXBzKSkuZGl2aWRlKEJBU0lTX1BPSU5UUykpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gWkVST19QRVJDRU5UO1xuICAgIH1cbiAgfTtcbiAgX3Byb3RvLmRlcml2ZVBlcmNlbnRBZnRlckJ1eUZlZXMgPSBmdW5jdGlvbiBkZXJpdmVQZXJjZW50QWZ0ZXJCdXlGZWVzKG91dHB1dEFtb3VudCkge1xuICAgIHZhciBidXlGZWVCcHMgPSB0aGlzLnRva2VuMC53cmFwcGVkLmVxdWFscyhvdXRwdXRBbW91bnQud3JhcHBlZC5jdXJyZW5jeSkgPyB0aGlzLnRva2VuMC53cmFwcGVkLmJ1eUZlZUJwcyA6IHRoaXMudG9rZW4xLndyYXBwZWQuYnV5RmVlQnBzO1xuICAgIGlmIChidXlGZWVCcHMgIT0gbnVsbCAmJiBidXlGZWVCcHMuZ3QoQmlnTnVtYmVyLmZyb20oMCkpKSB7XG4gICAgICByZXR1cm4gT05FX0hVTkRSRURfUEVSQ0VOVC5zdWJ0cmFjdChuZXcgUGVyY2VudChKU0JJLkJpZ0ludChidXlGZWVCcHMpKS5kaXZpZGUoQkFTSVNfUE9JTlRTKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBaRVJPX1BFUkNFTlQ7XG4gICAgfVxuICB9O1xuICBfY3JlYXRlQ2xhc3MoUGFpciwgW3tcbiAgICBrZXk6IFwidG9rZW4wUHJpY2VcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHZhciByZXN1bHQgPSB0aGlzLnRva2VuQW1vdW50c1sxXS5kaXZpZGUodGhpcy50b2tlbkFtb3VudHNbMF0pO1xuICAgICAgcmV0dXJuIG5ldyBQcmljZSh0aGlzLnRva2VuMCwgdGhpcy50b2tlbjEsIHJlc3VsdC5kZW5vbWluYXRvciwgcmVzdWx0Lm51bWVyYXRvcik7XG4gICAgfVxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyB0aGUgY3VycmVudCBtaWQgcHJpY2Ugb2YgdGhlIHBhaXIgaW4gdGVybXMgb2YgdG9rZW4xLCBpLmUuIHRoZSByYXRpbyBvZiByZXNlcnZlMCB0byByZXNlcnZlMVxyXG4gICAgICovXG4gIH0sIHtcbiAgICBrZXk6IFwidG9rZW4xUHJpY2VcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHZhciByZXN1bHQgPSB0aGlzLnRva2VuQW1vdW50c1swXS5kaXZpZGUodGhpcy50b2tlbkFtb3VudHNbMV0pO1xuICAgICAgcmV0dXJuIG5ldyBQcmljZSh0aGlzLnRva2VuMSwgdGhpcy50b2tlbjAsIHJlc3VsdC5kZW5vbWluYXRvciwgcmVzdWx0Lm51bWVyYXRvcik7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImNoYWluSWRcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLnRva2VuMC5jaGFpbklkO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJ0b2tlbjBcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLnRva2VuQW1vdW50c1swXS5jdXJyZW5jeTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwidG9rZW4xXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy50b2tlbkFtb3VudHNbMV0uY3VycmVuY3k7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInJlc2VydmUwXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy50b2tlbkFtb3VudHNbMF07XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInJlc2VydmUxXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy50b2tlbkFtb3VudHNbMV07XG4gICAgfVxuICB9XSk7XG4gIHJldHVybiBQYWlyO1xufSgpO1xuXG52YXIgUm91dGUgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBSb3V0ZShwYWlycywgaW5wdXQsIG91dHB1dCkge1xuICAgIHRoaXMuX21pZFByaWNlID0gbnVsbDtcbiAgICAhKHBhaXJzLmxlbmd0aCA+IDApID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gaW52YXJpYW50KGZhbHNlLCAnUEFJUlMnKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgdmFyIGNoYWluSWQgPSBwYWlyc1swXS5jaGFpbklkO1xuICAgICFwYWlycy5ldmVyeShmdW5jdGlvbiAocGFpcikge1xuICAgICAgcmV0dXJuIHBhaXIuY2hhaW5JZCA9PT0gY2hhaW5JZDtcbiAgICB9KSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IGludmFyaWFudChmYWxzZSwgJ0NIQUlOX0lEUycpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICB2YXIgd3JhcHBlZElucHV0ID0gaW5wdXQud3JhcHBlZDtcbiAgICAhcGFpcnNbMF0uaW52b2x2ZXNUb2tlbih3cmFwcGVkSW5wdXQpID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gaW52YXJpYW50KGZhbHNlLCAnSU5QVVQnKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgISh0eXBlb2Ygb3V0cHV0ID09PSAndW5kZWZpbmVkJyB8fCBwYWlyc1twYWlycy5sZW5ndGggLSAxXS5pbnZvbHZlc1Rva2VuKG91dHB1dC53cmFwcGVkKSkgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBpbnZhcmlhbnQoZmFsc2UsICdPVVRQVVQnKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgdmFyIHBhdGggPSBbd3JhcHBlZElucHV0XTtcbiAgICBmb3IgKHZhciBfaXRlcmF0b3IgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlckxvb3NlKHBhaXJzLmVudHJpZXMoKSksIF9zdGVwOyAhKF9zdGVwID0gX2l0ZXJhdG9yKCkpLmRvbmU7KSB7XG4gICAgICB2YXIgX3N0ZXAkdmFsdWUgPSBfc3RlcC52YWx1ZSxcbiAgICAgICAgaSA9IF9zdGVwJHZhbHVlWzBdLFxuICAgICAgICBwYWlyID0gX3N0ZXAkdmFsdWVbMV07XG4gICAgICB2YXIgY3VycmVudElucHV0ID0gcGF0aFtpXTtcbiAgICAgICEoY3VycmVudElucHV0LmVxdWFscyhwYWlyLnRva2VuMCkgfHwgY3VycmVudElucHV0LmVxdWFscyhwYWlyLnRva2VuMSkpID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gaW52YXJpYW50KGZhbHNlLCAnUEFUSCcpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICAgIHZhciBfb3V0cHV0ID0gY3VycmVudElucHV0LmVxdWFscyhwYWlyLnRva2VuMCkgPyBwYWlyLnRva2VuMSA6IHBhaXIudG9rZW4wO1xuICAgICAgcGF0aC5wdXNoKF9vdXRwdXQpO1xuICAgIH1cbiAgICB0aGlzLnBhaXJzID0gcGFpcnM7XG4gICAgdGhpcy5wYXRoID0gcGF0aDtcbiAgICB0aGlzLmlucHV0ID0gaW5wdXQ7XG4gICAgdGhpcy5vdXRwdXQgPSBvdXRwdXQ7XG4gIH1cbiAgX2NyZWF0ZUNsYXNzKFJvdXRlLCBbe1xuICAgIGtleTogXCJtaWRQcmljZVwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgaWYgKHRoaXMuX21pZFByaWNlICE9PSBudWxsKSByZXR1cm4gdGhpcy5fbWlkUHJpY2U7XG4gICAgICB2YXIgcHJpY2VzID0gW107XG4gICAgICBmb3IgKHZhciBfaXRlcmF0b3IyID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXJMb29zZSh0aGlzLnBhaXJzLmVudHJpZXMoKSksIF9zdGVwMjsgIShfc3RlcDIgPSBfaXRlcmF0b3IyKCkpLmRvbmU7KSB7XG4gICAgICAgIHZhciBfc3RlcDIkdmFsdWUgPSBfc3RlcDIudmFsdWUsXG4gICAgICAgICAgaSA9IF9zdGVwMiR2YWx1ZVswXSxcbiAgICAgICAgICBwYWlyID0gX3N0ZXAyJHZhbHVlWzFdO1xuICAgICAgICBwcmljZXMucHVzaCh0aGlzLnBhdGhbaV0uZXF1YWxzKHBhaXIudG9rZW4wKSA/IG5ldyBQcmljZShwYWlyLnJlc2VydmUwLmN1cnJlbmN5LCBwYWlyLnJlc2VydmUxLmN1cnJlbmN5LCBwYWlyLnJlc2VydmUwLnF1b3RpZW50LCBwYWlyLnJlc2VydmUxLnF1b3RpZW50KSA6IG5ldyBQcmljZShwYWlyLnJlc2VydmUxLmN1cnJlbmN5LCBwYWlyLnJlc2VydmUwLmN1cnJlbmN5LCBwYWlyLnJlc2VydmUxLnF1b3RpZW50LCBwYWlyLnJlc2VydmUwLnF1b3RpZW50KSk7XG4gICAgICB9XG4gICAgICB2YXIgcmVkdWNlZCA9IHByaWNlcy5zbGljZSgxKS5yZWR1Y2UoZnVuY3Rpb24gKGFjY3VtdWxhdG9yLCBjdXJyZW50VmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIGFjY3VtdWxhdG9yLm11bHRpcGx5KGN1cnJlbnRWYWx1ZSk7XG4gICAgICB9LCBwcmljZXNbMF0pO1xuICAgICAgcmV0dXJuIHRoaXMuX21pZFByaWNlID0gbmV3IFByaWNlKHRoaXMuaW5wdXQsIHRoaXMub3V0cHV0LCByZWR1Y2VkLmRlbm9taW5hdG9yLCByZWR1Y2VkLm51bWVyYXRvcik7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImNoYWluSWRcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLnBhaXJzWzBdLmNoYWluSWQ7XG4gICAgfVxuICB9XSk7XG4gIHJldHVybiBSb3V0ZTtcbn0oKTtcblxuLy8gY29tcGFyYXRvciBmdW5jdGlvbiB0aGF0IGFsbG93cyBzb3J0aW5nIHRyYWRlcyBieSB0aGVpciBvdXRwdXQgYW1vdW50cywgaW4gZGVjcmVhc2luZyBvcmRlciwgYW5kIHRoZW4gaW5wdXQgYW1vdW50c1xuLy8gaW4gaW5jcmVhc2luZyBvcmRlci4gaS5lLiB0aGUgYmVzdCB0cmFkZXMgaGF2ZSB0aGUgbW9zdCBvdXRwdXRzIGZvciB0aGUgbGVhc3QgaW5wdXRzIGFuZCBhcmUgc29ydGVkIGZpcnN0XG5mdW5jdGlvbiBpbnB1dE91dHB1dENvbXBhcmF0b3IoYSwgYikge1xuICAvLyBtdXN0IGhhdmUgc2FtZSBpbnB1dCBhbmQgb3V0cHV0IHRva2VuIGZvciBjb21wYXJpc29uXG4gICFhLmlucHV0QW1vdW50LmN1cnJlbmN5LmVxdWFscyhiLmlucHV0QW1vdW50LmN1cnJlbmN5KSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IGludmFyaWFudChmYWxzZSwgJ0lOUFVUX0NVUlJFTkNZJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAhYS5vdXRwdXRBbW91bnQuY3VycmVuY3kuZXF1YWxzKGIub3V0cHV0QW1vdW50LmN1cnJlbmN5KSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IGludmFyaWFudChmYWxzZSwgJ09VVFBVVF9DVVJSRU5DWScpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgaWYgKGEub3V0cHV0QW1vdW50LmVxdWFsVG8oYi5vdXRwdXRBbW91bnQpKSB7XG4gICAgaWYgKGEuaW5wdXRBbW91bnQuZXF1YWxUbyhiLmlucHV0QW1vdW50KSkge1xuICAgICAgcmV0dXJuIDA7XG4gICAgfVxuICAgIC8vIHRyYWRlIEEgcmVxdWlyZXMgbGVzcyBpbnB1dCB0aGFuIHRyYWRlIEIsIHNvIEEgc2hvdWxkIGNvbWUgZmlyc3RcbiAgICBpZiAoYS5pbnB1dEFtb3VudC5sZXNzVGhhbihiLmlucHV0QW1vdW50KSkge1xuICAgICAgcmV0dXJuIC0xO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gMTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgLy8gdHJhZGVBIGhhcyBsZXNzIG91dHB1dCB0aGFuIHRyYWRlIEIsIHNvIHNob3VsZCBjb21lIHNlY29uZFxuICAgIGlmIChhLm91dHB1dEFtb3VudC5sZXNzVGhhbihiLm91dHB1dEFtb3VudCkpIHtcbiAgICAgIHJldHVybiAxO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gLTE7XG4gICAgfVxuICB9XG59XG4vLyBleHRlbnNpb24gb2YgdGhlIGlucHV0IG91dHB1dCBjb21wYXJhdG9yIHRoYXQgYWxzbyBjb25zaWRlcnMgb3RoZXIgZGltZW5zaW9ucyBvZiB0aGUgdHJhZGUgaW4gcmFua2luZyB0aGVtXG5mdW5jdGlvbiB0cmFkZUNvbXBhcmF0b3IoYSwgYikge1xuICB2YXIgaW9Db21wID0gaW5wdXRPdXRwdXRDb21wYXJhdG9yKGEsIGIpO1xuICBpZiAoaW9Db21wICE9PSAwKSB7XG4gICAgcmV0dXJuIGlvQ29tcDtcbiAgfVxuICAvLyBjb25zaWRlciBsb3dlc3Qgc2xpcHBhZ2UgbmV4dCwgc2luY2UgdGhlc2UgYXJlIGxlc3MgbGlrZWx5IHRvIGZhaWxcbiAgaWYgKGEucHJpY2VJbXBhY3QubGVzc1RoYW4oYi5wcmljZUltcGFjdCkpIHtcbiAgICByZXR1cm4gLTE7XG4gIH0gZWxzZSBpZiAoYS5wcmljZUltcGFjdC5ncmVhdGVyVGhhbihiLnByaWNlSW1wYWN0KSkge1xuICAgIHJldHVybiAxO1xuICB9XG4gIC8vIGZpbmFsbHkgY29uc2lkZXIgdGhlIG51bWJlciBvZiBob3BzIHNpbmNlIGVhY2ggaG9wIGNvc3RzIGdhc1xuICByZXR1cm4gYS5yb3V0ZS5wYXRoLmxlbmd0aCAtIGIucm91dGUucGF0aC5sZW5ndGg7XG59XG4vKipcclxuICogUmVwcmVzZW50cyBhIHRyYWRlIGV4ZWN1dGVkIGFnYWluc3QgYSBsaXN0IG9mIHBhaXJzLlxyXG4gKiBEb2VzIG5vdCBhY2NvdW50IGZvciBzbGlwcGFnZSwgaS5lLiB0cmFkZXMgdGhhdCBmcm9udCBydW4gdGhpcyB0cmFkZSBhbmQgbW92ZSB0aGUgcHJpY2UuXHJcbiAqL1xudmFyIFRyYWRlID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gVHJhZGUocm91dGUsIGFtb3VudCwgdHJhZGVUeXBlKSB7XG4gICAgdGhpcy5yb3V0ZSA9IHJvdXRlO1xuICAgIHRoaXMudHJhZGVUeXBlID0gdHJhZGVUeXBlO1xuICAgIHZhciB0b2tlbkFtb3VudHMgPSBuZXcgQXJyYXkocm91dGUucGF0aC5sZW5ndGgpO1xuICAgIGlmICh0cmFkZVR5cGUgPT09IFRyYWRlVHlwZS5FWEFDVF9JTlBVVCkge1xuICAgICAgIWFtb3VudC5jdXJyZW5jeS5lcXVhbHMocm91dGUuaW5wdXQpID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gaW52YXJpYW50KGZhbHNlLCAnSU5QVVQnKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgICB0b2tlbkFtb3VudHNbMF0gPSBhbW91bnQud3JhcHBlZDtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcm91dGUucGF0aC5sZW5ndGggLSAxOyBpKyspIHtcbiAgICAgICAgdmFyIHBhaXIgPSByb3V0ZS5wYWlyc1tpXTtcbiAgICAgICAgdmFyIF9wYWlyJGdldE91dHB1dEFtb3VudCA9IHBhaXIuZ2V0T3V0cHV0QW1vdW50KHRva2VuQW1vdW50c1tpXSksXG4gICAgICAgICAgb3V0cHV0QW1vdW50ID0gX3BhaXIkZ2V0T3V0cHV0QW1vdW50WzBdO1xuICAgICAgICB0b2tlbkFtb3VudHNbaSArIDFdID0gb3V0cHV0QW1vdW50O1xuICAgICAgfVxuICAgICAgdGhpcy5pbnB1dEFtb3VudCA9IEN1cnJlbmN5QW1vdW50LmZyb21GcmFjdGlvbmFsQW1vdW50KHJvdXRlLmlucHV0LCBhbW91bnQubnVtZXJhdG9yLCBhbW91bnQuZGVub21pbmF0b3IpO1xuICAgICAgdGhpcy5vdXRwdXRBbW91bnQgPSBDdXJyZW5jeUFtb3VudC5mcm9tRnJhY3Rpb25hbEFtb3VudChyb3V0ZS5vdXRwdXQsIHRva2VuQW1vdW50c1t0b2tlbkFtb3VudHMubGVuZ3RoIC0gMV0ubnVtZXJhdG9yLCB0b2tlbkFtb3VudHNbdG9rZW5BbW91bnRzLmxlbmd0aCAtIDFdLmRlbm9taW5hdG9yKTtcbiAgICB9IGVsc2Uge1xuICAgICAgIWFtb3VudC5jdXJyZW5jeS5lcXVhbHMocm91dGUub3V0cHV0KSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IGludmFyaWFudChmYWxzZSwgJ09VVFBVVCcpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICAgIHRva2VuQW1vdW50c1t0b2tlbkFtb3VudHMubGVuZ3RoIC0gMV0gPSBhbW91bnQud3JhcHBlZDtcbiAgICAgIGZvciAodmFyIF9pID0gcm91dGUucGF0aC5sZW5ndGggLSAxOyBfaSA+IDA7IF9pLS0pIHtcbiAgICAgICAgdmFyIF9wYWlyID0gcm91dGUucGFpcnNbX2kgLSAxXTtcbiAgICAgICAgdmFyIF9wYWlyJGdldElucHV0QW1vdW50ID0gX3BhaXIuZ2V0SW5wdXRBbW91bnQodG9rZW5BbW91bnRzW19pXSksXG4gICAgICAgICAgaW5wdXRBbW91bnQgPSBfcGFpciRnZXRJbnB1dEFtb3VudFswXTtcbiAgICAgICAgdG9rZW5BbW91bnRzW19pIC0gMV0gPSBpbnB1dEFtb3VudDtcbiAgICAgIH1cbiAgICAgIHRoaXMuaW5wdXRBbW91bnQgPSBDdXJyZW5jeUFtb3VudC5mcm9tRnJhY3Rpb25hbEFtb3VudChyb3V0ZS5pbnB1dCwgdG9rZW5BbW91bnRzWzBdLm51bWVyYXRvciwgdG9rZW5BbW91bnRzWzBdLmRlbm9taW5hdG9yKTtcbiAgICAgIHRoaXMub3V0cHV0QW1vdW50ID0gQ3VycmVuY3lBbW91bnQuZnJvbUZyYWN0aW9uYWxBbW91bnQocm91dGUub3V0cHV0LCBhbW91bnQubnVtZXJhdG9yLCBhbW91bnQuZGVub21pbmF0b3IpO1xuICAgIH1cbiAgICB0aGlzLmV4ZWN1dGlvblByaWNlID0gbmV3IFByaWNlKHRoaXMuaW5wdXRBbW91bnQuY3VycmVuY3ksIHRoaXMub3V0cHV0QW1vdW50LmN1cnJlbmN5LCB0aGlzLmlucHV0QW1vdW50LnF1b3RpZW50LCB0aGlzLm91dHB1dEFtb3VudC5xdW90aWVudCk7XG4gICAgdGhpcy5wcmljZUltcGFjdCA9IGNvbXB1dGVQcmljZUltcGFjdChyb3V0ZS5taWRQcmljZSwgdGhpcy5pbnB1dEFtb3VudCwgdGhpcy5vdXRwdXRBbW91bnQpO1xuICB9XG4gIC8qKlxyXG4gICAqIENvbnN0cnVjdHMgYW4gZXhhY3QgaW4gdHJhZGUgd2l0aCB0aGUgZ2l2ZW4gYW1vdW50IGluIGFuZCByb3V0ZVxyXG4gICAqIEBwYXJhbSByb3V0ZSByb3V0ZSBvZiB0aGUgZXhhY3QgaW4gdHJhZGVcclxuICAgKiBAcGFyYW0gYW1vdW50SW4gdGhlIGFtb3VudCBiZWluZyBwYXNzZWQgaW5cclxuICAgKi9cbiAgVHJhZGUuZXhhY3RJbiA9IGZ1bmN0aW9uIGV4YWN0SW4ocm91dGUsIGFtb3VudEluKSB7XG4gICAgcmV0dXJuIG5ldyBUcmFkZShyb3V0ZSwgYW1vdW50SW4sIFRyYWRlVHlwZS5FWEFDVF9JTlBVVCk7XG4gIH1cbiAgLyoqXHJcbiAgICogQ29uc3RydWN0cyBhbiBleGFjdCBvdXQgdHJhZGUgd2l0aCB0aGUgZ2l2ZW4gYW1vdW50IG91dCBhbmQgcm91dGVcclxuICAgKiBAcGFyYW0gcm91dGUgcm91dGUgb2YgdGhlIGV4YWN0IG91dCB0cmFkZVxyXG4gICAqIEBwYXJhbSBhbW91bnRPdXQgdGhlIGFtb3VudCByZXR1cm5lZCBieSB0aGUgdHJhZGVcclxuICAgKi87XG4gIFRyYWRlLmV4YWN0T3V0ID0gZnVuY3Rpb24gZXhhY3RPdXQocm91dGUsIGFtb3VudE91dCkge1xuICAgIHJldHVybiBuZXcgVHJhZGUocm91dGUsIGFtb3VudE91dCwgVHJhZGVUeXBlLkVYQUNUX09VVFBVVCk7XG4gIH1cbiAgLyoqXHJcbiAgICogR2V0IHRoZSBtaW5pbXVtIGFtb3VudCB0aGF0IG11c3QgYmUgcmVjZWl2ZWQgZnJvbSB0aGlzIHRyYWRlIGZvciB0aGUgZ2l2ZW4gc2xpcHBhZ2UgdG9sZXJhbmNlXHJcbiAgICogQHBhcmFtIHNsaXBwYWdlVG9sZXJhbmNlIHRvbGVyYW5jZSBvZiB1bmZhdm9yYWJsZSBzbGlwcGFnZSBmcm9tIHRoZSBleGVjdXRpb24gcHJpY2Ugb2YgdGhpcyB0cmFkZVxyXG4gICAqLztcbiAgdmFyIF9wcm90byA9IFRyYWRlLnByb3RvdHlwZTtcbiAgX3Byb3RvLm1pbmltdW1BbW91bnRPdXQgPSBmdW5jdGlvbiBtaW5pbXVtQW1vdW50T3V0KHNsaXBwYWdlVG9sZXJhbmNlKSB7XG4gICAgISFzbGlwcGFnZVRvbGVyYW5jZS5sZXNzVGhhbihaRVJPKSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IGludmFyaWFudChmYWxzZSwgJ1NMSVBQQUdFX1RPTEVSQU5DRScpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICBpZiAodGhpcy50cmFkZVR5cGUgPT09IFRyYWRlVHlwZS5FWEFDVF9PVVRQVVQpIHtcbiAgICAgIHJldHVybiB0aGlzLm91dHB1dEFtb3VudDtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIHNsaXBwYWdlQWRqdXN0ZWRBbW91bnRPdXQgPSBuZXcgRnJhY3Rpb24oT05FKS5hZGQoc2xpcHBhZ2VUb2xlcmFuY2UpLmludmVydCgpLm11bHRpcGx5KHRoaXMub3V0cHV0QW1vdW50LnF1b3RpZW50KS5xdW90aWVudDtcbiAgICAgIHJldHVybiBDdXJyZW5jeUFtb3VudC5mcm9tUmF3QW1vdW50KHRoaXMub3V0cHV0QW1vdW50LmN1cnJlbmN5LCBzbGlwcGFnZUFkanVzdGVkQW1vdW50T3V0KTtcbiAgICB9XG4gIH1cbiAgLyoqXHJcbiAgICogR2V0IHRoZSBtYXhpbXVtIGFtb3VudCBpbiB0aGF0IGNhbiBiZSBzcGVudCB2aWEgdGhpcyB0cmFkZSBmb3IgdGhlIGdpdmVuIHNsaXBwYWdlIHRvbGVyYW5jZVxyXG4gICAqIEBwYXJhbSBzbGlwcGFnZVRvbGVyYW5jZSB0b2xlcmFuY2Ugb2YgdW5mYXZvcmFibGUgc2xpcHBhZ2UgZnJvbSB0aGUgZXhlY3V0aW9uIHByaWNlIG9mIHRoaXMgdHJhZGVcclxuICAgKi87XG4gIF9wcm90by5tYXhpbXVtQW1vdW50SW4gPSBmdW5jdGlvbiBtYXhpbXVtQW1vdW50SW4oc2xpcHBhZ2VUb2xlcmFuY2UpIHtcbiAgICAhIXNsaXBwYWdlVG9sZXJhbmNlLmxlc3NUaGFuKFpFUk8pID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gaW52YXJpYW50KGZhbHNlLCAnU0xJUFBBR0VfVE9MRVJBTkNFJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgIGlmICh0aGlzLnRyYWRlVHlwZSA9PT0gVHJhZGVUeXBlLkVYQUNUX0lOUFVUKSB7XG4gICAgICByZXR1cm4gdGhpcy5pbnB1dEFtb3VudDtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIHNsaXBwYWdlQWRqdXN0ZWRBbW91bnRJbiA9IG5ldyBGcmFjdGlvbihPTkUpLmFkZChzbGlwcGFnZVRvbGVyYW5jZSkubXVsdGlwbHkodGhpcy5pbnB1dEFtb3VudC5xdW90aWVudCkucXVvdGllbnQ7XG4gICAgICByZXR1cm4gQ3VycmVuY3lBbW91bnQuZnJvbVJhd0Ftb3VudCh0aGlzLmlucHV0QW1vdW50LmN1cnJlbmN5LCBzbGlwcGFnZUFkanVzdGVkQW1vdW50SW4pO1xuICAgIH1cbiAgfVxuICAvKipcclxuICAgKiBHaXZlbiBhIGxpc3Qgb2YgcGFpcnMsIGFuZCBhIGZpeGVkIGFtb3VudCBpbiwgcmV0dXJucyB0aGUgdG9wIGBtYXhOdW1SZXN1bHRzYCB0cmFkZXMgdGhhdCBnbyBmcm9tIGFuIGlucHV0IHRva2VuXHJcbiAgICogYW1vdW50IHRvIGFuIG91dHB1dCB0b2tlbiwgbWFraW5nIGF0IG1vc3QgYG1heEhvcHNgIGhvcHMuXHJcbiAgICogTm90ZSB0aGlzIGRvZXMgbm90IGNvbnNpZGVyIGFnZ3JlZ2F0aW9uLCBhcyByb3V0ZXMgYXJlIGxpbmVhci4gSXQncyBwb3NzaWJsZSBhIGJldHRlciByb3V0ZSBleGlzdHMgYnkgc3BsaXR0aW5nXHJcbiAgICogdGhlIGFtb3VudCBpbiBhbW9uZyBtdWx0aXBsZSByb3V0ZXMuXHJcbiAgICogQHBhcmFtIHBhaXJzIHRoZSBwYWlycyB0byBjb25zaWRlciBpbiBmaW5kaW5nIHRoZSBiZXN0IHRyYWRlXHJcbiAgICogQHBhcmFtIG5leHRBbW91bnRJbiBleGFjdCBhbW91bnQgb2YgaW5wdXQgY3VycmVuY3kgdG8gc3BlbmRcclxuICAgKiBAcGFyYW0gY3VycmVuY3lPdXQgdGhlIGRlc2lyZWQgY3VycmVuY3kgb3V0XHJcbiAgICogQHBhcmFtIG1heE51bVJlc3VsdHMgbWF4aW11bSBudW1iZXIgb2YgcmVzdWx0cyB0byByZXR1cm5cclxuICAgKiBAcGFyYW0gbWF4SG9wcyBtYXhpbXVtIG51bWJlciBvZiBob3BzIGEgcmV0dXJuZWQgdHJhZGUgY2FuIG1ha2UsIGUuZy4gMSBob3AgZ29lcyB0aHJvdWdoIGEgc2luZ2xlIHBhaXJcclxuICAgKiBAcGFyYW0gY3VycmVudFBhaXJzIHVzZWQgaW4gcmVjdXJzaW9uOyB0aGUgY3VycmVudCBsaXN0IG9mIHBhaXJzXHJcbiAgICogQHBhcmFtIGN1cnJlbmN5QW1vdW50SW4gdXNlZCBpbiByZWN1cnNpb247IHRoZSBvcmlnaW5hbCB2YWx1ZSBvZiB0aGUgY3VycmVuY3lBbW91bnRJbiBwYXJhbWV0ZXJcclxuICAgKiBAcGFyYW0gYmVzdFRyYWRlcyB1c2VkIGluIHJlY3Vyc2lvbjsgdGhlIGN1cnJlbnQgbGlzdCBvZiBiZXN0IHRyYWRlc1xyXG4gICAqLztcbiAgVHJhZGUuYmVzdFRyYWRlRXhhY3RJbiA9IGZ1bmN0aW9uIGJlc3RUcmFkZUV4YWN0SW4ocGFpcnMsIGN1cnJlbmN5QW1vdW50SW4sIGN1cnJlbmN5T3V0LCBfdGVtcCxcbiAgLy8gdXNlZCBpbiByZWN1cnNpb24uXG4gIGN1cnJlbnRQYWlycywgbmV4dEFtb3VudEluLCBiZXN0VHJhZGVzKSB7XG4gICAgdmFyIF9yZWYgPSBfdGVtcCA9PT0gdm9pZCAwID8ge30gOiBfdGVtcCxcbiAgICAgIF9yZWYkbWF4TnVtUmVzdWx0cyA9IF9yZWYubWF4TnVtUmVzdWx0cyxcbiAgICAgIG1heE51bVJlc3VsdHMgPSBfcmVmJG1heE51bVJlc3VsdHMgPT09IHZvaWQgMCA/IDMgOiBfcmVmJG1heE51bVJlc3VsdHMsXG4gICAgICBfcmVmJG1heEhvcHMgPSBfcmVmLm1heEhvcHMsXG4gICAgICBtYXhIb3BzID0gX3JlZiRtYXhIb3BzID09PSB2b2lkIDAgPyAzIDogX3JlZiRtYXhIb3BzO1xuICAgIGlmIChjdXJyZW50UGFpcnMgPT09IHZvaWQgMCkge1xuICAgICAgY3VycmVudFBhaXJzID0gW107XG4gICAgfVxuICAgIGlmIChuZXh0QW1vdW50SW4gPT09IHZvaWQgMCkge1xuICAgICAgbmV4dEFtb3VudEluID0gY3VycmVuY3lBbW91bnRJbjtcbiAgICB9XG4gICAgaWYgKGJlc3RUcmFkZXMgPT09IHZvaWQgMCkge1xuICAgICAgYmVzdFRyYWRlcyA9IFtdO1xuICAgIH1cbiAgICAhKHBhaXJzLmxlbmd0aCA+IDApID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gaW52YXJpYW50KGZhbHNlLCAnUEFJUlMnKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgIShtYXhIb3BzID4gMCkgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBpbnZhcmlhbnQoZmFsc2UsICdNQVhfSE9QUycpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICAhKGN1cnJlbmN5QW1vdW50SW4gPT09IG5leHRBbW91bnRJbiB8fCBjdXJyZW50UGFpcnMubGVuZ3RoID4gMCkgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBpbnZhcmlhbnQoZmFsc2UsICdJTlZBTElEX1JFQ1VSU0lPTicpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICB2YXIgYW1vdW50SW4gPSBuZXh0QW1vdW50SW4ud3JhcHBlZDtcbiAgICB2YXIgdG9rZW5PdXQgPSBjdXJyZW5jeU91dC53cmFwcGVkO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGFpcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBwYWlyID0gcGFpcnNbaV07XG4gICAgICAvLyBwYWlyIGlycmVsZXZhbnRcbiAgICAgIGlmICghcGFpci50b2tlbjAuZXF1YWxzKGFtb3VudEluLmN1cnJlbmN5KSAmJiAhcGFpci50b2tlbjEuZXF1YWxzKGFtb3VudEluLmN1cnJlbmN5KSkgY29udGludWU7XG4gICAgICBpZiAocGFpci5yZXNlcnZlMC5lcXVhbFRvKFpFUk8pIHx8IHBhaXIucmVzZXJ2ZTEuZXF1YWxUbyhaRVJPKSkgY29udGludWU7XG4gICAgICB2YXIgYW1vdW50T3V0ID0gdm9pZCAwO1xuICAgICAgdHJ5IHtcbiAgICAgICAgO1xuICAgICAgICB2YXIgX3BhaXIkZ2V0T3V0cHV0QW1vdW50MiA9IHBhaXIuZ2V0T3V0cHV0QW1vdW50KGFtb3VudEluKTtcbiAgICAgICAgYW1vdW50T3V0ID0gX3BhaXIkZ2V0T3V0cHV0QW1vdW50MlswXTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIC8vIGlucHV0IHRvbyBsb3dcbiAgICAgICAgaWYgKGVycm9yLmlzSW5zdWZmaWNpZW50SW5wdXRBbW91bnRFcnJvcikge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIHRocm93IGVycm9yO1xuICAgICAgfVxuICAgICAgLy8gd2UgaGF2ZSBhcnJpdmVkIGF0IHRoZSBvdXRwdXQgdG9rZW4sIHNvIHRoaXMgaXMgdGhlIGZpbmFsIHRyYWRlIG9mIG9uZSBvZiB0aGUgcGF0aHNcbiAgICAgIGlmIChhbW91bnRPdXQuY3VycmVuY3kuZXF1YWxzKHRva2VuT3V0KSkge1xuICAgICAgICBzb3J0ZWRJbnNlcnQoYmVzdFRyYWRlcywgbmV3IFRyYWRlKG5ldyBSb3V0ZShbXS5jb25jYXQoY3VycmVudFBhaXJzLCBbcGFpcl0pLCBjdXJyZW5jeUFtb3VudEluLmN1cnJlbmN5LCBjdXJyZW5jeU91dCksIGN1cnJlbmN5QW1vdW50SW4sIFRyYWRlVHlwZS5FWEFDVF9JTlBVVCksIG1heE51bVJlc3VsdHMsIHRyYWRlQ29tcGFyYXRvcik7XG4gICAgICB9IGVsc2UgaWYgKG1heEhvcHMgPiAxICYmIHBhaXJzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgdmFyIHBhaXJzRXhjbHVkaW5nVGhpc1BhaXIgPSBwYWlycy5zbGljZSgwLCBpKS5jb25jYXQocGFpcnMuc2xpY2UoaSArIDEsIHBhaXJzLmxlbmd0aCkpO1xuICAgICAgICAvLyBvdGhlcndpc2UsIGNvbnNpZGVyIGFsbCB0aGUgb3RoZXIgcGF0aHMgdGhhdCBsZWFkIGZyb20gdGhpcyB0b2tlbiBhcyBsb25nIGFzIHdlIGhhdmUgbm90IGV4Y2VlZGVkIG1heEhvcHNcbiAgICAgICAgVHJhZGUuYmVzdFRyYWRlRXhhY3RJbihwYWlyc0V4Y2x1ZGluZ1RoaXNQYWlyLCBjdXJyZW5jeUFtb3VudEluLCBjdXJyZW5jeU91dCwge1xuICAgICAgICAgIG1heE51bVJlc3VsdHM6IG1heE51bVJlc3VsdHMsXG4gICAgICAgICAgbWF4SG9wczogbWF4SG9wcyAtIDFcbiAgICAgICAgfSwgW10uY29uY2F0KGN1cnJlbnRQYWlycywgW3BhaXJdKSwgYW1vdW50T3V0LCBiZXN0VHJhZGVzKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGJlc3RUcmFkZXM7XG4gIH1cbiAgLyoqXHJcbiAgICogUmV0dXJuIHRoZSBleGVjdXRpb24gcHJpY2UgYWZ0ZXIgYWNjb3VudGluZyBmb3Igc2xpcHBhZ2UgdG9sZXJhbmNlXHJcbiAgICogQHBhcmFtIHNsaXBwYWdlVG9sZXJhbmNlIHRoZSBhbGxvd2VkIHRvbGVyYXRlZCBzbGlwcGFnZVxyXG4gICAqLztcbiAgX3Byb3RvLndvcnN0RXhlY3V0aW9uUHJpY2UgPSBmdW5jdGlvbiB3b3JzdEV4ZWN1dGlvblByaWNlKHNsaXBwYWdlVG9sZXJhbmNlKSB7XG4gICAgcmV0dXJuIG5ldyBQcmljZSh0aGlzLmlucHV0QW1vdW50LmN1cnJlbmN5LCB0aGlzLm91dHB1dEFtb3VudC5jdXJyZW5jeSwgdGhpcy5tYXhpbXVtQW1vdW50SW4oc2xpcHBhZ2VUb2xlcmFuY2UpLnF1b3RpZW50LCB0aGlzLm1pbmltdW1BbW91bnRPdXQoc2xpcHBhZ2VUb2xlcmFuY2UpLnF1b3RpZW50KTtcbiAgfVxuICAvKipcclxuICAgKiBzaW1pbGFyIHRvIHRoZSBhYm92ZSBtZXRob2QgYnV0IGluc3RlYWQgdGFyZ2V0cyBhIGZpeGVkIG91dHB1dCBhbW91bnRcclxuICAgKiBnaXZlbiBhIGxpc3Qgb2YgcGFpcnMsIGFuZCBhIGZpeGVkIGFtb3VudCBvdXQsIHJldHVybnMgdGhlIHRvcCBgbWF4TnVtUmVzdWx0c2AgdHJhZGVzIHRoYXQgZ28gZnJvbSBhbiBpbnB1dCB0b2tlblxyXG4gICAqIHRvIGFuIG91dHB1dCB0b2tlbiBhbW91bnQsIG1ha2luZyBhdCBtb3N0IGBtYXhIb3BzYCBob3BzXHJcbiAgICogbm90ZSB0aGlzIGRvZXMgbm90IGNvbnNpZGVyIGFnZ3JlZ2F0aW9uLCBhcyByb3V0ZXMgYXJlIGxpbmVhci4gaXQncyBwb3NzaWJsZSBhIGJldHRlciByb3V0ZSBleGlzdHMgYnkgc3BsaXR0aW5nXHJcbiAgICogdGhlIGFtb3VudCBpbiBhbW9uZyBtdWx0aXBsZSByb3V0ZXMuXHJcbiAgICogQHBhcmFtIHBhaXJzIHRoZSBwYWlycyB0byBjb25zaWRlciBpbiBmaW5kaW5nIHRoZSBiZXN0IHRyYWRlXHJcbiAgICogQHBhcmFtIGN1cnJlbmN5SW4gdGhlIGN1cnJlbmN5IHRvIHNwZW5kXHJcbiAgICogQHBhcmFtIG5leHRBbW91bnRPdXQgdGhlIGV4YWN0IGFtb3VudCBvZiBjdXJyZW5jeSBvdXRcclxuICAgKiBAcGFyYW0gbWF4TnVtUmVzdWx0cyBtYXhpbXVtIG51bWJlciBvZiByZXN1bHRzIHRvIHJldHVyblxyXG4gICAqIEBwYXJhbSBtYXhIb3BzIG1heGltdW0gbnVtYmVyIG9mIGhvcHMgYSByZXR1cm5lZCB0cmFkZSBjYW4gbWFrZSwgZS5nLiAxIGhvcCBnb2VzIHRocm91Z2ggYSBzaW5nbGUgcGFpclxyXG4gICAqIEBwYXJhbSBjdXJyZW50UGFpcnMgdXNlZCBpbiByZWN1cnNpb247IHRoZSBjdXJyZW50IGxpc3Qgb2YgcGFpcnNcclxuICAgKiBAcGFyYW0gY3VycmVuY3lBbW91bnRPdXQgdXNlZCBpbiByZWN1cnNpb247IHRoZSBvcmlnaW5hbCB2YWx1ZSBvZiB0aGUgY3VycmVuY3lBbW91bnRPdXQgcGFyYW1ldGVyXHJcbiAgICogQHBhcmFtIGJlc3RUcmFkZXMgdXNlZCBpbiByZWN1cnNpb247IHRoZSBjdXJyZW50IGxpc3Qgb2YgYmVzdCB0cmFkZXNcclxuICAgKi87XG4gIFRyYWRlLmJlc3RUcmFkZUV4YWN0T3V0ID0gZnVuY3Rpb24gYmVzdFRyYWRlRXhhY3RPdXQocGFpcnMsIGN1cnJlbmN5SW4sIGN1cnJlbmN5QW1vdW50T3V0LCBfdGVtcDIsXG4gIC8vIHVzZWQgaW4gcmVjdXJzaW9uLlxuICBjdXJyZW50UGFpcnMsIG5leHRBbW91bnRPdXQsIGJlc3RUcmFkZXMpIHtcbiAgICB2YXIgX3JlZjIgPSBfdGVtcDIgPT09IHZvaWQgMCA/IHt9IDogX3RlbXAyLFxuICAgICAgX3JlZjIkbWF4TnVtUmVzdWx0cyA9IF9yZWYyLm1heE51bVJlc3VsdHMsXG4gICAgICBtYXhOdW1SZXN1bHRzID0gX3JlZjIkbWF4TnVtUmVzdWx0cyA9PT0gdm9pZCAwID8gMyA6IF9yZWYyJG1heE51bVJlc3VsdHMsXG4gICAgICBfcmVmMiRtYXhIb3BzID0gX3JlZjIubWF4SG9wcyxcbiAgICAgIG1heEhvcHMgPSBfcmVmMiRtYXhIb3BzID09PSB2b2lkIDAgPyAzIDogX3JlZjIkbWF4SG9wcztcbiAgICBpZiAoY3VycmVudFBhaXJzID09PSB2b2lkIDApIHtcbiAgICAgIGN1cnJlbnRQYWlycyA9IFtdO1xuICAgIH1cbiAgICBpZiAobmV4dEFtb3VudE91dCA9PT0gdm9pZCAwKSB7XG4gICAgICBuZXh0QW1vdW50T3V0ID0gY3VycmVuY3lBbW91bnRPdXQ7XG4gICAgfVxuICAgIGlmIChiZXN0VHJhZGVzID09PSB2b2lkIDApIHtcbiAgICAgIGJlc3RUcmFkZXMgPSBbXTtcbiAgICB9XG4gICAgIShwYWlycy5sZW5ndGggPiAwKSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IGludmFyaWFudChmYWxzZSwgJ1BBSVJTJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgICEobWF4SG9wcyA+IDApID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gaW52YXJpYW50KGZhbHNlLCAnTUFYX0hPUFMnKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgIShjdXJyZW5jeUFtb3VudE91dCA9PT0gbmV4dEFtb3VudE91dCB8fCBjdXJyZW50UGFpcnMubGVuZ3RoID4gMCkgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBpbnZhcmlhbnQoZmFsc2UsICdJTlZBTElEX1JFQ1VSU0lPTicpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICB2YXIgYW1vdW50T3V0ID0gbmV4dEFtb3VudE91dC53cmFwcGVkO1xuICAgIHZhciB0b2tlbkluID0gY3VycmVuY3lJbi53cmFwcGVkO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGFpcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBwYWlyID0gcGFpcnNbaV07XG4gICAgICAvLyBwYWlyIGlycmVsZXZhbnRcbiAgICAgIGlmICghcGFpci50b2tlbjAuZXF1YWxzKGFtb3VudE91dC5jdXJyZW5jeSkgJiYgIXBhaXIudG9rZW4xLmVxdWFscyhhbW91bnRPdXQuY3VycmVuY3kpKSBjb250aW51ZTtcbiAgICAgIGlmIChwYWlyLnJlc2VydmUwLmVxdWFsVG8oWkVSTykgfHwgcGFpci5yZXNlcnZlMS5lcXVhbFRvKFpFUk8pKSBjb250aW51ZTtcbiAgICAgIHZhciBhbW91bnRJbiA9IHZvaWQgMDtcbiAgICAgIHRyeSB7XG4gICAgICAgIDtcbiAgICAgICAgdmFyIF9wYWlyJGdldElucHV0QW1vdW50MiA9IHBhaXIuZ2V0SW5wdXRBbW91bnQoYW1vdW50T3V0KTtcbiAgICAgICAgYW1vdW50SW4gPSBfcGFpciRnZXRJbnB1dEFtb3VudDJbMF07XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAvLyBub3QgZW5vdWdoIGxpcXVpZGl0eSBpbiB0aGlzIHBhaXJcbiAgICAgICAgaWYgKGVycm9yLmlzSW5zdWZmaWNpZW50UmVzZXJ2ZXNFcnJvcikge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIHRocm93IGVycm9yO1xuICAgICAgfVxuICAgICAgLy8gd2UgaGF2ZSBhcnJpdmVkIGF0IHRoZSBpbnB1dCB0b2tlbiwgc28gdGhpcyBpcyB0aGUgZmlyc3QgdHJhZGUgb2Ygb25lIG9mIHRoZSBwYXRoc1xuICAgICAgaWYgKGFtb3VudEluLmN1cnJlbmN5LmVxdWFscyh0b2tlbkluKSkge1xuICAgICAgICBzb3J0ZWRJbnNlcnQoYmVzdFRyYWRlcywgbmV3IFRyYWRlKG5ldyBSb3V0ZShbcGFpcl0uY29uY2F0KGN1cnJlbnRQYWlycyksIGN1cnJlbmN5SW4sIGN1cnJlbmN5QW1vdW50T3V0LmN1cnJlbmN5KSwgY3VycmVuY3lBbW91bnRPdXQsIFRyYWRlVHlwZS5FWEFDVF9PVVRQVVQpLCBtYXhOdW1SZXN1bHRzLCB0cmFkZUNvbXBhcmF0b3IpO1xuICAgICAgfSBlbHNlIGlmIChtYXhIb3BzID4gMSAmJiBwYWlycy5sZW5ndGggPiAxKSB7XG4gICAgICAgIHZhciBwYWlyc0V4Y2x1ZGluZ1RoaXNQYWlyID0gcGFpcnMuc2xpY2UoMCwgaSkuY29uY2F0KHBhaXJzLnNsaWNlKGkgKyAxLCBwYWlycy5sZW5ndGgpKTtcbiAgICAgICAgLy8gb3RoZXJ3aXNlLCBjb25zaWRlciBhbGwgdGhlIG90aGVyIHBhdGhzIHRoYXQgYXJyaXZlIGF0IHRoaXMgdG9rZW4gYXMgbG9uZyBhcyB3ZSBoYXZlIG5vdCBleGNlZWRlZCBtYXhIb3BzXG4gICAgICAgIFRyYWRlLmJlc3RUcmFkZUV4YWN0T3V0KHBhaXJzRXhjbHVkaW5nVGhpc1BhaXIsIGN1cnJlbmN5SW4sIGN1cnJlbmN5QW1vdW50T3V0LCB7XG4gICAgICAgICAgbWF4TnVtUmVzdWx0czogbWF4TnVtUmVzdWx0cyxcbiAgICAgICAgICBtYXhIb3BzOiBtYXhIb3BzIC0gMVxuICAgICAgICB9LCBbcGFpcl0uY29uY2F0KGN1cnJlbnRQYWlycyksIGFtb3VudEluLCBiZXN0VHJhZGVzKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGJlc3RUcmFkZXM7XG4gIH07XG4gIHJldHVybiBUcmFkZTtcbn0oKTtcblxuZnVuY3Rpb24gdG9IZXgoY3VycmVuY3lBbW91bnQpIHtcbiAgcmV0dXJuIFwiMHhcIiArIGN1cnJlbmN5QW1vdW50LnF1b3RpZW50LnRvU3RyaW5nKDE2KTtcbn1cbnZhciBaRVJPX0hFWCA9ICcweDAnO1xuLyoqXHJcbiAqIFJlcHJlc2VudHMgdGhlIFVuaXN3YXAgVjIgUm91dGVyLCBhbmQgaGFzIHN0YXRpYyBtZXRob2RzIGZvciBoZWxwaW5nIGV4ZWN1dGUgdHJhZGVzLlxyXG4gKi9cbnZhciBSb3V0ZXIgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICAvKipcclxuICAgKiBDYW5ub3QgYmUgY29uc3RydWN0ZWQuXHJcbiAgICovXG4gIGZ1bmN0aW9uIFJvdXRlcigpIHt9XG4gIC8qKlxyXG4gICAqIFByb2R1Y2VzIHRoZSBvbi1jaGFpbiBtZXRob2QgbmFtZSB0byBjYWxsIGFuZCB0aGUgaGV4IGVuY29kZWQgcGFyYW1ldGVycyB0byBwYXNzIGFzIGFyZ3VtZW50cyBmb3IgYSBnaXZlbiB0cmFkZS5cclxuICAgKiBAcGFyYW0gdHJhZGUgdG8gcHJvZHVjZSBjYWxsIHBhcmFtZXRlcnMgZm9yXHJcbiAgICogQHBhcmFtIG9wdGlvbnMgb3B0aW9ucyBmb3IgdGhlIGNhbGwgcGFyYW1ldGVyc1xyXG4gICAqL1xuICBSb3V0ZXIuc3dhcENhbGxQYXJhbWV0ZXJzID0gZnVuY3Rpb24gc3dhcENhbGxQYXJhbWV0ZXJzKHRyYWRlLCBvcHRpb25zKSB7XG4gICAgdmFyIGV0aGVySW4gPSB0cmFkZS5pbnB1dEFtb3VudC5jdXJyZW5jeS5pc05hdGl2ZTtcbiAgICB2YXIgZXRoZXJPdXQgPSB0cmFkZS5vdXRwdXRBbW91bnQuY3VycmVuY3kuaXNOYXRpdmU7XG4gICAgLy8gdGhlIHJvdXRlciBkb2VzIG5vdCBzdXBwb3J0IGJvdGggZXRoZXIgaW4gYW5kIG91dFxuICAgICEhKGV0aGVySW4gJiYgZXRoZXJPdXQpID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gaW52YXJpYW50KGZhbHNlLCAnRVRIRVJfSU5fT1VUJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgICEoISgndHRsJyBpbiBvcHRpb25zKSB8fCBvcHRpb25zLnR0bCA+IDApID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gaW52YXJpYW50KGZhbHNlLCAnVFRMJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgIHZhciB0byA9IHZhbGlkYXRlQW5kUGFyc2VBZGRyZXNzKG9wdGlvbnMucmVjaXBpZW50KTtcbiAgICB2YXIgYW1vdW50SW4gPSB0b0hleCh0cmFkZS5tYXhpbXVtQW1vdW50SW4ob3B0aW9ucy5hbGxvd2VkU2xpcHBhZ2UpKTtcbiAgICB2YXIgYW1vdW50T3V0ID0gdG9IZXgodHJhZGUubWluaW11bUFtb3VudE91dChvcHRpb25zLmFsbG93ZWRTbGlwcGFnZSkpO1xuICAgIHZhciBwYXRoID0gdHJhZGUucm91dGUucGF0aC5tYXAoZnVuY3Rpb24gKHRva2VuKSB7XG4gICAgICByZXR1cm4gdG9rZW4uYWRkcmVzcztcbiAgICB9KTtcbiAgICB2YXIgZGVhZGxpbmUgPSAndHRsJyBpbiBvcHRpb25zID8gXCIweFwiICsgKE1hdGguZmxvb3IobmV3IERhdGUoKS5nZXRUaW1lKCkgLyAxMDAwKSArIG9wdGlvbnMudHRsKS50b1N0cmluZygxNikgOiBcIjB4XCIgKyBvcHRpb25zLmRlYWRsaW5lLnRvU3RyaW5nKDE2KTtcbiAgICB2YXIgdXNlRmVlT25UcmFuc2ZlciA9IEJvb2xlYW4ob3B0aW9ucy5mZWVPblRyYW5zZmVyKTtcbiAgICB2YXIgbWV0aG9kTmFtZTtcbiAgICB2YXIgYXJncztcbiAgICB2YXIgdmFsdWU7XG4gICAgc3dpdGNoICh0cmFkZS50cmFkZVR5cGUpIHtcbiAgICAgIGNhc2UgVHJhZGVUeXBlLkVYQUNUX0lOUFVUOlxuICAgICAgICBpZiAoZXRoZXJJbikge1xuICAgICAgICAgIG1ldGhvZE5hbWUgPSB1c2VGZWVPblRyYW5zZmVyID8gJ3N3YXBFeGFjdEVUSEZvclRva2Vuc1N1cHBvcnRpbmdGZWVPblRyYW5zZmVyVG9rZW5zJyA6ICdzd2FwRXhhY3RFVEhGb3JUb2tlbnMnO1xuICAgICAgICAgIC8vICh1aW50IGFtb3VudE91dE1pbiwgYWRkcmVzc1tdIGNhbGxkYXRhIHBhdGgsIGFkZHJlc3MgdG8sIHVpbnQgZGVhZGxpbmUpXG4gICAgICAgICAgYXJncyA9IFthbW91bnRPdXQsIHBhdGgsIHRvLCBkZWFkbGluZV07XG4gICAgICAgICAgdmFsdWUgPSBhbW91bnRJbjtcbiAgICAgICAgfSBlbHNlIGlmIChldGhlck91dCkge1xuICAgICAgICAgIG1ldGhvZE5hbWUgPSB1c2VGZWVPblRyYW5zZmVyID8gJ3N3YXBFeGFjdFRva2Vuc0ZvckVUSFN1cHBvcnRpbmdGZWVPblRyYW5zZmVyVG9rZW5zJyA6ICdzd2FwRXhhY3RUb2tlbnNGb3JFVEgnO1xuICAgICAgICAgIC8vICh1aW50IGFtb3VudEluLCB1aW50IGFtb3VudE91dE1pbiwgYWRkcmVzc1tdIGNhbGxkYXRhIHBhdGgsIGFkZHJlc3MgdG8sIHVpbnQgZGVhZGxpbmUpXG4gICAgICAgICAgYXJncyA9IFthbW91bnRJbiwgYW1vdW50T3V0LCBwYXRoLCB0bywgZGVhZGxpbmVdO1xuICAgICAgICAgIHZhbHVlID0gWkVST19IRVg7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbWV0aG9kTmFtZSA9IHVzZUZlZU9uVHJhbnNmZXIgPyAnc3dhcEV4YWN0VG9rZW5zRm9yVG9rZW5zU3VwcG9ydGluZ0ZlZU9uVHJhbnNmZXJUb2tlbnMnIDogJ3N3YXBFeGFjdFRva2Vuc0ZvclRva2Vucyc7XG4gICAgICAgICAgLy8gKHVpbnQgYW1vdW50SW4sIHVpbnQgYW1vdW50T3V0TWluLCBhZGRyZXNzW10gY2FsbGRhdGEgcGF0aCwgYWRkcmVzcyB0bywgdWludCBkZWFkbGluZSlcbiAgICAgICAgICBhcmdzID0gW2Ftb3VudEluLCBhbW91bnRPdXQsIHBhdGgsIHRvLCBkZWFkbGluZV07XG4gICAgICAgICAgdmFsdWUgPSBaRVJPX0hFWDtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgVHJhZGVUeXBlLkVYQUNUX09VVFBVVDpcbiAgICAgICAgISF1c2VGZWVPblRyYW5zZmVyID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gaW52YXJpYW50KGZhbHNlLCAnRVhBQ1RfT1VUX0ZPVCcpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICAgICAgaWYgKGV0aGVySW4pIHtcbiAgICAgICAgICBtZXRob2ROYW1lID0gJ3N3YXBFVEhGb3JFeGFjdFRva2Vucyc7XG4gICAgICAgICAgLy8gKHVpbnQgYW1vdW50T3V0LCBhZGRyZXNzW10gY2FsbGRhdGEgcGF0aCwgYWRkcmVzcyB0bywgdWludCBkZWFkbGluZSlcbiAgICAgICAgICBhcmdzID0gW2Ftb3VudE91dCwgcGF0aCwgdG8sIGRlYWRsaW5lXTtcbiAgICAgICAgICB2YWx1ZSA9IGFtb3VudEluO1xuICAgICAgICB9IGVsc2UgaWYgKGV0aGVyT3V0KSB7XG4gICAgICAgICAgbWV0aG9kTmFtZSA9ICdzd2FwVG9rZW5zRm9yRXhhY3RFVEgnO1xuICAgICAgICAgIC8vICh1aW50IGFtb3VudE91dCwgdWludCBhbW91bnRJbk1heCwgYWRkcmVzc1tdIGNhbGxkYXRhIHBhdGgsIGFkZHJlc3MgdG8sIHVpbnQgZGVhZGxpbmUpXG4gICAgICAgICAgYXJncyA9IFthbW91bnRPdXQsIGFtb3VudEluLCBwYXRoLCB0bywgZGVhZGxpbmVdO1xuICAgICAgICAgIHZhbHVlID0gWkVST19IRVg7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbWV0aG9kTmFtZSA9ICdzd2FwVG9rZW5zRm9yRXhhY3RUb2tlbnMnO1xuICAgICAgICAgIC8vICh1aW50IGFtb3VudE91dCwgdWludCBhbW91bnRJbk1heCwgYWRkcmVzc1tdIGNhbGxkYXRhIHBhdGgsIGFkZHJlc3MgdG8sIHVpbnQgZGVhZGxpbmUpXG4gICAgICAgICAgYXJncyA9IFthbW91bnRPdXQsIGFtb3VudEluLCBwYXRoLCB0bywgZGVhZGxpbmVdO1xuICAgICAgICAgIHZhbHVlID0gWkVST19IRVg7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICBtZXRob2ROYW1lOiBtZXRob2ROYW1lLFxuICAgICAgYXJnczogYXJncyxcbiAgICAgIHZhbHVlOiB2YWx1ZVxuICAgIH07XG4gIH07XG4gIHJldHVybiBSb3V0ZXI7XG59KCk7XG5cbmV4cG9ydCB7IEZBQ1RPUllfQUREUkVTU19NQVAsIElOSVRfQ09ERV9IQVNILCBJbnN1ZmZpY2llbnRJbnB1dEFtb3VudEVycm9yLCBJbnN1ZmZpY2llbnRSZXNlcnZlc0Vycm9yLCBNSU5JTVVNX0xJUVVJRElUWSwgUGFpciwgUm91dGUsIFJvdXRlciwgVHJhZGUsIGNvbXB1dGVQYWlyQWRkcmVzcywgaW5wdXRPdXRwdXRDb21wYXJhdG9yLCB0cmFkZUNvbXBhcmF0b3IgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXYyLXNkay5lc20uanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@uniswap/v2-sdk/dist/v2-sdk.esm.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@uniswap/v2-sdk/node_modules/@ethersproject/keccak256/lib.esm/index.js":
/*!*************************************************************************************************!*\
  !*** ../../node_modules/@uniswap/v2-sdk/node_modules/@ethersproject/keccak256/lib.esm/index.js ***!
  \*************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   keccak256: () => (/* binding */ keccak256)\n/* harmony export */ });\n/* harmony import */ var js_sha3__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! js-sha3 */ \"(ssr)/../../node_modules/js-sha3/src/sha3.js\");\n/* harmony import */ var js_sha3__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(js_sha3__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _ethersproject_bytes__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @ethersproject/bytes */ \"(ssr)/../../node_modules/@ethersproject/bytes/lib.esm/index.js\");\n\n\n\nfunction keccak256(data) {\n    return '0x' + js_sha3__WEBPACK_IMPORTED_MODULE_0___default().keccak_256((0,_ethersproject_bytes__WEBPACK_IMPORTED_MODULE_1__.arrayify)(data));\n}\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0B1bmlzd2FwL3YyLXNkay9ub2RlX21vZHVsZXMvQGV0aGVyc3Byb2plY3Qva2VjY2FrMjU2L2xpYi5lc20vaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFhO0FBQ2M7QUFDcUI7QUFDekM7QUFDUCxrQkFBa0IseURBQWUsQ0FBQyw4REFBUTtBQUMxQztBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQHNlLTIvbmV4dGpzLy4uLy4uL25vZGVfbW9kdWxlcy9AdW5pc3dhcC92Mi1zZGsvbm9kZV9tb2R1bGVzL0BldGhlcnNwcm9qZWN0L2tlY2NhazI1Ni9saWIuZXNtL2luZGV4LmpzP2E4ZDEiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5pbXBvcnQgc2hhMyBmcm9tIFwianMtc2hhM1wiO1xuaW1wb3J0IHsgYXJyYXlpZnkgfSBmcm9tIFwiQGV0aGVyc3Byb2plY3QvYnl0ZXNcIjtcbmV4cG9ydCBmdW5jdGlvbiBrZWNjYWsyNTYoZGF0YSkge1xuICAgIHJldHVybiAnMHgnICsgc2hhMy5rZWNjYWtfMjU2KGFycmF5aWZ5KGRhdGEpKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@uniswap/v2-sdk/node_modules/@ethersproject/keccak256/lib.esm/index.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@uniswap/v2-sdk/node_modules/@ethersproject/strings/lib.esm/_version.js":
/*!**************************************************************************************************!*\
  !*** ../../node_modules/@uniswap/v2-sdk/node_modules/@ethersproject/strings/lib.esm/_version.js ***!
  \**************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   version: () => (/* binding */ version)\n/* harmony export */ });\nconst version = \"strings/5.7.0\";\n//# sourceMappingURL=_version.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0B1bmlzd2FwL3YyLXNkay9ub2RlX21vZHVsZXMvQGV0aGVyc3Byb2plY3Qvc3RyaW5ncy9saWIuZXNtL192ZXJzaW9uLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBTztBQUNQIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQHNlLTIvbmV4dGpzLy4uLy4uL25vZGVfbW9kdWxlcy9AdW5pc3dhcC92Mi1zZGsvbm9kZV9tb2R1bGVzL0BldGhlcnNwcm9qZWN0L3N0cmluZ3MvbGliLmVzbS9fdmVyc2lvbi5qcz9mYjVmIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjb25zdCB2ZXJzaW9uID0gXCJzdHJpbmdzLzUuNy4wXCI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1fdmVyc2lvbi5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@uniswap/v2-sdk/node_modules/@ethersproject/strings/lib.esm/_version.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@uniswap/v2-sdk/node_modules/@ethersproject/strings/lib.esm/utf8.js":
/*!**********************************************************************************************!*\
  !*** ../../node_modules/@uniswap/v2-sdk/node_modules/@ethersproject/strings/lib.esm/utf8.js ***!
  \**********************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   UnicodeNormalizationForm: () => (/* binding */ UnicodeNormalizationForm),\n/* harmony export */   Utf8ErrorFuncs: () => (/* binding */ Utf8ErrorFuncs),\n/* harmony export */   Utf8ErrorReason: () => (/* binding */ Utf8ErrorReason),\n/* harmony export */   _toEscapedUtf8String: () => (/* binding */ _toEscapedUtf8String),\n/* harmony export */   _toUtf8String: () => (/* binding */ _toUtf8String),\n/* harmony export */   toUtf8Bytes: () => (/* binding */ toUtf8Bytes),\n/* harmony export */   toUtf8CodePoints: () => (/* binding */ toUtf8CodePoints),\n/* harmony export */   toUtf8String: () => (/* binding */ toUtf8String)\n/* harmony export */ });\n/* harmony import */ var _ethersproject_bytes__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ethersproject/bytes */ \"(ssr)/../../node_modules/@ethersproject/bytes/lib.esm/index.js\");\n/* harmony import */ var _ethersproject_logger__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @ethersproject/logger */ \"(ssr)/../../node_modules/@ethersproject/logger/lib.esm/index.js\");\n/* harmony import */ var _version__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./_version */ \"(ssr)/../../node_modules/@uniswap/v2-sdk/node_modules/@ethersproject/strings/lib.esm/_version.js\");\n\n\n\n\nconst logger = new _ethersproject_logger__WEBPACK_IMPORTED_MODULE_0__.Logger(_version__WEBPACK_IMPORTED_MODULE_1__.version);\n///////////////////////////////\nvar UnicodeNormalizationForm;\n(function (UnicodeNormalizationForm) {\n    UnicodeNormalizationForm[\"current\"] = \"\";\n    UnicodeNormalizationForm[\"NFC\"] = \"NFC\";\n    UnicodeNormalizationForm[\"NFD\"] = \"NFD\";\n    UnicodeNormalizationForm[\"NFKC\"] = \"NFKC\";\n    UnicodeNormalizationForm[\"NFKD\"] = \"NFKD\";\n})(UnicodeNormalizationForm || (UnicodeNormalizationForm = {}));\n;\nvar Utf8ErrorReason;\n(function (Utf8ErrorReason) {\n    // A continuation byte was present where there was nothing to continue\n    // - offset = the index the codepoint began in\n    Utf8ErrorReason[\"UNEXPECTED_CONTINUE\"] = \"unexpected continuation byte\";\n    // An invalid (non-continuation) byte to start a UTF-8 codepoint was found\n    // - offset = the index the codepoint began in\n    Utf8ErrorReason[\"BAD_PREFIX\"] = \"bad codepoint prefix\";\n    // The string is too short to process the expected codepoint\n    // - offset = the index the codepoint began in\n    Utf8ErrorReason[\"OVERRUN\"] = \"string overrun\";\n    // A missing continuation byte was expected but not found\n    // - offset = the index the continuation byte was expected at\n    Utf8ErrorReason[\"MISSING_CONTINUE\"] = \"missing continuation byte\";\n    // The computed code point is outside the range for UTF-8\n    // - offset       = start of this codepoint\n    // - badCodepoint = the computed codepoint; outside the UTF-8 range\n    Utf8ErrorReason[\"OUT_OF_RANGE\"] = \"out of UTF-8 range\";\n    // UTF-8 strings may not contain UTF-16 surrogate pairs\n    // - offset       = start of this codepoint\n    // - badCodepoint = the computed codepoint; inside the UTF-16 surrogate range\n    Utf8ErrorReason[\"UTF16_SURROGATE\"] = \"UTF-16 surrogate\";\n    // The string is an overlong representation\n    // - offset       = start of this codepoint\n    // - badCodepoint = the computed codepoint; already bounds checked\n    Utf8ErrorReason[\"OVERLONG\"] = \"overlong representation\";\n})(Utf8ErrorReason || (Utf8ErrorReason = {}));\n;\nfunction errorFunc(reason, offset, bytes, output, badCodepoint) {\n    return logger.throwArgumentError(`invalid codepoint at offset ${offset}; ${reason}`, \"bytes\", bytes);\n}\nfunction ignoreFunc(reason, offset, bytes, output, badCodepoint) {\n    // If there is an invalid prefix (including stray continuation), skip any additional continuation bytes\n    if (reason === Utf8ErrorReason.BAD_PREFIX || reason === Utf8ErrorReason.UNEXPECTED_CONTINUE) {\n        let i = 0;\n        for (let o = offset + 1; o < bytes.length; o++) {\n            if (bytes[o] >> 6 !== 0x02) {\n                break;\n            }\n            i++;\n        }\n        return i;\n    }\n    // This byte runs us past the end of the string, so just jump to the end\n    // (but the first byte was read already read and therefore skipped)\n    if (reason === Utf8ErrorReason.OVERRUN) {\n        return bytes.length - offset - 1;\n    }\n    // Nothing to skip\n    return 0;\n}\nfunction replaceFunc(reason, offset, bytes, output, badCodepoint) {\n    // Overlong representations are otherwise \"valid\" code points; just non-deistingtished\n    if (reason === Utf8ErrorReason.OVERLONG) {\n        output.push(badCodepoint);\n        return 0;\n    }\n    // Put the replacement character into the output\n    output.push(0xfffd);\n    // Otherwise, process as if ignoring errors\n    return ignoreFunc(reason, offset, bytes, output, badCodepoint);\n}\n// Common error handing strategies\nconst Utf8ErrorFuncs = Object.freeze({\n    error: errorFunc,\n    ignore: ignoreFunc,\n    replace: replaceFunc\n});\n// http://stackoverflow.com/questions/13356493/decode-utf-8-with-javascript#13691499\nfunction getUtf8CodePoints(bytes, onError) {\n    if (onError == null) {\n        onError = Utf8ErrorFuncs.error;\n    }\n    bytes = (0,_ethersproject_bytes__WEBPACK_IMPORTED_MODULE_2__.arrayify)(bytes);\n    const result = [];\n    let i = 0;\n    // Invalid bytes are ignored\n    while (i < bytes.length) {\n        const c = bytes[i++];\n        // 0xxx xxxx\n        if (c >> 7 === 0) {\n            result.push(c);\n            continue;\n        }\n        // Multibyte; how many bytes left for this character?\n        let extraLength = null;\n        let overlongMask = null;\n        // 110x xxxx 10xx xxxx\n        if ((c & 0xe0) === 0xc0) {\n            extraLength = 1;\n            overlongMask = 0x7f;\n            // 1110 xxxx 10xx xxxx 10xx xxxx\n        }\n        else if ((c & 0xf0) === 0xe0) {\n            extraLength = 2;\n            overlongMask = 0x7ff;\n            // 1111 0xxx 10xx xxxx 10xx xxxx 10xx xxxx\n        }\n        else if ((c & 0xf8) === 0xf0) {\n            extraLength = 3;\n            overlongMask = 0xffff;\n        }\n        else {\n            if ((c & 0xc0) === 0x80) {\n                i += onError(Utf8ErrorReason.UNEXPECTED_CONTINUE, i - 1, bytes, result);\n            }\n            else {\n                i += onError(Utf8ErrorReason.BAD_PREFIX, i - 1, bytes, result);\n            }\n            continue;\n        }\n        // Do we have enough bytes in our data?\n        if (i - 1 + extraLength >= bytes.length) {\n            i += onError(Utf8ErrorReason.OVERRUN, i - 1, bytes, result);\n            continue;\n        }\n        // Remove the length prefix from the char\n        let res = c & ((1 << (8 - extraLength - 1)) - 1);\n        for (let j = 0; j < extraLength; j++) {\n            let nextChar = bytes[i];\n            // Invalid continuation byte\n            if ((nextChar & 0xc0) != 0x80) {\n                i += onError(Utf8ErrorReason.MISSING_CONTINUE, i, bytes, result);\n                res = null;\n                break;\n            }\n            ;\n            res = (res << 6) | (nextChar & 0x3f);\n            i++;\n        }\n        // See above loop for invalid continuation byte\n        if (res === null) {\n            continue;\n        }\n        // Maximum code point\n        if (res > 0x10ffff) {\n            i += onError(Utf8ErrorReason.OUT_OF_RANGE, i - 1 - extraLength, bytes, result, res);\n            continue;\n        }\n        // Reserved for UTF-16 surrogate halves\n        if (res >= 0xd800 && res <= 0xdfff) {\n            i += onError(Utf8ErrorReason.UTF16_SURROGATE, i - 1 - extraLength, bytes, result, res);\n            continue;\n        }\n        // Check for overlong sequences (more bytes than needed)\n        if (res <= overlongMask) {\n            i += onError(Utf8ErrorReason.OVERLONG, i - 1 - extraLength, bytes, result, res);\n            continue;\n        }\n        result.push(res);\n    }\n    return result;\n}\n// http://stackoverflow.com/questions/18729405/how-to-convert-utf8-string-to-byte-array\nfunction toUtf8Bytes(str, form = UnicodeNormalizationForm.current) {\n    if (form != UnicodeNormalizationForm.current) {\n        logger.checkNormalize();\n        str = str.normalize(form);\n    }\n    let result = [];\n    for (let i = 0; i < str.length; i++) {\n        const c = str.charCodeAt(i);\n        if (c < 0x80) {\n            result.push(c);\n        }\n        else if (c < 0x800) {\n            result.push((c >> 6) | 0xc0);\n            result.push((c & 0x3f) | 0x80);\n        }\n        else if ((c & 0xfc00) == 0xd800) {\n            i++;\n            const c2 = str.charCodeAt(i);\n            if (i >= str.length || (c2 & 0xfc00) !== 0xdc00) {\n                throw new Error(\"invalid utf-8 string\");\n            }\n            // Surrogate Pair\n            const pair = 0x10000 + ((c & 0x03ff) << 10) + (c2 & 0x03ff);\n            result.push((pair >> 18) | 0xf0);\n            result.push(((pair >> 12) & 0x3f) | 0x80);\n            result.push(((pair >> 6) & 0x3f) | 0x80);\n            result.push((pair & 0x3f) | 0x80);\n        }\n        else {\n            result.push((c >> 12) | 0xe0);\n            result.push(((c >> 6) & 0x3f) | 0x80);\n            result.push((c & 0x3f) | 0x80);\n        }\n    }\n    return (0,_ethersproject_bytes__WEBPACK_IMPORTED_MODULE_2__.arrayify)(result);\n}\n;\nfunction escapeChar(value) {\n    const hex = (\"0000\" + value.toString(16));\n    return \"\\\\u\" + hex.substring(hex.length - 4);\n}\nfunction _toEscapedUtf8String(bytes, onError) {\n    return '\"' + getUtf8CodePoints(bytes, onError).map((codePoint) => {\n        if (codePoint < 256) {\n            switch (codePoint) {\n                case 8: return \"\\\\b\";\n                case 9: return \"\\\\t\";\n                case 10: return \"\\\\n\";\n                case 13: return \"\\\\r\";\n                case 34: return \"\\\\\\\"\";\n                case 92: return \"\\\\\\\\\";\n            }\n            if (codePoint >= 32 && codePoint < 127) {\n                return String.fromCharCode(codePoint);\n            }\n        }\n        if (codePoint <= 0xffff) {\n            return escapeChar(codePoint);\n        }\n        codePoint -= 0x10000;\n        return escapeChar(((codePoint >> 10) & 0x3ff) + 0xd800) + escapeChar((codePoint & 0x3ff) + 0xdc00);\n    }).join(\"\") + '\"';\n}\nfunction _toUtf8String(codePoints) {\n    return codePoints.map((codePoint) => {\n        if (codePoint <= 0xffff) {\n            return String.fromCharCode(codePoint);\n        }\n        codePoint -= 0x10000;\n        return String.fromCharCode((((codePoint >> 10) & 0x3ff) + 0xd800), ((codePoint & 0x3ff) + 0xdc00));\n    }).join(\"\");\n}\nfunction toUtf8String(bytes, onError) {\n    return _toUtf8String(getUtf8CodePoints(bytes, onError));\n}\nfunction toUtf8CodePoints(str, form = UnicodeNormalizationForm.current) {\n    return getUtf8CodePoints(toUtf8Bytes(str, form));\n}\n//# sourceMappingURL=utf8.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0B1bmlzd2FwL3YyLXNkay9ub2RlX21vZHVsZXMvQGV0aGVyc3Byb2plY3Qvc3RyaW5ncy9saWIuZXNtL3V0ZjguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFBYTtBQUNtQztBQUNEO0FBQ1Y7QUFDckMsbUJBQW1CLHlEQUFNLENBQUMsNkNBQU87QUFDakM7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsNERBQTREO0FBQzdEO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnREFBZ0Q7QUFDaEQ7QUFDQTtBQUNBO0FBQ0EsZ0RBQWdEO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBLGdEQUFnRDtBQUNoRDtBQUNBLENBQUMsMENBQTBDO0FBQzNDO0FBQ0E7QUFDQSxvRUFBb0UsU0FBUyxFQUFFLE9BQU87QUFDdEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQyxrQkFBa0I7QUFDbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtRUFBbUU7QUFDbkU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSw4REFBUTtBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQjtBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsaUJBQWlCO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsZ0JBQWdCO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsOERBQVE7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ087QUFDUDtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Ac2UtMi9uZXh0anMvLi4vLi4vbm9kZV9tb2R1bGVzL0B1bmlzd2FwL3YyLXNkay9ub2RlX21vZHVsZXMvQGV0aGVyc3Byb2plY3Qvc3RyaW5ncy9saWIuZXNtL3V0ZjguanM/MzAwZSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbmltcG9ydCB7IGFycmF5aWZ5IH0gZnJvbSBcIkBldGhlcnNwcm9qZWN0L2J5dGVzXCI7XG5pbXBvcnQgeyBMb2dnZXIgfSBmcm9tIFwiQGV0aGVyc3Byb2plY3QvbG9nZ2VyXCI7XG5pbXBvcnQgeyB2ZXJzaW9uIH0gZnJvbSBcIi4vX3ZlcnNpb25cIjtcbmNvbnN0IGxvZ2dlciA9IG5ldyBMb2dnZXIodmVyc2lvbik7XG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5leHBvcnQgdmFyIFVuaWNvZGVOb3JtYWxpemF0aW9uRm9ybTtcbihmdW5jdGlvbiAoVW5pY29kZU5vcm1hbGl6YXRpb25Gb3JtKSB7XG4gICAgVW5pY29kZU5vcm1hbGl6YXRpb25Gb3JtW1wiY3VycmVudFwiXSA9IFwiXCI7XG4gICAgVW5pY29kZU5vcm1hbGl6YXRpb25Gb3JtW1wiTkZDXCJdID0gXCJORkNcIjtcbiAgICBVbmljb2RlTm9ybWFsaXphdGlvbkZvcm1bXCJORkRcIl0gPSBcIk5GRFwiO1xuICAgIFVuaWNvZGVOb3JtYWxpemF0aW9uRm9ybVtcIk5GS0NcIl0gPSBcIk5GS0NcIjtcbiAgICBVbmljb2RlTm9ybWFsaXphdGlvbkZvcm1bXCJORktEXCJdID0gXCJORktEXCI7XG59KShVbmljb2RlTm9ybWFsaXphdGlvbkZvcm0gfHwgKFVuaWNvZGVOb3JtYWxpemF0aW9uRm9ybSA9IHt9KSk7XG47XG5leHBvcnQgdmFyIFV0ZjhFcnJvclJlYXNvbjtcbihmdW5jdGlvbiAoVXRmOEVycm9yUmVhc29uKSB7XG4gICAgLy8gQSBjb250aW51YXRpb24gYnl0ZSB3YXMgcHJlc2VudCB3aGVyZSB0aGVyZSB3YXMgbm90aGluZyB0byBjb250aW51ZVxuICAgIC8vIC0gb2Zmc2V0ID0gdGhlIGluZGV4IHRoZSBjb2RlcG9pbnQgYmVnYW4gaW5cbiAgICBVdGY4RXJyb3JSZWFzb25bXCJVTkVYUEVDVEVEX0NPTlRJTlVFXCJdID0gXCJ1bmV4cGVjdGVkIGNvbnRpbnVhdGlvbiBieXRlXCI7XG4gICAgLy8gQW4gaW52YWxpZCAobm9uLWNvbnRpbnVhdGlvbikgYnl0ZSB0byBzdGFydCBhIFVURi04IGNvZGVwb2ludCB3YXMgZm91bmRcbiAgICAvLyAtIG9mZnNldCA9IHRoZSBpbmRleCB0aGUgY29kZXBvaW50IGJlZ2FuIGluXG4gICAgVXRmOEVycm9yUmVhc29uW1wiQkFEX1BSRUZJWFwiXSA9IFwiYmFkIGNvZGVwb2ludCBwcmVmaXhcIjtcbiAgICAvLyBUaGUgc3RyaW5nIGlzIHRvbyBzaG9ydCB0byBwcm9jZXNzIHRoZSBleHBlY3RlZCBjb2RlcG9pbnRcbiAgICAvLyAtIG9mZnNldCA9IHRoZSBpbmRleCB0aGUgY29kZXBvaW50IGJlZ2FuIGluXG4gICAgVXRmOEVycm9yUmVhc29uW1wiT1ZFUlJVTlwiXSA9IFwic3RyaW5nIG92ZXJydW5cIjtcbiAgICAvLyBBIG1pc3NpbmcgY29udGludWF0aW9uIGJ5dGUgd2FzIGV4cGVjdGVkIGJ1dCBub3QgZm91bmRcbiAgICAvLyAtIG9mZnNldCA9IHRoZSBpbmRleCB0aGUgY29udGludWF0aW9uIGJ5dGUgd2FzIGV4cGVjdGVkIGF0XG4gICAgVXRmOEVycm9yUmVhc29uW1wiTUlTU0lOR19DT05USU5VRVwiXSA9IFwibWlzc2luZyBjb250aW51YXRpb24gYnl0ZVwiO1xuICAgIC8vIFRoZSBjb21wdXRlZCBjb2RlIHBvaW50IGlzIG91dHNpZGUgdGhlIHJhbmdlIGZvciBVVEYtOFxuICAgIC8vIC0gb2Zmc2V0ICAgICAgID0gc3RhcnQgb2YgdGhpcyBjb2RlcG9pbnRcbiAgICAvLyAtIGJhZENvZGVwb2ludCA9IHRoZSBjb21wdXRlZCBjb2RlcG9pbnQ7IG91dHNpZGUgdGhlIFVURi04IHJhbmdlXG4gICAgVXRmOEVycm9yUmVhc29uW1wiT1VUX09GX1JBTkdFXCJdID0gXCJvdXQgb2YgVVRGLTggcmFuZ2VcIjtcbiAgICAvLyBVVEYtOCBzdHJpbmdzIG1heSBub3QgY29udGFpbiBVVEYtMTYgc3Vycm9nYXRlIHBhaXJzXG4gICAgLy8gLSBvZmZzZXQgICAgICAgPSBzdGFydCBvZiB0aGlzIGNvZGVwb2ludFxuICAgIC8vIC0gYmFkQ29kZXBvaW50ID0gdGhlIGNvbXB1dGVkIGNvZGVwb2ludDsgaW5zaWRlIHRoZSBVVEYtMTYgc3Vycm9nYXRlIHJhbmdlXG4gICAgVXRmOEVycm9yUmVhc29uW1wiVVRGMTZfU1VSUk9HQVRFXCJdID0gXCJVVEYtMTYgc3Vycm9nYXRlXCI7XG4gICAgLy8gVGhlIHN0cmluZyBpcyBhbiBvdmVybG9uZyByZXByZXNlbnRhdGlvblxuICAgIC8vIC0gb2Zmc2V0ICAgICAgID0gc3RhcnQgb2YgdGhpcyBjb2RlcG9pbnRcbiAgICAvLyAtIGJhZENvZGVwb2ludCA9IHRoZSBjb21wdXRlZCBjb2RlcG9pbnQ7IGFscmVhZHkgYm91bmRzIGNoZWNrZWRcbiAgICBVdGY4RXJyb3JSZWFzb25bXCJPVkVSTE9OR1wiXSA9IFwib3ZlcmxvbmcgcmVwcmVzZW50YXRpb25cIjtcbn0pKFV0ZjhFcnJvclJlYXNvbiB8fCAoVXRmOEVycm9yUmVhc29uID0ge30pKTtcbjtcbmZ1bmN0aW9uIGVycm9yRnVuYyhyZWFzb24sIG9mZnNldCwgYnl0ZXMsIG91dHB1dCwgYmFkQ29kZXBvaW50KSB7XG4gICAgcmV0dXJuIGxvZ2dlci50aHJvd0FyZ3VtZW50RXJyb3IoYGludmFsaWQgY29kZXBvaW50IGF0IG9mZnNldCAke29mZnNldH07ICR7cmVhc29ufWAsIFwiYnl0ZXNcIiwgYnl0ZXMpO1xufVxuZnVuY3Rpb24gaWdub3JlRnVuYyhyZWFzb24sIG9mZnNldCwgYnl0ZXMsIG91dHB1dCwgYmFkQ29kZXBvaW50KSB7XG4gICAgLy8gSWYgdGhlcmUgaXMgYW4gaW52YWxpZCBwcmVmaXggKGluY2x1ZGluZyBzdHJheSBjb250aW51YXRpb24pLCBza2lwIGFueSBhZGRpdGlvbmFsIGNvbnRpbnVhdGlvbiBieXRlc1xuICAgIGlmIChyZWFzb24gPT09IFV0ZjhFcnJvclJlYXNvbi5CQURfUFJFRklYIHx8IHJlYXNvbiA9PT0gVXRmOEVycm9yUmVhc29uLlVORVhQRUNURURfQ09OVElOVUUpIHtcbiAgICAgICAgbGV0IGkgPSAwO1xuICAgICAgICBmb3IgKGxldCBvID0gb2Zmc2V0ICsgMTsgbyA8IGJ5dGVzLmxlbmd0aDsgbysrKSB7XG4gICAgICAgICAgICBpZiAoYnl0ZXNbb10gPj4gNiAhPT0gMHgwMikge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaSsrO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpO1xuICAgIH1cbiAgICAvLyBUaGlzIGJ5dGUgcnVucyB1cyBwYXN0IHRoZSBlbmQgb2YgdGhlIHN0cmluZywgc28ganVzdCBqdW1wIHRvIHRoZSBlbmRcbiAgICAvLyAoYnV0IHRoZSBmaXJzdCBieXRlIHdhcyByZWFkIGFscmVhZHkgcmVhZCBhbmQgdGhlcmVmb3JlIHNraXBwZWQpXG4gICAgaWYgKHJlYXNvbiA9PT0gVXRmOEVycm9yUmVhc29uLk9WRVJSVU4pIHtcbiAgICAgICAgcmV0dXJuIGJ5dGVzLmxlbmd0aCAtIG9mZnNldCAtIDE7XG4gICAgfVxuICAgIC8vIE5vdGhpbmcgdG8gc2tpcFxuICAgIHJldHVybiAwO1xufVxuZnVuY3Rpb24gcmVwbGFjZUZ1bmMocmVhc29uLCBvZmZzZXQsIGJ5dGVzLCBvdXRwdXQsIGJhZENvZGVwb2ludCkge1xuICAgIC8vIE92ZXJsb25nIHJlcHJlc2VudGF0aW9ucyBhcmUgb3RoZXJ3aXNlIFwidmFsaWRcIiBjb2RlIHBvaW50czsganVzdCBub24tZGVpc3Rpbmd0aXNoZWRcbiAgICBpZiAocmVhc29uID09PSBVdGY4RXJyb3JSZWFzb24uT1ZFUkxPTkcpIHtcbiAgICAgICAgb3V0cHV0LnB1c2goYmFkQ29kZXBvaW50KTtcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgfVxuICAgIC8vIFB1dCB0aGUgcmVwbGFjZW1lbnQgY2hhcmFjdGVyIGludG8gdGhlIG91dHB1dFxuICAgIG91dHB1dC5wdXNoKDB4ZmZmZCk7XG4gICAgLy8gT3RoZXJ3aXNlLCBwcm9jZXNzIGFzIGlmIGlnbm9yaW5nIGVycm9yc1xuICAgIHJldHVybiBpZ25vcmVGdW5jKHJlYXNvbiwgb2Zmc2V0LCBieXRlcywgb3V0cHV0LCBiYWRDb2RlcG9pbnQpO1xufVxuLy8gQ29tbW9uIGVycm9yIGhhbmRpbmcgc3RyYXRlZ2llc1xuZXhwb3J0IGNvbnN0IFV0ZjhFcnJvckZ1bmNzID0gT2JqZWN0LmZyZWV6ZSh7XG4gICAgZXJyb3I6IGVycm9yRnVuYyxcbiAgICBpZ25vcmU6IGlnbm9yZUZ1bmMsXG4gICAgcmVwbGFjZTogcmVwbGFjZUZ1bmNcbn0pO1xuLy8gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8xMzM1NjQ5My9kZWNvZGUtdXRmLTgtd2l0aC1qYXZhc2NyaXB0IzEzNjkxNDk5XG5mdW5jdGlvbiBnZXRVdGY4Q29kZVBvaW50cyhieXRlcywgb25FcnJvcikge1xuICAgIGlmIChvbkVycm9yID09IG51bGwpIHtcbiAgICAgICAgb25FcnJvciA9IFV0ZjhFcnJvckZ1bmNzLmVycm9yO1xuICAgIH1cbiAgICBieXRlcyA9IGFycmF5aWZ5KGJ5dGVzKTtcbiAgICBjb25zdCByZXN1bHQgPSBbXTtcbiAgICBsZXQgaSA9IDA7XG4gICAgLy8gSW52YWxpZCBieXRlcyBhcmUgaWdub3JlZFxuICAgIHdoaWxlIChpIDwgYnl0ZXMubGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IGMgPSBieXRlc1tpKytdO1xuICAgICAgICAvLyAweHh4IHh4eHhcbiAgICAgICAgaWYgKGMgPj4gNyA9PT0gMCkge1xuICAgICAgICAgICAgcmVzdWx0LnB1c2goYyk7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBNdWx0aWJ5dGU7IGhvdyBtYW55IGJ5dGVzIGxlZnQgZm9yIHRoaXMgY2hhcmFjdGVyP1xuICAgICAgICBsZXQgZXh0cmFMZW5ndGggPSBudWxsO1xuICAgICAgICBsZXQgb3ZlcmxvbmdNYXNrID0gbnVsbDtcbiAgICAgICAgLy8gMTEweCB4eHh4IDEweHggeHh4eFxuICAgICAgICBpZiAoKGMgJiAweGUwKSA9PT0gMHhjMCkge1xuICAgICAgICAgICAgZXh0cmFMZW5ndGggPSAxO1xuICAgICAgICAgICAgb3ZlcmxvbmdNYXNrID0gMHg3ZjtcbiAgICAgICAgICAgIC8vIDExMTAgeHh4eCAxMHh4IHh4eHggMTB4eCB4eHh4XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoKGMgJiAweGYwKSA9PT0gMHhlMCkge1xuICAgICAgICAgICAgZXh0cmFMZW5ndGggPSAyO1xuICAgICAgICAgICAgb3ZlcmxvbmdNYXNrID0gMHg3ZmY7XG4gICAgICAgICAgICAvLyAxMTExIDB4eHggMTB4eCB4eHh4IDEweHggeHh4eCAxMHh4IHh4eHhcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICgoYyAmIDB4ZjgpID09PSAweGYwKSB7XG4gICAgICAgICAgICBleHRyYUxlbmd0aCA9IDM7XG4gICAgICAgICAgICBvdmVybG9uZ01hc2sgPSAweGZmZmY7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAoKGMgJiAweGMwKSA9PT0gMHg4MCkge1xuICAgICAgICAgICAgICAgIGkgKz0gb25FcnJvcihVdGY4RXJyb3JSZWFzb24uVU5FWFBFQ1RFRF9DT05USU5VRSwgaSAtIDEsIGJ5dGVzLCByZXN1bHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaSArPSBvbkVycm9yKFV0ZjhFcnJvclJlYXNvbi5CQURfUFJFRklYLCBpIC0gMSwgYnl0ZXMsIHJlc3VsdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBEbyB3ZSBoYXZlIGVub3VnaCBieXRlcyBpbiBvdXIgZGF0YT9cbiAgICAgICAgaWYgKGkgLSAxICsgZXh0cmFMZW5ndGggPj0gYnl0ZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICBpICs9IG9uRXJyb3IoVXRmOEVycm9yUmVhc29uLk9WRVJSVU4sIGkgLSAxLCBieXRlcywgcmVzdWx0KTtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIC8vIFJlbW92ZSB0aGUgbGVuZ3RoIHByZWZpeCBmcm9tIHRoZSBjaGFyXG4gICAgICAgIGxldCByZXMgPSBjICYgKCgxIDw8ICg4IC0gZXh0cmFMZW5ndGggLSAxKSkgLSAxKTtcbiAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBleHRyYUxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICBsZXQgbmV4dENoYXIgPSBieXRlc1tpXTtcbiAgICAgICAgICAgIC8vIEludmFsaWQgY29udGludWF0aW9uIGJ5dGVcbiAgICAgICAgICAgIGlmICgobmV4dENoYXIgJiAweGMwKSAhPSAweDgwKSB7XG4gICAgICAgICAgICAgICAgaSArPSBvbkVycm9yKFV0ZjhFcnJvclJlYXNvbi5NSVNTSU5HX0NPTlRJTlVFLCBpLCBieXRlcywgcmVzdWx0KTtcbiAgICAgICAgICAgICAgICByZXMgPSBudWxsO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgO1xuICAgICAgICAgICAgcmVzID0gKHJlcyA8PCA2KSB8IChuZXh0Q2hhciAmIDB4M2YpO1xuICAgICAgICAgICAgaSsrO1xuICAgICAgICB9XG4gICAgICAgIC8vIFNlZSBhYm92ZSBsb29wIGZvciBpbnZhbGlkIGNvbnRpbnVhdGlvbiBieXRlXG4gICAgICAgIGlmIChyZXMgPT09IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIC8vIE1heGltdW0gY29kZSBwb2ludFxuICAgICAgICBpZiAocmVzID4gMHgxMGZmZmYpIHtcbiAgICAgICAgICAgIGkgKz0gb25FcnJvcihVdGY4RXJyb3JSZWFzb24uT1VUX09GX1JBTkdFLCBpIC0gMSAtIGV4dHJhTGVuZ3RoLCBieXRlcywgcmVzdWx0LCByZXMpO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgLy8gUmVzZXJ2ZWQgZm9yIFVURi0xNiBzdXJyb2dhdGUgaGFsdmVzXG4gICAgICAgIGlmIChyZXMgPj0gMHhkODAwICYmIHJlcyA8PSAweGRmZmYpIHtcbiAgICAgICAgICAgIGkgKz0gb25FcnJvcihVdGY4RXJyb3JSZWFzb24uVVRGMTZfU1VSUk9HQVRFLCBpIC0gMSAtIGV4dHJhTGVuZ3RoLCBieXRlcywgcmVzdWx0LCByZXMpO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQ2hlY2sgZm9yIG92ZXJsb25nIHNlcXVlbmNlcyAobW9yZSBieXRlcyB0aGFuIG5lZWRlZClcbiAgICAgICAgaWYgKHJlcyA8PSBvdmVybG9uZ01hc2spIHtcbiAgICAgICAgICAgIGkgKz0gb25FcnJvcihVdGY4RXJyb3JSZWFzb24uT1ZFUkxPTkcsIGkgLSAxIC0gZXh0cmFMZW5ndGgsIGJ5dGVzLCByZXN1bHQsIHJlcyk7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICByZXN1bHQucHVzaChyZXMpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuLy8gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8xODcyOTQwNS9ob3ctdG8tY29udmVydC11dGY4LXN0cmluZy10by1ieXRlLWFycmF5XG5leHBvcnQgZnVuY3Rpb24gdG9VdGY4Qnl0ZXMoc3RyLCBmb3JtID0gVW5pY29kZU5vcm1hbGl6YXRpb25Gb3JtLmN1cnJlbnQpIHtcbiAgICBpZiAoZm9ybSAhPSBVbmljb2RlTm9ybWFsaXphdGlvbkZvcm0uY3VycmVudCkge1xuICAgICAgICBsb2dnZXIuY2hlY2tOb3JtYWxpemUoKTtcbiAgICAgICAgc3RyID0gc3RyLm5vcm1hbGl6ZShmb3JtKTtcbiAgICB9XG4gICAgbGV0IHJlc3VsdCA9IFtdO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc3RyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGMgPSBzdHIuY2hhckNvZGVBdChpKTtcbiAgICAgICAgaWYgKGMgPCAweDgwKSB7XG4gICAgICAgICAgICByZXN1bHQucHVzaChjKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChjIDwgMHg4MDApIHtcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKChjID4+IDYpIHwgMHhjMCk7XG4gICAgICAgICAgICByZXN1bHQucHVzaCgoYyAmIDB4M2YpIHwgMHg4MCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoKGMgJiAweGZjMDApID09IDB4ZDgwMCkge1xuICAgICAgICAgICAgaSsrO1xuICAgICAgICAgICAgY29uc3QgYzIgPSBzdHIuY2hhckNvZGVBdChpKTtcbiAgICAgICAgICAgIGlmIChpID49IHN0ci5sZW5ndGggfHwgKGMyICYgMHhmYzAwKSAhPT0gMHhkYzAwKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiaW52YWxpZCB1dGYtOCBzdHJpbmdcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBTdXJyb2dhdGUgUGFpclxuICAgICAgICAgICAgY29uc3QgcGFpciA9IDB4MTAwMDAgKyAoKGMgJiAweDAzZmYpIDw8IDEwKSArIChjMiAmIDB4MDNmZik7XG4gICAgICAgICAgICByZXN1bHQucHVzaCgocGFpciA+PiAxOCkgfCAweGYwKTtcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKCgocGFpciA+PiAxMikgJiAweDNmKSB8IDB4ODApO1xuICAgICAgICAgICAgcmVzdWx0LnB1c2goKChwYWlyID4+IDYpICYgMHgzZikgfCAweDgwKTtcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKChwYWlyICYgMHgzZikgfCAweDgwKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKChjID4+IDEyKSB8IDB4ZTApO1xuICAgICAgICAgICAgcmVzdWx0LnB1c2goKChjID4+IDYpICYgMHgzZikgfCAweDgwKTtcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKChjICYgMHgzZikgfCAweDgwKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gYXJyYXlpZnkocmVzdWx0KTtcbn1cbjtcbmZ1bmN0aW9uIGVzY2FwZUNoYXIodmFsdWUpIHtcbiAgICBjb25zdCBoZXggPSAoXCIwMDAwXCIgKyB2YWx1ZS50b1N0cmluZygxNikpO1xuICAgIHJldHVybiBcIlxcXFx1XCIgKyBoZXguc3Vic3RyaW5nKGhleC5sZW5ndGggLSA0KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBfdG9Fc2NhcGVkVXRmOFN0cmluZyhieXRlcywgb25FcnJvcikge1xuICAgIHJldHVybiAnXCInICsgZ2V0VXRmOENvZGVQb2ludHMoYnl0ZXMsIG9uRXJyb3IpLm1hcCgoY29kZVBvaW50KSA9PiB7XG4gICAgICAgIGlmIChjb2RlUG9pbnQgPCAyNTYpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoY29kZVBvaW50KSB7XG4gICAgICAgICAgICAgICAgY2FzZSA4OiByZXR1cm4gXCJcXFxcYlwiO1xuICAgICAgICAgICAgICAgIGNhc2UgOTogcmV0dXJuIFwiXFxcXHRcIjtcbiAgICAgICAgICAgICAgICBjYXNlIDEwOiByZXR1cm4gXCJcXFxcblwiO1xuICAgICAgICAgICAgICAgIGNhc2UgMTM6IHJldHVybiBcIlxcXFxyXCI7XG4gICAgICAgICAgICAgICAgY2FzZSAzNDogcmV0dXJuIFwiXFxcXFxcXCJcIjtcbiAgICAgICAgICAgICAgICBjYXNlIDkyOiByZXR1cm4gXCJcXFxcXFxcXFwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGNvZGVQb2ludCA+PSAzMiAmJiBjb2RlUG9pbnQgPCAxMjcpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZShjb2RlUG9pbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChjb2RlUG9pbnQgPD0gMHhmZmZmKSB7XG4gICAgICAgICAgICByZXR1cm4gZXNjYXBlQ2hhcihjb2RlUG9pbnQpO1xuICAgICAgICB9XG4gICAgICAgIGNvZGVQb2ludCAtPSAweDEwMDAwO1xuICAgICAgICByZXR1cm4gZXNjYXBlQ2hhcigoKGNvZGVQb2ludCA+PiAxMCkgJiAweDNmZikgKyAweGQ4MDApICsgZXNjYXBlQ2hhcigoY29kZVBvaW50ICYgMHgzZmYpICsgMHhkYzAwKTtcbiAgICB9KS5qb2luKFwiXCIpICsgJ1wiJztcbn1cbmV4cG9ydCBmdW5jdGlvbiBfdG9VdGY4U3RyaW5nKGNvZGVQb2ludHMpIHtcbiAgICByZXR1cm4gY29kZVBvaW50cy5tYXAoKGNvZGVQb2ludCkgPT4ge1xuICAgICAgICBpZiAoY29kZVBvaW50IDw9IDB4ZmZmZikge1xuICAgICAgICAgICAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUoY29kZVBvaW50KTtcbiAgICAgICAgfVxuICAgICAgICBjb2RlUG9pbnQgLT0gMHgxMDAwMDtcbiAgICAgICAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUoKCgoY29kZVBvaW50ID4+IDEwKSAmIDB4M2ZmKSArIDB4ZDgwMCksICgoY29kZVBvaW50ICYgMHgzZmYpICsgMHhkYzAwKSk7XG4gICAgfSkuam9pbihcIlwiKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiB0b1V0ZjhTdHJpbmcoYnl0ZXMsIG9uRXJyb3IpIHtcbiAgICByZXR1cm4gX3RvVXRmOFN0cmluZyhnZXRVdGY4Q29kZVBvaW50cyhieXRlcywgb25FcnJvcikpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHRvVXRmOENvZGVQb2ludHMoc3RyLCBmb3JtID0gVW5pY29kZU5vcm1hbGl6YXRpb25Gb3JtLmN1cnJlbnQpIHtcbiAgICByZXR1cm4gZ2V0VXRmOENvZGVQb2ludHModG9VdGY4Qnl0ZXMoc3RyLCBmb3JtKSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD11dGY4LmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@uniswap/v2-sdk/node_modules/@ethersproject/strings/lib.esm/utf8.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@uniswap/v2-sdk/node_modules/@uniswap/sdk-core/dist/sdk-core.esm.js":
/*!**********************************************************************************************!*\
  !*** ../../node_modules/@uniswap/v2-sdk/node_modules/@uniswap/sdk-core/dist/sdk-core.esm.js ***!
  \**********************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ARGENT_WALLET_DETECTOR_ADDRESS: () => (/* binding */ ARGENT_WALLET_DETECTOR_ADDRESS),\n/* harmony export */   CHAIN_TO_ADDRESSES_MAP: () => (/* binding */ CHAIN_TO_ADDRESSES_MAP),\n/* harmony export */   ChainId: () => (/* binding */ ChainId),\n/* harmony export */   CurrencyAmount: () => (/* binding */ CurrencyAmount),\n/* harmony export */   ENS_REGISTRAR_ADDRESSES: () => (/* binding */ ENS_REGISTRAR_ADDRESSES),\n/* harmony export */   Ether: () => (/* binding */ Ether),\n/* harmony export */   Fraction: () => (/* binding */ Fraction),\n/* harmony export */   GOVERNANCE_ALPHA_V0_ADDRESSES: () => (/* binding */ GOVERNANCE_ALPHA_V0_ADDRESSES),\n/* harmony export */   GOVERNANCE_ALPHA_V1_ADDRESSES: () => (/* binding */ GOVERNANCE_ALPHA_V1_ADDRESSES),\n/* harmony export */   GOVERNANCE_BRAVO_ADDRESSES: () => (/* binding */ GOVERNANCE_BRAVO_ADDRESSES),\n/* harmony export */   MERKLE_DISTRIBUTOR_ADDRESS: () => (/* binding */ MERKLE_DISTRIBUTOR_ADDRESS),\n/* harmony export */   MIXED_ROUTE_QUOTER_V1_ADDRESSES: () => (/* binding */ MIXED_ROUTE_QUOTER_V1_ADDRESSES),\n/* harmony export */   MULTICALL_ADDRESSES: () => (/* binding */ MULTICALL_ADDRESSES),\n/* harmony export */   MaxUint256: () => (/* binding */ MaxUint256),\n/* harmony export */   NONFUNGIBLE_POSITION_MANAGER_ADDRESSES: () => (/* binding */ NONFUNGIBLE_POSITION_MANAGER_ADDRESSES),\n/* harmony export */   NativeCurrency: () => (/* binding */ NativeCurrency),\n/* harmony export */   NativeCurrencyName: () => (/* binding */ NativeCurrencyName),\n/* harmony export */   Percent: () => (/* binding */ Percent),\n/* harmony export */   Price: () => (/* binding */ Price),\n/* harmony export */   QUOTER_ADDRESSES: () => (/* binding */ QUOTER_ADDRESSES),\n/* harmony export */   Rounding: () => (/* binding */ Rounding),\n/* harmony export */   SOCKS_CONTROLLER_ADDRESSES: () => (/* binding */ SOCKS_CONTROLLER_ADDRESSES),\n/* harmony export */   SUPPORTED_CHAINS: () => (/* binding */ SUPPORTED_CHAINS),\n/* harmony export */   SWAP_ROUTER_02_ADDRESSES: () => (/* binding */ SWAP_ROUTER_02_ADDRESSES),\n/* harmony export */   TICK_LENS_ADDRESSES: () => (/* binding */ TICK_LENS_ADDRESSES),\n/* harmony export */   TIMELOCK_ADDRESSES: () => (/* binding */ TIMELOCK_ADDRESSES),\n/* harmony export */   Token: () => (/* binding */ Token),\n/* harmony export */   TradeType: () => (/* binding */ TradeType),\n/* harmony export */   UNISWAP_NFT_AIRDROP_CLAIM_ADDRESS: () => (/* binding */ UNISWAP_NFT_AIRDROP_CLAIM_ADDRESS),\n/* harmony export */   UNI_ADDRESSES: () => (/* binding */ UNI_ADDRESSES),\n/* harmony export */   V2_FACTORY_ADDRESS: () => (/* binding */ V2_FACTORY_ADDRESS),\n/* harmony export */   V2_FACTORY_ADDRESSES: () => (/* binding */ V2_FACTORY_ADDRESSES),\n/* harmony export */   V2_ROUTER_ADDRESS: () => (/* binding */ V2_ROUTER_ADDRESS),\n/* harmony export */   V2_ROUTER_ADDRESSES: () => (/* binding */ V2_ROUTER_ADDRESSES),\n/* harmony export */   V3_CORE_FACTORY_ADDRESSES: () => (/* binding */ V3_CORE_FACTORY_ADDRESSES),\n/* harmony export */   V3_MIGRATOR_ADDRESSES: () => (/* binding */ V3_MIGRATOR_ADDRESSES),\n/* harmony export */   WETH9: () => (/* binding */ WETH9),\n/* harmony export */   computePriceImpact: () => (/* binding */ computePriceImpact),\n/* harmony export */   computeZksyncCreate2Address: () => (/* binding */ computeZksyncCreate2Address),\n/* harmony export */   sortedInsert: () => (/* binding */ sortedInsert),\n/* harmony export */   sqrt: () => (/* binding */ sqrt),\n/* harmony export */   validateAndParseAddress: () => (/* binding */ validateAndParseAddress)\n/* harmony export */ });\n/* harmony import */ var jsbi__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jsbi */ \"(ssr)/../../node_modules/jsbi/dist/jsbi.mjs\");\n/* harmony import */ var tiny_invariant__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! tiny-invariant */ \"(ssr)/../../node_modules/tiny-invariant/dist/esm/tiny-invariant.js\");\n/* harmony import */ var decimal_js_light__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! decimal.js-light */ \"(ssr)/../../node_modules/decimal.js-light/decimal.mjs\");\n/* harmony import */ var big_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! big.js */ \"(ssr)/../../node_modules/big.js/big.mjs\");\n/* harmony import */ var toformat__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! toformat */ \"(ssr)/../../node_modules/toformat/toFormat.js\");\n/* harmony import */ var toformat__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(toformat__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _ethersproject_bignumber__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @ethersproject/bignumber */ \"(ssr)/../../node_modules/@ethersproject/bignumber/lib.esm/bignumber.js\");\n/* harmony import */ var _ethersproject_address__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @ethersproject/address */ \"(ssr)/../../node_modules/@ethersproject/address/lib.esm/index.js\");\n/* harmony import */ var _ethersproject_bytes__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @ethersproject/bytes */ \"(ssr)/../../node_modules/@ethersproject/bytes/lib.esm/index.js\");\n/* harmony import */ var _ethersproject_keccak256__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @ethersproject/keccak256 */ \"(ssr)/../../node_modules/@uniswap/v2-sdk/node_modules/@ethersproject/keccak256/lib.esm/index.js\");\n/* harmony import */ var _ethersproject_strings__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @ethersproject/strings */ \"(ssr)/../../node_modules/@uniswap/v2-sdk/node_modules/@ethersproject/strings/lib.esm/utf8.js\");\n\n\n\n\n\n\n\n\n\n\n\nfunction _toPrimitive(t, r) {\n  if (\"object\" != typeof t || !t) return t;\n  var e = t[Symbol.toPrimitive];\n  if (void 0 !== e) {\n    var i = e.call(t, r || \"default\");\n    if (\"object\" != typeof i) return i;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (\"string\" === r ? String : Number)(t);\n}\nfunction _toPropertyKey(t) {\n  var i = _toPrimitive(t, \"string\");\n  return \"symbol\" == typeof i ? i : String(i);\n}\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor);\n  }\n}\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}\nfunction _extends() {\n  _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  _setPrototypeOf(subClass, superClass);\n}\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n  return _setPrototypeOf(o, p);\n}\n\nvar ChainId;\n(function (ChainId) {\n  ChainId[ChainId[\"MAINNET\"] = 1] = \"MAINNET\";\n  ChainId[ChainId[\"GOERLI\"] = 5] = \"GOERLI\";\n  ChainId[ChainId[\"SEPOLIA\"] = 11155111] = \"SEPOLIA\";\n  ChainId[ChainId[\"OPTIMISM\"] = 10] = \"OPTIMISM\";\n  ChainId[ChainId[\"OPTIMISM_GOERLI\"] = 420] = \"OPTIMISM_GOERLI\";\n  ChainId[ChainId[\"OPTIMISM_SEPOLIA\"] = 11155420] = \"OPTIMISM_SEPOLIA\";\n  ChainId[ChainId[\"ARBITRUM_ONE\"] = 42161] = \"ARBITRUM_ONE\";\n  ChainId[ChainId[\"ARBITRUM_GOERLI\"] = 421613] = \"ARBITRUM_GOERLI\";\n  ChainId[ChainId[\"ARBITRUM_SEPOLIA\"] = 421614] = \"ARBITRUM_SEPOLIA\";\n  ChainId[ChainId[\"POLYGON\"] = 137] = \"POLYGON\";\n  ChainId[ChainId[\"POLYGON_MUMBAI\"] = 80001] = \"POLYGON_MUMBAI\";\n  ChainId[ChainId[\"CELO\"] = 42220] = \"CELO\";\n  ChainId[ChainId[\"CELO_ALFAJORES\"] = 44787] = \"CELO_ALFAJORES\";\n  ChainId[ChainId[\"GNOSIS\"] = 100] = \"GNOSIS\";\n  ChainId[ChainId[\"MOONBEAM\"] = 1284] = \"MOONBEAM\";\n  ChainId[ChainId[\"BNB\"] = 56] = \"BNB\";\n  ChainId[ChainId[\"AVALANCHE\"] = 43114] = \"AVALANCHE\";\n  ChainId[ChainId[\"BASE_GOERLI\"] = 84531] = \"BASE_GOERLI\";\n  ChainId[ChainId[\"BASE\"] = 8453] = \"BASE\";\n  ChainId[ChainId[\"ZORA\"] = 7777777] = \"ZORA\";\n  ChainId[ChainId[\"ZORA_SEPOLIA\"] = 999999999] = \"ZORA_SEPOLIA\";\n  ChainId[ChainId[\"ROOTSTOCK\"] = 30] = \"ROOTSTOCK\";\n  ChainId[ChainId[\"BLAST\"] = 81457] = \"BLAST\";\n  ChainId[ChainId[\"ZKSYNC\"] = 324] = \"ZKSYNC\";\n  ChainId[ChainId[\"WORLDCHAIN\"] = 480] = \"WORLDCHAIN\";\n  ChainId[ChainId[\"ASTROCHAIN_SEPOLIA\"] = 1301] = \"ASTROCHAIN_SEPOLIA\";\n})(ChainId || (ChainId = {}));\nvar SUPPORTED_CHAINS = [ChainId.MAINNET, ChainId.OPTIMISM, ChainId.OPTIMISM_GOERLI, ChainId.OPTIMISM_SEPOLIA, ChainId.ARBITRUM_ONE, ChainId.ARBITRUM_GOERLI, ChainId.ARBITRUM_SEPOLIA, ChainId.POLYGON, ChainId.POLYGON_MUMBAI, ChainId.GOERLI, ChainId.SEPOLIA, ChainId.CELO_ALFAJORES, ChainId.CELO, ChainId.BNB, ChainId.AVALANCHE, ChainId.BASE, ChainId.BASE_GOERLI, ChainId.ZORA, ChainId.ZORA_SEPOLIA, ChainId.ROOTSTOCK, ChainId.BLAST, ChainId.ZKSYNC, ChainId.WORLDCHAIN, ChainId.ASTROCHAIN_SEPOLIA];\nvar NativeCurrencyName;\n(function (NativeCurrencyName) {\n  // Strings match input for CLI\n  NativeCurrencyName[\"ETHER\"] = \"ETH\";\n  NativeCurrencyName[\"MATIC\"] = \"MATIC\";\n  NativeCurrencyName[\"CELO\"] = \"CELO\";\n  NativeCurrencyName[\"GNOSIS\"] = \"XDAI\";\n  NativeCurrencyName[\"MOONBEAM\"] = \"GLMR\";\n  NativeCurrencyName[\"BNB\"] = \"BNB\";\n  NativeCurrencyName[\"AVAX\"] = \"AVAX\";\n  NativeCurrencyName[\"ROOTSTOCK\"] = \"RBTC\";\n})(NativeCurrencyName || (NativeCurrencyName = {}));\n\nvar _V2_FACTORY_ADDRESSES, _V2_ROUTER_ADDRESSES, _CHAIN_TO_ADDRESSES_M, _GOVERNANCE_ALPHA_V1_, _GOVERNANCE_BRAVO_ADD, _MERKLE_DISTRIBUTOR_A, _ARGENT_WALLET_DETECT, _SOCKS_CONTROLLER_ADD;\nvar DEFAULT_NETWORKS = [ChainId.MAINNET, ChainId.GOERLI, ChainId.SEPOLIA];\nfunction constructSameAddressMap(address, additionalNetworks) {\n  if (additionalNetworks === void 0) {\n    additionalNetworks = [];\n  }\n  return DEFAULT_NETWORKS.concat(additionalNetworks).reduce(function (memo, chainId) {\n    memo[chainId] = address;\n    return memo;\n  }, {});\n}\nvar UNI_ADDRESSES = /*#__PURE__*/constructSameAddressMap('0x1f9840a85d5aF5bf1D1762F925BDADdC4201F984', [ChainId.OPTIMISM, ChainId.ARBITRUM_ONE, ChainId.POLYGON, ChainId.POLYGON_MUMBAI, ChainId.SEPOLIA]);\nvar UNISWAP_NFT_AIRDROP_CLAIM_ADDRESS = '0x8B799381ac40b838BBA4131ffB26197C432AFe78';\n/**\r\n * @deprecated use V2_FACTORY_ADDRESSES instead\r\n */\nvar V2_FACTORY_ADDRESS = '0x5C69bEe701ef814a2B6a3EDD4B1652CB9cc5aA6f';\nvar V2_FACTORY_ADDRESSES = (_V2_FACTORY_ADDRESSES = {}, _V2_FACTORY_ADDRESSES[ChainId.MAINNET] = '0x5C69bEe701ef814a2B6a3EDD4B1652CB9cc5aA6f', _V2_FACTORY_ADDRESSES[ChainId.GOERLI] = '0x5C69bEe701ef814a2B6a3EDD4B1652CB9cc5aA6f', _V2_FACTORY_ADDRESSES[ChainId.SEPOLIA] = '0xF62c03E08ada871A0bEb309762E260a7a6a880E6', _V2_FACTORY_ADDRESSES[ChainId.OPTIMISM] = '0x0c3c1c532F1e39EdF36BE9Fe0bE1410313E074Bf', _V2_FACTORY_ADDRESSES[ChainId.ARBITRUM_ONE] = '0xf1D7CC64Fb4452F05c498126312eBE29f30Fbcf9', _V2_FACTORY_ADDRESSES[ChainId.AVALANCHE] = '0x9e5A52f57b3038F1B8EeE45F28b3C1967e22799C', _V2_FACTORY_ADDRESSES[ChainId.BASE] = '0x8909dc15e40173ff4699343b6eb8132c65e18ec6', _V2_FACTORY_ADDRESSES[ChainId.BNB] = '0x8909Dc15e40173Ff4699343b6eB8132c65e18eC6', _V2_FACTORY_ADDRESSES[ChainId.POLYGON] = '0x9e5A52f57b3038F1B8EeE45F28b3C1967e22799C', _V2_FACTORY_ADDRESSES[ChainId.CELO] = '0x79a530c8e2fA8748B7B40dd3629C0520c2cCf03f', _V2_FACTORY_ADDRESSES[ChainId.BLAST] = '0x5C346464d33F90bABaf70dB6388507CC889C1070', _V2_FACTORY_ADDRESSES[ChainId.WORLDCHAIN] = '0x5C69bEe701ef814a2B6a3EDD4B1652CB9cc5aA6f', _V2_FACTORY_ADDRESSES[ChainId.ASTROCHAIN_SEPOLIA] = '0x5C69bEe701ef814a2B6a3EDD4B1652CB9cc5aA6f', _V2_FACTORY_ADDRESSES);\n/**\r\n * @deprecated use V2_ROUTER_ADDRESSES instead\r\n */\nvar V2_ROUTER_ADDRESS = '0x7a250d5630B4cF539739dF2C5dAcb4c659F2488D';\nvar V2_ROUTER_ADDRESSES = (_V2_ROUTER_ADDRESSES = {}, _V2_ROUTER_ADDRESSES[ChainId.MAINNET] = '0x7a250d5630B4cF539739dF2C5dAcb4c659F2488D', _V2_ROUTER_ADDRESSES[ChainId.GOERLI] = '0x7a250d5630B4cF539739dF2C5dAcb4c659F2488D', _V2_ROUTER_ADDRESSES[ChainId.SEPOLIA] = '0xeE567Fe1712Faf6149d80dA1E6934E354124CfE3', _V2_ROUTER_ADDRESSES[ChainId.ARBITRUM_ONE] = '0x4752ba5dbc23f44d87826276bf6fd6b1c372ad24', _V2_ROUTER_ADDRESSES[ChainId.OPTIMISM] = '0x4a7b5da61326a6379179b40d00f57e5bbdc962c2', _V2_ROUTER_ADDRESSES[ChainId.BASE] = '0x4752ba5dbc23f44d87826276bf6fd6b1c372ad24', _V2_ROUTER_ADDRESSES[ChainId.AVALANCHE] = '0x4752ba5dbc23f44d87826276bf6fd6b1c372ad24', _V2_ROUTER_ADDRESSES[ChainId.BNB] = '0x4752ba5dbc23f44d87826276bf6fd6b1c372ad24', _V2_ROUTER_ADDRESSES[ChainId.POLYGON] = '0xedf6066a2b290c185783862c7f4776a2c8077ad1', _V2_ROUTER_ADDRESSES[ChainId.BLAST] = '0xBB66Eb1c5e875933D44DAe661dbD80e5D9B03035', _V2_ROUTER_ADDRESSES[ChainId.WORLDCHAIN] = '0x541aB7c31A119441eF3575F6973277DE0eF460bd', _V2_ROUTER_ADDRESSES[ChainId.ASTROCHAIN_SEPOLIA] = '0x920b806E40A00E02E7D2b94fFc89860fDaEd3640', _V2_ROUTER_ADDRESSES);\n// Networks that share most of the same addresses i.e. Mainnet, Goerli, Optimism, Arbitrum, Polygon\nvar DEFAULT_ADDRESSES = {\n  v3CoreFactoryAddress: '0x1F98431c8aD98523631AE4a59f267346ea31F984',\n  multicallAddress: '0x1F98415757620B543A52E61c46B32eB19261F984',\n  quoterAddress: '0xb27308f9F90D607463bb33eA1BeBb41C27CE5AB6',\n  v3MigratorAddress: '0xA5644E29708357803b5A882D272c41cC0dF92B34',\n  nonfungiblePositionManagerAddress: '0xC36442b4a4522E871399CD717aBDD847Ab11FE88'\n};\nvar MAINNET_ADDRESSES = /*#__PURE__*/_extends({}, DEFAULT_ADDRESSES, {\n  mixedRouteQuoterV1Address: '0x84E44095eeBfEC7793Cd7d5b57B7e401D7f1cA2E'\n});\nvar GOERLI_ADDRESSES = /*#__PURE__*/_extends({}, DEFAULT_ADDRESSES, {\n  mixedRouteQuoterV1Address: '0xBa60b6e6fF25488308789E6e0A65D838be34194e'\n});\nvar OPTIMISM_ADDRESSES = DEFAULT_ADDRESSES;\nvar ARBITRUM_ONE_ADDRESSES = /*#__PURE__*/_extends({}, DEFAULT_ADDRESSES, {\n  multicallAddress: '0xadF885960B47eA2CD9B55E6DAc6B42b7Cb2806dB',\n  tickLensAddress: '0xbfd8137f7d1516D3ea5cA83523914859ec47F573'\n});\nvar POLYGON_ADDRESSES = DEFAULT_ADDRESSES;\n// celo v3 addresses\nvar CELO_ADDRESSES = {\n  v3CoreFactoryAddress: '0xAfE208a311B21f13EF87E33A90049fC17A7acDEc',\n  multicallAddress: '0x633987602DE5C4F337e3DbF265303A1080324204',\n  quoterAddress: '0x82825d0554fA07f7FC52Ab63c961F330fdEFa8E8',\n  v3MigratorAddress: '0x3cFd4d48EDfDCC53D3f173F596f621064614C582',\n  nonfungiblePositionManagerAddress: '0x3d79EdAaBC0EaB6F08ED885C05Fc0B014290D95A',\n  tickLensAddress: '0x5f115D9113F88e0a0Db1b5033D90D4a9690AcD3D'\n};\n// BNB v3 addresses\nvar BNB_ADDRESSES = {\n  v3CoreFactoryAddress: '0xdB1d10011AD0Ff90774D0C6Bb92e5C5c8b4461F7',\n  multicallAddress: '0x963Df249eD09c358A4819E39d9Cd5736c3087184',\n  quoterAddress: '0x78D78E420Da98ad378D7799bE8f4AF69033EB077',\n  v3MigratorAddress: '0x32681814957e0C13117ddc0c2aba232b5c9e760f',\n  nonfungiblePositionManagerAddress: '0x7b8A01B39D58278b5DE7e48c8449c9f4F5170613',\n  tickLensAddress: '0xD9270014D396281579760619CCf4c3af0501A47C',\n  swapRouter02Address: '0xB971eF87ede563556b2ED4b1C0b0019111Dd85d2'\n};\n// optimism goerli addresses\nvar OPTIMISM_GOERLI_ADDRESSES = {\n  v3CoreFactoryAddress: '0xB656dA17129e7EB733A557f4EBc57B76CFbB5d10',\n  multicallAddress: '0x07F2D8a2a02251B62af965f22fC4744A5f96BCCd',\n  quoterAddress: '0x9569CbA925c8ca2248772A9A4976A516743A246F',\n  v3MigratorAddress: '0xf6c55fBe84B1C8c3283533c53F51bC32F5C7Aba8',\n  nonfungiblePositionManagerAddress: '0x39Ca85Af2F383190cBf7d7c41ED9202D27426EF6',\n  tickLensAddress: '0xe6140Bd164b63E8BfCfc40D5dF952f83e171758e'\n};\n// optimism sepolia addresses\nvar OPTIMISM_SEPOLIA_ADDRESSES = {\n  v3CoreFactoryAddress: '0x8CE191193D15ea94e11d327b4c7ad8bbE520f6aF',\n  multicallAddress: '0x80e4e06841bb76AA9735E0448cB8d003C0EF009a',\n  quoterAddress: '0x0FBEa6cf957d95ee9313490050F6A0DA68039404',\n  v3MigratorAddress: '0xE7EcbAAaA54D007A00dbb6c1d2f150066D69dA07',\n  nonfungiblePositionManagerAddress: '0xdA75cEf1C93078e8b736FCA5D5a30adb97C8957d',\n  tickLensAddress: '0xCb7f54747F58F8944973cea5b8f4ac2209BadDC5',\n  swapRouter02Address: '0x94cC0AaC535CCDB3C01d6787D6413C739ae12bc4'\n};\n// arbitrum goerli v3 addresses\nvar ARBITRUM_GOERLI_ADDRESSES = {\n  v3CoreFactoryAddress: '0x4893376342d5D7b3e31d4184c08b265e5aB2A3f6',\n  multicallAddress: '0x8260CB40247290317a4c062F3542622367F206Ee',\n  quoterAddress: '0x1dd92b83591781D0C6d98d07391eea4b9a6008FA',\n  v3MigratorAddress: '0xA815919D2584Ac3F76ea9CB62E6Fd40a43BCe0C3',\n  nonfungiblePositionManagerAddress: '0x622e4726a167799826d1E1D150b076A7725f5D81',\n  tickLensAddress: '0xb52429333da969a0C79a60930a4Bf0020E5D1DE8'\n};\n// arbitrum sepolia v3 addresses\nvar ARBITRUM_SEPOLIA_ADDRESSES = {\n  v3CoreFactoryAddress: '0x248AB79Bbb9bC29bB72f7Cd42F17e054Fc40188e',\n  multicallAddress: '0x2B718b475e385eD29F56775a66aAB1F5cC6B2A0A',\n  quoterAddress: '0x2779a0CC1c3e0E44D2542EC3e79e3864Ae93Ef0B',\n  v3MigratorAddress: '0x398f43ef2c67B941147157DA1c5a868E906E043D',\n  nonfungiblePositionManagerAddress: '0x6b2937Bde17889EDCf8fbD8dE31C3C2a70Bc4d65',\n  tickLensAddress: '0x0fd18587734e5C2dcE2dccDcC7DD1EC89ba557d9',\n  swapRouter02Address: '0x101F443B4d1b059569D643917553c771E1b9663E'\n};\n// sepolia v3 addresses\nvar SEPOLIA_ADDRESSES = {\n  v3CoreFactoryAddress: '0x0227628f3F023bb0B980b67D528571c95c6DaC1c',\n  multicallAddress: '0xD7F33bCdb21b359c8ee6F0251d30E94832baAd07',\n  quoterAddress: '0xEd1f6473345F45b75F8179591dd5bA1888cf2FB3',\n  v3MigratorAddress: '0x729004182cF005CEC8Bd85df140094b6aCbe8b15',\n  nonfungiblePositionManagerAddress: '0x1238536071E1c677A632429e3655c799b22cDA52',\n  tickLensAddress: '0xd7f33bcdb21b359c8ee6f0251d30e94832baad07',\n  swapRouter02Address: '0x3bFA4769FB09eefC5a80d6E87c3B9C650f7Ae48E',\n  // TODO: update mixedRouteQuoterV2Address once v4 on sepolia redeployed\n  mixedRouteQuoterV2Address: '0x4745f77b56a0e2294426e3936dc4fab68d9543cd',\n  // TODO: update all below once v4 on sepolia redeployed\n  v4PoolManagerAddress: '0x8C4BcBE6b9eF47855f97E675296FA3F6fafa5F1A',\n  v4PositionManagerAddress: '0x1B1C77B606d13b09C84d1c7394B96b147bC03147',\n  v4StateView: '0x823d45b1329bcF3b369F08F36ba2690Ff8e058C3',\n  v4QuoterAddress: '0xCd8716395D55aD17496448a4b2C42557001e9743'\n};\n// Avalanche v3 addresses\nvar AVALANCHE_ADDRESSES = {\n  v3CoreFactoryAddress: '0x740b1c1de25031C31FF4fC9A62f554A55cdC1baD',\n  multicallAddress: '0x0139141Cd4Ee88dF3Cdb65881D411bAE271Ef0C2',\n  quoterAddress: '0xbe0F5544EC67e9B3b2D979aaA43f18Fd87E6257F',\n  v3MigratorAddress: '0x44f5f1f5E452ea8d29C890E8F6e893fC0f1f0f97',\n  nonfungiblePositionManagerAddress: '0x655C406EBFa14EE2006250925e54ec43AD184f8B',\n  tickLensAddress: '0xEB9fFC8bf81b4fFd11fb6A63a6B0f098c6e21950',\n  swapRouter02Address: '0xbb00FF08d01D300023C629E8fFfFcb65A5a578cE'\n};\nvar BASE_ADDRESSES = {\n  v3CoreFactoryAddress: '0x33128a8fC17869897dcE68Ed026d694621f6FDfD',\n  multicallAddress: '0x091e99cb1C49331a94dD62755D168E941AbD0693',\n  quoterAddress: '0x3d4e44Eb1374240CE5F1B871ab261CD16335B76a',\n  v3MigratorAddress: '0x23cF10b1ee3AdfCA73B0eF17C07F7577e7ACd2d7',\n  nonfungiblePositionManagerAddress: '0x03a520b32C04BF3bEEf7BEb72E919cf822Ed34f1',\n  tickLensAddress: '0x0CdeE061c75D43c82520eD998C23ac2991c9ac6d',\n  swapRouter02Address: '0x2626664c2603336E57B271c5C0b26F421741e481',\n  mixedRouteQuoterV1Address: '0xe544efae946f0008ae9a8d64493efa7886b73776'\n};\n// Base Goerli v3 addresses\nvar BASE_GOERLI_ADDRESSES = {\n  v3CoreFactoryAddress: '0x9323c1d6D800ed51Bd7C6B216cfBec678B7d0BC2',\n  multicallAddress: '0xB206027a9E0E13F05eBEFa5D2402Bab3eA716439',\n  quoterAddress: '0xedf539058e28E5937dAef3f69cEd0b25fbE66Ae9',\n  v3MigratorAddress: '0x3efe5d02a04b7351D671Db7008ec6eBA9AD9e3aE',\n  nonfungiblePositionManagerAddress: '0x3c61369ef0D1D2AFa70d8feC2F31C5D6Ce134F30',\n  tickLensAddress: '0x1acB873Ee909D0c98adB18e4474943249F931b92',\n  swapRouter02Address: '0x8357227D4eDc78991Db6FDB9bD6ADE250536dE1d'\n};\nvar ZORA_ADDRESSES = {\n  v3CoreFactoryAddress: '0x7145F8aeef1f6510E92164038E1B6F8cB2c42Cbb',\n  multicallAddress: '0xA51c76bEE6746cB487a7e9312E43e2b8f4A37C15',\n  quoterAddress: '0x11867e1b3348F3ce4FcC170BC5af3d23E07E64Df',\n  v3MigratorAddress: '0x048352d8dCF13686982C799da63fA6426a9D0b60',\n  nonfungiblePositionManagerAddress: '0xbC91e8DfA3fF18De43853372A3d7dfe585137D78',\n  tickLensAddress: '0x209AAda09D74Ad3B8D0E92910Eaf85D2357e3044',\n  swapRouter02Address: '0x7De04c96BE5159c3b5CeffC82aa176dc81281557'\n};\nvar ZORA_SEPOLIA_ADDRESSES = {\n  v3CoreFactoryAddress: '0x4324A677D74764f46f33ED447964252441aA8Db6',\n  multicallAddress: '0xA1E7e3A69671C4494EC59Dbd442de930a93F911A',\n  quoterAddress: '0xC195976fEF0985886E37036E2DF62bF371E12Df0',\n  v3MigratorAddress: '0x65ef259b31bf1d977c37e9434658694267674897',\n  nonfungiblePositionManagerAddress: '0xB8458EaAe43292e3c1F7994EFd016bd653d23c20',\n  tickLensAddress: '0x23C0F71877a1Fc4e20A78018f9831365c85f3064'\n};\nvar ROOTSTOCK_ADDRESSES = {\n  v3CoreFactoryAddress: '0xaF37EC98A00FD63689CF3060BF3B6784E00caD82',\n  multicallAddress: '0x996a9858cDfa45Ad68E47c9A30a7201E29c6a386',\n  quoterAddress: '0xb51727c996C68E60F598A923a5006853cd2fEB31',\n  v3MigratorAddress: '0x16678977CA4ec3DAD5efc7b15780295FE5f56162',\n  nonfungiblePositionManagerAddress: '0x9d9386c042F194B460Ec424a1e57ACDE25f5C4b1',\n  tickLensAddress: '0x55B9dF5bF68ADe972191a91980459f48ecA16afC',\n  swapRouter02Address: '0x0B14ff67f0014046b4b99057Aec4509640b3947A'\n};\nvar BLAST_ADDRESSES = {\n  v3CoreFactoryAddress: '0x792edAdE80af5fC680d96a2eD80A44247D2Cf6Fd',\n  multicallAddress: '0xdC7f370de7631cE9e2c2e1DCDA6B3B5744Cf4705',\n  quoterAddress: '0x6Cdcd65e03c1CEc3730AeeCd45bc140D57A25C77',\n  v3MigratorAddress: '0x15CA7043CD84C5D21Ae76Ba0A1A967d42c40ecE0',\n  nonfungiblePositionManagerAddress: '0xB218e4f7cF0533d4696fDfC419A0023D33345F28',\n  tickLensAddress: '0x2E95185bCdD928a3e984B7e2D6560Ab1b17d7274',\n  swapRouter02Address: '0x549FEB8c9bd4c12Ad2AB27022dA12492aC452B66'\n};\nvar ZKSYNC_ADDRESSES = {\n  v3CoreFactoryAddress: '0x8FdA5a7a8dCA67BBcDd10F02Fa0649A937215422',\n  multicallAddress: '0x0c68a7C72f074d1c45C16d41fa74eEbC6D16a65C',\n  quoterAddress: '0x8Cb537fc92E26d8EBBb760E632c95484b6Ea3e28',\n  v3MigratorAddress: '0x611841b24E43C4ACfd290B427a3D6cf1A59dac8E',\n  nonfungiblePositionManagerAddress: '0x0616e5762c1E7Dc3723c50663dF10a162D690a86',\n  tickLensAddress: '0xe10FF11b809f8EE07b056B452c3B2caa7FE24f89',\n  swapRouter02Address: '0x99c56385daBCE3E81d8499d0b8d0257aBC07E8A3'\n};\nvar WORLDCHAIN_ADDRESSES = {\n  v3CoreFactoryAddress: '0x7a5028BDa40e7B173C278C5342087826455ea25a',\n  multicallAddress: '0x0a22c04215c97E3F532F4eF30e0aD9458792dAB9',\n  quoterAddress: '0x10158D43e6cc414deE1Bd1eB0EfC6a5cBCfF244c',\n  v3MigratorAddress: '0x9EBDdCBa71C9027E1eB45135672a30bcFEec9de3',\n  nonfungiblePositionManagerAddress: '0xec12a9F9a09f50550686363766Cc153D03c27b5e',\n  tickLensAddress: '0xE61df0CaC9d85876aCE5E3037005D80943570623',\n  swapRouter02Address: '0x091AD9e2e6e5eD44c1c66dB50e49A601F9f36cF6'\n};\nvar ASTROCHAIN_SEPOLIA_ADDRESSES = {\n  v3CoreFactoryAddress: '0x1F98431c8aD98523631AE4a59f267346ea31F984',\n  multicallAddress: '0x9D0F15f2cf58655fDDcD1EE6129C547fDaeD01b1',\n  quoterAddress: '0x6Dd37329A1A225a6Fca658265D460423DCafBF89',\n  v3MigratorAddress: '0xb5FA244C9d6D04B2FBac84418b3c4910ED1Ae5f2',\n  nonfungiblePositionManagerAddress: '0xB7F724d6dDDFd008eFf5cc2834edDE5F9eF0d075',\n  tickLensAddress: '0x5f739c790a48E97eec0efb81bab5D152c0A0ecA0',\n  swapRouter02Address: '0xd1AAE39293221B77B0C71fBD6dCb7Ea29Bb5B166',\n  v4PoolManagerAddress: '0x38EB8B22Df3Ae7fb21e92881151B365Df14ba967',\n  v4PositionManagerAddress: '0x05deD3F8a8e84700d68A4D81cd6780c982dB13F9',\n  v4StateView: '0xad328439DCa7ce857662afA4584A3d571bbDDC75',\n  v4QuoterAddress: '0x2cfa87651D3AB05Bc59E325E5eaC8495CF34cE55'\n};\nvar CHAIN_TO_ADDRESSES_MAP = (_CHAIN_TO_ADDRESSES_M = {}, _CHAIN_TO_ADDRESSES_M[ChainId.MAINNET] = MAINNET_ADDRESSES, _CHAIN_TO_ADDRESSES_M[ChainId.OPTIMISM] = OPTIMISM_ADDRESSES, _CHAIN_TO_ADDRESSES_M[ChainId.ARBITRUM_ONE] = ARBITRUM_ONE_ADDRESSES, _CHAIN_TO_ADDRESSES_M[ChainId.POLYGON] = POLYGON_ADDRESSES, _CHAIN_TO_ADDRESSES_M[ChainId.POLYGON_MUMBAI] = POLYGON_ADDRESSES, _CHAIN_TO_ADDRESSES_M[ChainId.GOERLI] = GOERLI_ADDRESSES, _CHAIN_TO_ADDRESSES_M[ChainId.CELO] = CELO_ADDRESSES, _CHAIN_TO_ADDRESSES_M[ChainId.CELO_ALFAJORES] = CELO_ADDRESSES, _CHAIN_TO_ADDRESSES_M[ChainId.BNB] = BNB_ADDRESSES, _CHAIN_TO_ADDRESSES_M[ChainId.OPTIMISM_GOERLI] = OPTIMISM_GOERLI_ADDRESSES, _CHAIN_TO_ADDRESSES_M[ChainId.OPTIMISM_SEPOLIA] = OPTIMISM_SEPOLIA_ADDRESSES, _CHAIN_TO_ADDRESSES_M[ChainId.ARBITRUM_GOERLI] = ARBITRUM_GOERLI_ADDRESSES, _CHAIN_TO_ADDRESSES_M[ChainId.ARBITRUM_SEPOLIA] = ARBITRUM_SEPOLIA_ADDRESSES, _CHAIN_TO_ADDRESSES_M[ChainId.SEPOLIA] = SEPOLIA_ADDRESSES, _CHAIN_TO_ADDRESSES_M[ChainId.AVALANCHE] = AVALANCHE_ADDRESSES, _CHAIN_TO_ADDRESSES_M[ChainId.BASE] = BASE_ADDRESSES, _CHAIN_TO_ADDRESSES_M[ChainId.BASE_GOERLI] = BASE_GOERLI_ADDRESSES, _CHAIN_TO_ADDRESSES_M[ChainId.ZORA] = ZORA_ADDRESSES, _CHAIN_TO_ADDRESSES_M[ChainId.ZORA_SEPOLIA] = ZORA_SEPOLIA_ADDRESSES, _CHAIN_TO_ADDRESSES_M[ChainId.ROOTSTOCK] = ROOTSTOCK_ADDRESSES, _CHAIN_TO_ADDRESSES_M[ChainId.BLAST] = BLAST_ADDRESSES, _CHAIN_TO_ADDRESSES_M[ChainId.ZKSYNC] = ZKSYNC_ADDRESSES, _CHAIN_TO_ADDRESSES_M[ChainId.WORLDCHAIN] = WORLDCHAIN_ADDRESSES, _CHAIN_TO_ADDRESSES_M[ChainId.ASTROCHAIN_SEPOLIA] = ASTROCHAIN_SEPOLIA_ADDRESSES, _CHAIN_TO_ADDRESSES_M);\n/* V3 Contract Addresses */\nvar V3_CORE_FACTORY_ADDRESSES = /*#__PURE__*/_extends({}, /*#__PURE__*/SUPPORTED_CHAINS.reduce(function (memo, chainId) {\n  memo[chainId] = CHAIN_TO_ADDRESSES_MAP[chainId].v3CoreFactoryAddress;\n  return memo;\n}, {}));\nvar V3_MIGRATOR_ADDRESSES = /*#__PURE__*/_extends({}, /*#__PURE__*/SUPPORTED_CHAINS.reduce(function (memo, chainId) {\n  var v3MigratorAddress = CHAIN_TO_ADDRESSES_MAP[chainId].v3MigratorAddress;\n  if (v3MigratorAddress) {\n    memo[chainId] = v3MigratorAddress;\n  }\n  return memo;\n}, {}));\nvar MULTICALL_ADDRESSES = /*#__PURE__*/_extends({}, /*#__PURE__*/SUPPORTED_CHAINS.reduce(function (memo, chainId) {\n  memo[chainId] = CHAIN_TO_ADDRESSES_MAP[chainId].multicallAddress;\n  return memo;\n}, {}));\n/**\r\n * The oldest V0 governance address\r\n */\nvar GOVERNANCE_ALPHA_V0_ADDRESSES = /*#__PURE__*/constructSameAddressMap('0x5e4be8Bc9637f0EAA1A755019e06A68ce081D58F');\n/**\r\n * The older V1 governance address\r\n */\nvar GOVERNANCE_ALPHA_V1_ADDRESSES = (_GOVERNANCE_ALPHA_V1_ = {}, _GOVERNANCE_ALPHA_V1_[ChainId.MAINNET] = '0xC4e172459f1E7939D522503B81AFAaC1014CE6F6', _GOVERNANCE_ALPHA_V1_);\n/**\r\n * The latest governor bravo that is currently admin of timelock\r\n */\nvar GOVERNANCE_BRAVO_ADDRESSES = (_GOVERNANCE_BRAVO_ADD = {}, _GOVERNANCE_BRAVO_ADD[ChainId.MAINNET] = '0x408ED6354d4973f66138C91495F2f2FCbd8724C3', _GOVERNANCE_BRAVO_ADD);\nvar TIMELOCK_ADDRESSES = /*#__PURE__*/constructSameAddressMap('0x1a9C8182C09F50C8318d769245beA52c32BE35BC');\nvar MERKLE_DISTRIBUTOR_ADDRESS = (_MERKLE_DISTRIBUTOR_A = {}, _MERKLE_DISTRIBUTOR_A[ChainId.MAINNET] = '0x090D4613473dEE047c3f2706764f49E0821D256e', _MERKLE_DISTRIBUTOR_A);\nvar ARGENT_WALLET_DETECTOR_ADDRESS = (_ARGENT_WALLET_DETECT = {}, _ARGENT_WALLET_DETECT[ChainId.MAINNET] = '0xeca4B0bDBf7c55E9b7925919d03CbF8Dc82537E8', _ARGENT_WALLET_DETECT);\nvar QUOTER_ADDRESSES = /*#__PURE__*/_extends({}, /*#__PURE__*/SUPPORTED_CHAINS.reduce(function (memo, chainId) {\n  memo[chainId] = CHAIN_TO_ADDRESSES_MAP[chainId].quoterAddress;\n  return memo;\n}, {}));\nvar NONFUNGIBLE_POSITION_MANAGER_ADDRESSES = /*#__PURE__*/_extends({}, /*#__PURE__*/SUPPORTED_CHAINS.reduce(function (memo, chainId) {\n  var nonfungiblePositionManagerAddress = CHAIN_TO_ADDRESSES_MAP[chainId].nonfungiblePositionManagerAddress;\n  if (nonfungiblePositionManagerAddress) {\n    memo[chainId] = nonfungiblePositionManagerAddress;\n  }\n  return memo;\n}, {}));\nvar ENS_REGISTRAR_ADDRESSES = /*#__PURE__*/_extends({}, /*#__PURE__*/constructSameAddressMap('0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e'));\nvar SOCKS_CONTROLLER_ADDRESSES = (_SOCKS_CONTROLLER_ADD = {}, _SOCKS_CONTROLLER_ADD[ChainId.MAINNET] = '0x65770b5283117639760beA3F867b69b3697a91dd', _SOCKS_CONTROLLER_ADD);\nvar TICK_LENS_ADDRESSES = /*#__PURE__*/_extends({}, /*#__PURE__*/SUPPORTED_CHAINS.reduce(function (memo, chainId) {\n  var tickLensAddress = CHAIN_TO_ADDRESSES_MAP[chainId].tickLensAddress;\n  if (tickLensAddress) {\n    memo[chainId] = tickLensAddress;\n  }\n  return memo;\n}, {}));\nvar MIXED_ROUTE_QUOTER_V1_ADDRESSES = /*#__PURE__*/SUPPORTED_CHAINS.reduce(function (memo, chainId) {\n  var mixedRouteQuoterV1Address = CHAIN_TO_ADDRESSES_MAP[chainId].mixedRouteQuoterV1Address;\n  if (mixedRouteQuoterV1Address) {\n    memo[chainId] = mixedRouteQuoterV1Address;\n  }\n  return memo;\n}, {});\nvar SWAP_ROUTER_02_ADDRESSES = function SWAP_ROUTER_02_ADDRESSES(chainId) {\n  if (SUPPORTED_CHAINS.includes(chainId)) {\n    var _CHAIN_TO_ADDRESSES_M2;\n    var id = chainId;\n    return (_CHAIN_TO_ADDRESSES_M2 = CHAIN_TO_ADDRESSES_MAP[id].swapRouter02Address) != null ? _CHAIN_TO_ADDRESSES_M2 : '0x68b3465833fb72A70ecDF485E0e4C7bD8665Fc45';\n  }\n  return '';\n};\n\nvar TradeType;\n(function (TradeType) {\n  TradeType[TradeType[\"EXACT_INPUT\"] = 0] = \"EXACT_INPUT\";\n  TradeType[TradeType[\"EXACT_OUTPUT\"] = 1] = \"EXACT_OUTPUT\";\n})(TradeType || (TradeType = {}));\nvar Rounding;\n(function (Rounding) {\n  Rounding[Rounding[\"ROUND_DOWN\"] = 0] = \"ROUND_DOWN\";\n  Rounding[Rounding[\"ROUND_HALF_UP\"] = 1] = \"ROUND_HALF_UP\";\n  Rounding[Rounding[\"ROUND_UP\"] = 2] = \"ROUND_UP\";\n})(Rounding || (Rounding = {}));\nvar MaxUint256 = /*#__PURE__*/jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].BigInt('0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff');\n\nvar _toSignificantRoundin, _toFixedRounding;\nvar Decimal = /*#__PURE__*/toformat__WEBPACK_IMPORTED_MODULE_4___default()(decimal_js_light__WEBPACK_IMPORTED_MODULE_2__[\"default\"]);\nvar Big = /*#__PURE__*/toformat__WEBPACK_IMPORTED_MODULE_4___default()(big_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"]);\nvar toSignificantRounding = (_toSignificantRoundin = {}, _toSignificantRoundin[Rounding.ROUND_DOWN] = Decimal.ROUND_DOWN, _toSignificantRoundin[Rounding.ROUND_HALF_UP] = Decimal.ROUND_HALF_UP, _toSignificantRoundin[Rounding.ROUND_UP] = Decimal.ROUND_UP, _toSignificantRoundin);\nvar toFixedRounding = (_toFixedRounding = {}, _toFixedRounding[Rounding.ROUND_DOWN] = 0, _toFixedRounding[Rounding.ROUND_HALF_UP] = 1, _toFixedRounding[Rounding.ROUND_UP] = 3, _toFixedRounding);\nvar Fraction = /*#__PURE__*/function () {\n  function Fraction(numerator, denominator) {\n    if (denominator === void 0) {\n      denominator = jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].BigInt(1);\n    }\n    this.numerator = jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].BigInt(numerator);\n    this.denominator = jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].BigInt(denominator);\n  }\n  Fraction.tryParseFraction = function tryParseFraction(fractionish) {\n    if (fractionish instanceof jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"] || typeof fractionish === 'number' || typeof fractionish === 'string') return new Fraction(fractionish);\n    if ('numerator' in fractionish && 'denominator' in fractionish) return fractionish;\n    throw new Error('Could not parse fraction');\n  }\n  // performs floor division\n  ;\n  var _proto = Fraction.prototype;\n  _proto.invert = function invert() {\n    return new Fraction(this.denominator, this.numerator);\n  };\n  _proto.add = function add(other) {\n    var otherParsed = Fraction.tryParseFraction(other);\n    if (jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].equal(this.denominator, otherParsed.denominator)) {\n      return new Fraction(jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].add(this.numerator, otherParsed.numerator), this.denominator);\n    }\n    return new Fraction(jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].add(jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].multiply(this.numerator, otherParsed.denominator), jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].multiply(otherParsed.numerator, this.denominator)), jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].multiply(this.denominator, otherParsed.denominator));\n  };\n  _proto.subtract = function subtract(other) {\n    var otherParsed = Fraction.tryParseFraction(other);\n    if (jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].equal(this.denominator, otherParsed.denominator)) {\n      return new Fraction(jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].subtract(this.numerator, otherParsed.numerator), this.denominator);\n    }\n    return new Fraction(jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].subtract(jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].multiply(this.numerator, otherParsed.denominator), jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].multiply(otherParsed.numerator, this.denominator)), jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].multiply(this.denominator, otherParsed.denominator));\n  };\n  _proto.lessThan = function lessThan(other) {\n    var otherParsed = Fraction.tryParseFraction(other);\n    return jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].lessThan(jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].multiply(this.numerator, otherParsed.denominator), jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].multiply(otherParsed.numerator, this.denominator));\n  };\n  _proto.equalTo = function equalTo(other) {\n    var otherParsed = Fraction.tryParseFraction(other);\n    return jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].equal(jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].multiply(this.numerator, otherParsed.denominator), jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].multiply(otherParsed.numerator, this.denominator));\n  };\n  _proto.greaterThan = function greaterThan(other) {\n    var otherParsed = Fraction.tryParseFraction(other);\n    return jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].greaterThan(jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].multiply(this.numerator, otherParsed.denominator), jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].multiply(otherParsed.numerator, this.denominator));\n  };\n  _proto.multiply = function multiply(other) {\n    var otherParsed = Fraction.tryParseFraction(other);\n    return new Fraction(jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].multiply(this.numerator, otherParsed.numerator), jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].multiply(this.denominator, otherParsed.denominator));\n  };\n  _proto.divide = function divide(other) {\n    var otherParsed = Fraction.tryParseFraction(other);\n    return new Fraction(jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].multiply(this.numerator, otherParsed.denominator), jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].multiply(this.denominator, otherParsed.numerator));\n  };\n  _proto.toSignificant = function toSignificant(significantDigits, format, rounding) {\n    if (format === void 0) {\n      format = {\n        groupSeparator: ''\n      };\n    }\n    if (rounding === void 0) {\n      rounding = Rounding.ROUND_HALF_UP;\n    }\n    !Number.isInteger(significantDigits) ?  true ? (0,tiny_invariant__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(false, significantDigits + \" is not an integer.\") : 0 : void 0;\n    !(significantDigits > 0) ?  true ? (0,tiny_invariant__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(false, significantDigits + \" is not positive.\") : 0 : void 0;\n    Decimal.set({\n      precision: significantDigits + 1,\n      rounding: toSignificantRounding[rounding]\n    });\n    var quotient = new Decimal(this.numerator.toString()).div(this.denominator.toString()).toSignificantDigits(significantDigits);\n    return quotient.toFormat(quotient.decimalPlaces(), format);\n  };\n  _proto.toFixed = function toFixed(decimalPlaces, format, rounding) {\n    if (format === void 0) {\n      format = {\n        groupSeparator: ''\n      };\n    }\n    if (rounding === void 0) {\n      rounding = Rounding.ROUND_HALF_UP;\n    }\n    !Number.isInteger(decimalPlaces) ?  true ? (0,tiny_invariant__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(false, decimalPlaces + \" is not an integer.\") : 0 : void 0;\n    !(decimalPlaces >= 0) ?  true ? (0,tiny_invariant__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(false, decimalPlaces + \" is negative.\") : 0 : void 0;\n    Big.DP = decimalPlaces;\n    Big.RM = toFixedRounding[rounding];\n    return new Big(this.numerator.toString()).div(this.denominator.toString()).toFormat(decimalPlaces, format);\n  }\n  /**\r\n   * Helper method for converting any super class back to a fraction\r\n   */;\n  _createClass(Fraction, [{\n    key: \"quotient\",\n    get: function get() {\n      return jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].divide(this.numerator, this.denominator);\n    }\n    // remainder after floor division\n  }, {\n    key: \"remainder\",\n    get: function get() {\n      return new Fraction(jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].remainder(this.numerator, this.denominator), this.denominator);\n    }\n  }, {\n    key: \"asFraction\",\n    get: function get() {\n      return new Fraction(this.numerator, this.denominator);\n    }\n  }]);\n  return Fraction;\n}();\n\nvar Big$1 = /*#__PURE__*/toformat__WEBPACK_IMPORTED_MODULE_4___default()(big_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"]);\nvar CurrencyAmount = /*#__PURE__*/function (_Fraction) {\n  _inheritsLoose(CurrencyAmount, _Fraction);\n  function CurrencyAmount(currency, numerator, denominator) {\n    var _this;\n    _this = _Fraction.call(this, numerator, denominator) || this;\n    !jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].lessThanOrEqual(_this.quotient, MaxUint256) ?  true ? (0,tiny_invariant__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(false, 'AMOUNT') : 0 : void 0;\n    _this.currency = currency;\n    _this.decimalScale = jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].exponentiate(jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].BigInt(10), jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].BigInt(currency.decimals));\n    return _this;\n  }\n  /**\r\n   * Returns a new currency amount instance from the unitless amount of token, i.e. the raw amount\r\n   * @param currency the currency in the amount\r\n   * @param rawAmount the raw token or ether amount\r\n   */\n  CurrencyAmount.fromRawAmount = function fromRawAmount(currency, rawAmount) {\n    return new CurrencyAmount(currency, rawAmount);\n  }\n  /**\r\n   * Construct a currency amount with a denominator that is not equal to 1\r\n   * @param currency the currency\r\n   * @param numerator the numerator of the fractional token amount\r\n   * @param denominator the denominator of the fractional token amount\r\n   */;\n  CurrencyAmount.fromFractionalAmount = function fromFractionalAmount(currency, numerator, denominator) {\n    return new CurrencyAmount(currency, numerator, denominator);\n  };\n  var _proto = CurrencyAmount.prototype;\n  _proto.add = function add(other) {\n    !this.currency.equals(other.currency) ?  true ? (0,tiny_invariant__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(false, 'CURRENCY') : 0 : void 0;\n    var added = _Fraction.prototype.add.call(this, other);\n    return CurrencyAmount.fromFractionalAmount(this.currency, added.numerator, added.denominator);\n  };\n  _proto.subtract = function subtract(other) {\n    !this.currency.equals(other.currency) ?  true ? (0,tiny_invariant__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(false, 'CURRENCY') : 0 : void 0;\n    var subtracted = _Fraction.prototype.subtract.call(this, other);\n    return CurrencyAmount.fromFractionalAmount(this.currency, subtracted.numerator, subtracted.denominator);\n  };\n  _proto.multiply = function multiply(other) {\n    var multiplied = _Fraction.prototype.multiply.call(this, other);\n    return CurrencyAmount.fromFractionalAmount(this.currency, multiplied.numerator, multiplied.denominator);\n  };\n  _proto.divide = function divide(other) {\n    var divided = _Fraction.prototype.divide.call(this, other);\n    return CurrencyAmount.fromFractionalAmount(this.currency, divided.numerator, divided.denominator);\n  };\n  _proto.toSignificant = function toSignificant(significantDigits, format, rounding) {\n    if (significantDigits === void 0) {\n      significantDigits = 6;\n    }\n    if (rounding === void 0) {\n      rounding = Rounding.ROUND_DOWN;\n    }\n    return _Fraction.prototype.divide.call(this, this.decimalScale).toSignificant(significantDigits, format, rounding);\n  };\n  _proto.toFixed = function toFixed(decimalPlaces, format, rounding) {\n    if (decimalPlaces === void 0) {\n      decimalPlaces = this.currency.decimals;\n    }\n    if (rounding === void 0) {\n      rounding = Rounding.ROUND_DOWN;\n    }\n    !(decimalPlaces <= this.currency.decimals) ?  true ? (0,tiny_invariant__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(false, 'DECIMALS') : 0 : void 0;\n    return _Fraction.prototype.divide.call(this, this.decimalScale).toFixed(decimalPlaces, format, rounding);\n  };\n  _proto.toExact = function toExact(format) {\n    if (format === void 0) {\n      format = {\n        groupSeparator: ''\n      };\n    }\n    Big$1.DP = this.currency.decimals;\n    return new Big$1(this.quotient.toString()).div(this.decimalScale.toString()).toFormat(format);\n  };\n  _createClass(CurrencyAmount, [{\n    key: \"wrapped\",\n    get: function get() {\n      if (this.currency.isToken) return this;\n      return CurrencyAmount.fromFractionalAmount(this.currency.wrapped, this.numerator, this.denominator);\n    }\n  }]);\n  return CurrencyAmount;\n}(Fraction);\n\nvar ONE_HUNDRED = /*#__PURE__*/new Fraction( /*#__PURE__*/jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].BigInt(100));\n/**\r\n * Converts a fraction to a percent\r\n * @param fraction the fraction to convert\r\n */\nfunction toPercent(fraction) {\n  return new Percent(fraction.numerator, fraction.denominator);\n}\nvar Percent = /*#__PURE__*/function (_Fraction) {\n  _inheritsLoose(Percent, _Fraction);\n  function Percent() {\n    var _this;\n    _this = _Fraction.apply(this, arguments) || this;\n    /**\r\n     * This boolean prevents a fraction from being interpreted as a Percent\r\n     */\n    _this.isPercent = true;\n    return _this;\n  }\n  var _proto = Percent.prototype;\n  _proto.add = function add(other) {\n    return toPercent(_Fraction.prototype.add.call(this, other));\n  };\n  _proto.subtract = function subtract(other) {\n    return toPercent(_Fraction.prototype.subtract.call(this, other));\n  };\n  _proto.multiply = function multiply(other) {\n    return toPercent(_Fraction.prototype.multiply.call(this, other));\n  };\n  _proto.divide = function divide(other) {\n    return toPercent(_Fraction.prototype.divide.call(this, other));\n  };\n  _proto.toSignificant = function toSignificant(significantDigits, format, rounding) {\n    if (significantDigits === void 0) {\n      significantDigits = 5;\n    }\n    return _Fraction.prototype.multiply.call(this, ONE_HUNDRED).toSignificant(significantDigits, format, rounding);\n  };\n  _proto.toFixed = function toFixed(decimalPlaces, format, rounding) {\n    if (decimalPlaces === void 0) {\n      decimalPlaces = 2;\n    }\n    return _Fraction.prototype.multiply.call(this, ONE_HUNDRED).toFixed(decimalPlaces, format, rounding);\n  };\n  return Percent;\n}(Fraction);\n\nvar Price = /*#__PURE__*/function (_Fraction) {\n  _inheritsLoose(Price, _Fraction);\n  /**\r\n   * Construct a price, either with the base and quote currency amount, or the\r\n   * @param args\r\n   */\n  function Price() {\n    var _this;\n    var baseCurrency, quoteCurrency, denominator, numerator;\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    if (args.length === 4) {\n      baseCurrency = args[0];\n      quoteCurrency = args[1];\n      denominator = args[2];\n      numerator = args[3];\n    } else {\n      var result = args[0].quoteAmount.divide(args[0].baseAmount);\n      var _ref = [args[0].baseAmount.currency, args[0].quoteAmount.currency, result.denominator, result.numerator];\n      baseCurrency = _ref[0];\n      quoteCurrency = _ref[1];\n      denominator = _ref[2];\n      numerator = _ref[3];\n    }\n    _this = _Fraction.call(this, numerator, denominator) || this;\n    _this.baseCurrency = baseCurrency;\n    _this.quoteCurrency = quoteCurrency;\n    _this.scalar = new Fraction(jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].exponentiate(jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].BigInt(10), jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].BigInt(baseCurrency.decimals)), jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].exponentiate(jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].BigInt(10), jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].BigInt(quoteCurrency.decimals)));\n    return _this;\n  }\n  /**\r\n   * Flip the price, switching the base and quote currency\r\n   */\n  var _proto = Price.prototype;\n  _proto.invert = function invert() {\n    return new Price(this.quoteCurrency, this.baseCurrency, this.numerator, this.denominator);\n  }\n  /**\r\n   * Multiply the price by another price, returning a new price. The other price must have the same base currency as this price's quote currency\r\n   * @param other the other price\r\n   */;\n  _proto.multiply = function multiply(other) {\n    !this.quoteCurrency.equals(other.baseCurrency) ?  true ? (0,tiny_invariant__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(false, 'TOKEN') : 0 : void 0;\n    var fraction = _Fraction.prototype.multiply.call(this, other);\n    return new Price(this.baseCurrency, other.quoteCurrency, fraction.denominator, fraction.numerator);\n  }\n  /**\r\n   * Return the amount of quote currency corresponding to a given amount of the base currency\r\n   * @param currencyAmount the amount of base currency to quote against the price\r\n   */;\n  _proto.quote = function quote(currencyAmount) {\n    !currencyAmount.currency.equals(this.baseCurrency) ?  true ? (0,tiny_invariant__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(false, 'TOKEN') : 0 : void 0;\n    var result = _Fraction.prototype.multiply.call(this, currencyAmount);\n    return CurrencyAmount.fromFractionalAmount(this.quoteCurrency, result.numerator, result.denominator);\n  }\n  /**\r\n   * Get the value scaled by decimals for formatting\r\n   * @private\r\n   */;\n  _proto.toSignificant = function toSignificant(significantDigits, format, rounding) {\n    if (significantDigits === void 0) {\n      significantDigits = 6;\n    }\n    return this.adjustedForDecimals.toSignificant(significantDigits, format, rounding);\n  };\n  _proto.toFixed = function toFixed(decimalPlaces, format, rounding) {\n    if (decimalPlaces === void 0) {\n      decimalPlaces = 4;\n    }\n    return this.adjustedForDecimals.toFixed(decimalPlaces, format, rounding);\n  };\n  _createClass(Price, [{\n    key: \"adjustedForDecimals\",\n    get: function get() {\n      return _Fraction.prototype.multiply.call(this, this.scalar);\n    }\n  }]);\n  return Price;\n}(Fraction);\n\n/**\r\n * A currency is any fungible financial instrument, including Ether, all ERC20 tokens, and other chain-native currencies\r\n */\nvar BaseCurrency =\n/**\r\n * Constructs an instance of the base class `BaseCurrency`.\r\n * @param chainId the chain ID on which this currency resides\r\n * @param decimals decimals of the currency\r\n * @param symbol symbol of the currency\r\n * @param name of the currency\r\n */\nfunction BaseCurrency(chainId, decimals, symbol, name) {\n  !Number.isSafeInteger(chainId) ?  true ? (0,tiny_invariant__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(false, 'CHAIN_ID') : 0 : void 0;\n  !(decimals >= 0 && decimals < 255 && Number.isInteger(decimals)) ?  true ? (0,tiny_invariant__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(false, 'DECIMALS') : 0 : void 0;\n  this.chainId = chainId;\n  this.decimals = decimals;\n  this.symbol = symbol;\n  this.name = name;\n};\n\n/**\r\n * Represents the native currency of the chain on which it resides, e.g.\r\n */\nvar NativeCurrency = /*#__PURE__*/function (_BaseCurrency) {\n  _inheritsLoose(NativeCurrency, _BaseCurrency);\n  function NativeCurrency() {\n    var _this;\n    _this = _BaseCurrency.apply(this, arguments) || this;\n    _this.isNative = true;\n    _this.isToken = false;\n    return _this;\n  }\n  return NativeCurrency;\n}(BaseCurrency);\n\n/**\r\n * Validates an address and returns the parsed (checksummed) version of that address\r\n * @param address the unchecksummed hex address\r\n */\nfunction validateAndParseAddress(address) {\n  try {\n    return (0,_ethersproject_address__WEBPACK_IMPORTED_MODULE_5__.getAddress)(address);\n  } catch (error) {\n    throw new Error(address + \" is not a valid address.\");\n  }\n}\n// Checks a string starts with 0x, is 42 characters long and contains only hex characters after 0x\nvar startsWith0xLen42HexRegex = /^0x[0-9a-fA-F]{40}$/;\n/**\r\n * Checks if an address is valid by checking 0x prefix, length === 42 and hex encoding.\r\n * @param address the unchecksummed hex address\r\n */\nfunction checkValidAddress(address) {\n  if (startsWith0xLen42HexRegex.test(address)) {\n    return address;\n  }\n  throw new Error(address + \" is not a valid address.\");\n}\n\n/**\r\n * Represents an ERC20 token with a unique address and some metadata.\r\n */\nvar Token = /*#__PURE__*/function (_BaseCurrency) {\n  _inheritsLoose(Token, _BaseCurrency);\n  /**\r\n   *\r\n   * @param chainId {@link BaseCurrency#chainId}\r\n   * @param address The contract address on the chain on which this token lives\r\n   * @param decimals {@link BaseCurrency#decimals}\r\n   * @param symbol {@link BaseCurrency#symbol}\r\n   * @param name {@link BaseCurrency#name}\r\n   * @param bypassChecksum If true it only checks for length === 42, startsWith 0x and contains only hex characters\r\n   * @param buyFeeBps Buy fee tax for FOT tokens, in basis points\r\n   * @param sellFeeBps Sell fee tax for FOT tokens, in basis points\r\n   */\n  function Token(chainId, address, decimals, symbol, name, bypassChecksum, buyFeeBps, sellFeeBps) {\n    var _this;\n    _this = _BaseCurrency.call(this, chainId, decimals, symbol, name) || this;\n    _this.isNative = false;\n    _this.isToken = true;\n    if (bypassChecksum) {\n      _this.address = checkValidAddress(address);\n    } else {\n      _this.address = validateAndParseAddress(address);\n    }\n    if (buyFeeBps) {\n      !buyFeeBps.gte(_ethersproject_bignumber__WEBPACK_IMPORTED_MODULE_6__.BigNumber.from(0)) ?  true ? (0,tiny_invariant__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(false, 'NON-NEGATIVE FOT FEES') : 0 : void 0;\n    }\n    if (sellFeeBps) {\n      !sellFeeBps.gte(_ethersproject_bignumber__WEBPACK_IMPORTED_MODULE_6__.BigNumber.from(0)) ?  true ? (0,tiny_invariant__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(false, 'NON-NEGATIVE FOT FEES') : 0 : void 0;\n    }\n    _this.buyFeeBps = buyFeeBps;\n    _this.sellFeeBps = sellFeeBps;\n    return _this;\n  }\n  /**\r\n   * Returns true if the two tokens are equivalent, i.e. have the same chainId and address.\r\n   * @param other other token to compare\r\n   */\n  var _proto = Token.prototype;\n  _proto.equals = function equals(other) {\n    return other.isToken && this.chainId === other.chainId && this.address.toLowerCase() === other.address.toLowerCase();\n  }\n  /**\r\n   * Returns true if the address of this token sorts before the address of the other token\r\n   * @param other other token to compare\r\n   * @throws if the tokens have the same address\r\n   * @throws if the tokens are on different chains\r\n   */;\n  _proto.sortsBefore = function sortsBefore(other) {\n    !(this.chainId === other.chainId) ?  true ? (0,tiny_invariant__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(false, 'CHAIN_IDS') : 0 : void 0;\n    !(this.address.toLowerCase() !== other.address.toLowerCase()) ?  true ? (0,tiny_invariant__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(false, 'ADDRESSES') : 0 : void 0;\n    return this.address.toLowerCase() < other.address.toLowerCase();\n  }\n  /**\r\n   * Return this token, which does not need to be wrapped\r\n   */;\n  _createClass(Token, [{\n    key: \"wrapped\",\n    get: function get() {\n      return this;\n    }\n  }]);\n  return Token;\n}(BaseCurrency);\n\n/**\r\n * Known WETH9 implementation addresses, used in our implementation of Ether#wrapped\r\n */\nvar WETH9 = {\n  1: /*#__PURE__*/new Token(1, '0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2', 18, 'WETH', 'Wrapped Ether'),\n  11155111: /*#__PURE__*/new Token(11155111, '0xfFf9976782d46CC05630D1f6eBAb18b2324d6B14', 18, 'WETH', 'Wrapped Ether'),\n  3: /*#__PURE__*/new Token(3, '0xc778417E063141139Fce010982780140Aa0cD5Ab', 18, 'WETH', 'Wrapped Ether'),\n  4: /*#__PURE__*/new Token(4, '0xc778417E063141139Fce010982780140Aa0cD5Ab', 18, 'WETH', 'Wrapped Ether'),\n  5: /*#__PURE__*/new Token(5, '0xB4FBF271143F4FBf7B91A5ded31805e42b2208d6', 18, 'WETH', 'Wrapped Ether'),\n  42: /*#__PURE__*/new Token(42, '0xd0A1E359811322d97991E03f863a0C30C2cF029C', 18, 'WETH', 'Wrapped Ether'),\n  10: /*#__PURE__*/new Token(10, '0x4200000000000000000000000000000000000006', 18, 'WETH', 'Wrapped Ether'),\n  69: /*#__PURE__*/new Token(69, '0x4200000000000000000000000000000000000006', 18, 'WETH', 'Wrapped Ether'),\n  11155420: /*#__PURE__*/new Token(11155420, '0x4200000000000000000000000000000000000006', 18, 'WETH', 'Wrapped Ether'),\n  42161: /*#__PURE__*/new Token(42161, '0x82aF49447D8a07e3bd95BD0d56f35241523fBab1', 18, 'WETH', 'Wrapped Ether'),\n  421611: /*#__PURE__*/new Token(421611, '0xB47e6A5f8b33b3F17603C83a0535A9dcD7E32681', 18, 'WETH', 'Wrapped Ether'),\n  421614: /*#__PURE__*/new Token(421614, '0x980B62Da83eFf3D4576C647993b0c1D7faf17c73', 18, 'WETH', 'Wrapped Ether'),\n  8453: /*#__PURE__*/new Token(8453, '0x4200000000000000000000000000000000000006', 18, 'WETH', 'Wrapped Ether'),\n  56: /*#__PURE__*/new Token(56, '0xbb4CdB9CBd36B01bD1cBaEBF2De08d9173bc095c', 18, 'WBNB', 'Wrapped BNB'),\n  137: /*#__PURE__*/new Token(137, '0x0d500B1d8E8eF31E21C99d1Db9A6444d3ADf1270', 18, 'WMATIC', 'Wrapped MATIC'),\n  43114: /*#__PURE__*/new Token(43114, '0xB31f66AA3C1e785363F0875A1B74E27b85FD66c7', 18, 'WAVAX', 'Wrapped AVAX'),\n  7777777: /*#__PURE__*/new Token(7777777, '0x4200000000000000000000000000000000000006', 18, 'WETH', 'Wrapped Ether'),\n  81457: /*#__PURE__*/new Token(81457, '0x4300000000000000000000000000000000000004', 18, 'WETH', 'Wrapped Ether'),\n  324: /*#__PURE__*/new Token(324, '0x5AEa5775959fBC2557Cc8789bC1bf90A239D9a91', 18, 'WETH', 'Wrapped Ether'),\n  480: /*#__PURE__*/new Token(480, '0x4200000000000000000000000000000000000006', 18, 'WETH', 'Wrapped Ether'),\n  1301: /*#__PURE__*/new Token(1301, '0x4200000000000000000000000000000000000006', 18, 'WETH', 'Wrapped Ether')\n};\n\n/**\r\n * Ether is the main usage of a 'native' currency, i.e. for Ethereum mainnet and all testnets\r\n */\nvar Ether = /*#__PURE__*/function (_NativeCurrency) {\n  _inheritsLoose(Ether, _NativeCurrency);\n  function Ether(chainId) {\n    return _NativeCurrency.call(this, chainId, 18, 'ETH', 'Ether') || this;\n  }\n  Ether.onChain = function onChain(chainId) {\n    var _this$_etherCache$cha;\n    return (_this$_etherCache$cha = this._etherCache[chainId]) != null ? _this$_etherCache$cha : this._etherCache[chainId] = new Ether(chainId);\n  };\n  var _proto = Ether.prototype;\n  _proto.equals = function equals(other) {\n    return other.isNative && other.chainId === this.chainId;\n  };\n  _createClass(Ether, [{\n    key: \"wrapped\",\n    get: function get() {\n      var weth9 = WETH9[this.chainId];\n      !!!weth9 ?  true ? (0,tiny_invariant__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(false, 'WRAPPED') : 0 : void 0;\n      return weth9;\n    }\n  }]);\n  return Ether;\n}(NativeCurrency);\nEther._etherCache = {};\n\n/**\r\n * Returns the percent difference between the mid price and the execution price, i.e. price impact.\r\n * @param midPrice mid price before the trade\r\n * @param inputAmount the input amount of the trade\r\n * @param outputAmount the output amount of the trade\r\n */\nfunction computePriceImpact(midPrice, inputAmount, outputAmount) {\n  var quotedOutputAmount = midPrice.quote(inputAmount);\n  // calculate price impact := (exactQuote - outputAmount) / exactQuote\n  var priceImpact = quotedOutputAmount.subtract(outputAmount).divide(quotedOutputAmount);\n  return new Percent(priceImpact.numerator, priceImpact.denominator);\n}\n\nfunction computeZksyncCreate2Address(sender, bytecodeHash, salt, input) {\n  if (input === void 0) {\n    input = '0x';\n  }\n  var prefix = (0,_ethersproject_keccak256__WEBPACK_IMPORTED_MODULE_7__.keccak256)((0,_ethersproject_strings__WEBPACK_IMPORTED_MODULE_8__.toUtf8Bytes)('zksyncCreate2'));\n  var inputHash = (0,_ethersproject_keccak256__WEBPACK_IMPORTED_MODULE_7__.keccak256)(input);\n  var addressBytes = (0,_ethersproject_keccak256__WEBPACK_IMPORTED_MODULE_7__.keccak256)((0,_ethersproject_bytes__WEBPACK_IMPORTED_MODULE_9__.concat)([prefix, (0,_ethersproject_bytes__WEBPACK_IMPORTED_MODULE_9__.hexZeroPad)(sender, 32), salt, bytecodeHash, inputHash])).slice(26);\n  return (0,_ethersproject_address__WEBPACK_IMPORTED_MODULE_5__.getAddress)(addressBytes);\n}\n\n// given an array of items sorted by `comparator`, insert an item into its sort index and constrain the size to\n// `maxSize` by removing the last item\nfunction sortedInsert(items, add, maxSize, comparator) {\n  !(maxSize > 0) ?  true ? (0,tiny_invariant__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(false, 'MAX_SIZE_ZERO') : 0 : void 0;\n  // this is an invariant because the interface cannot return multiple removed items if items.length exceeds maxSize\n  !(items.length <= maxSize) ?  true ? (0,tiny_invariant__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(false, 'ITEMS_SIZE') : 0 : void 0;\n  // short circuit first item add\n  if (items.length === 0) {\n    items.push(add);\n    return null;\n  } else {\n    var isFull = items.length === maxSize;\n    // short circuit if full and the additional item does not come before the last item\n    if (isFull && comparator(items[items.length - 1], add) <= 0) {\n      return add;\n    }\n    var lo = 0,\n      hi = items.length;\n    while (lo < hi) {\n      var mid = lo + hi >>> 1;\n      if (comparator(items[mid], add) <= 0) {\n        lo = mid + 1;\n      } else {\n        hi = mid;\n      }\n    }\n    items.splice(lo, 0, add);\n    return isFull ? items.pop() : null;\n  }\n}\n\nvar MAX_SAFE_INTEGER = /*#__PURE__*/jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].BigInt(Number.MAX_SAFE_INTEGER);\nvar ZERO = /*#__PURE__*/jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].BigInt(0);\nvar ONE = /*#__PURE__*/jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].BigInt(1);\nvar TWO = /*#__PURE__*/jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].BigInt(2);\n/**\r\n * Computes floor(sqrt(value))\r\n * @param value the value for which to compute the square root, rounded down\r\n */\nfunction sqrt(value) {\n  !jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].greaterThanOrEqual(value, ZERO) ?  true ? (0,tiny_invariant__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(false, 'NEGATIVE') : 0 : void 0;\n  // rely on built in sqrt if possible\n  if (jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].lessThan(value, MAX_SAFE_INTEGER)) {\n    return jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].BigInt(Math.floor(Math.sqrt(jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].toNumber(value))));\n  }\n  var z;\n  var x;\n  z = value;\n  x = jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].add(jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].divide(value, TWO), ONE);\n  while (jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].lessThan(x, z)) {\n    z = x;\n    x = jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].divide(jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].add(jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].divide(value, x), x), TWO);\n  }\n  return z;\n}\n\n\n//# sourceMappingURL=sdk-core.esm.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0B1bmlzd2FwL3YyLXNkay9ub2RlX21vZHVsZXMvQHVuaXN3YXAvc2RrLWNvcmUvZGlzdC9zZGstY29yZS5lc20uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBd0I7QUFDZTtBQUNDO0FBQ2Q7QUFDTTtBQUNxQjtBQUNEO0FBQ007QUFDTDtBQUNBOztBQUVyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0Isa0JBQWtCO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixzQkFBc0I7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsMEJBQTBCO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsZ0RBQWdEOztBQUVqRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHLElBQUk7QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNEQUFzRDtBQUN0RDtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9EQUFvRDtBQUNwRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0RBQWdEO0FBQ2hEO0FBQ0EsQ0FBQztBQUNELCtDQUErQztBQUMvQztBQUNBLENBQUM7QUFDRDtBQUNBLHFEQUFxRDtBQUNyRDtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7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QUksUUFBUSw0Q0FBSSxLQUFLLDRDQUFJO0FBQ2pDO0FBQ0E7QUFDQTs7QUFFbTFCO0FBQ24xQiIsInNvdXJjZXMiOlsid2VicGFjazovL0BzZS0yL25leHRqcy8uLi8uLi9ub2RlX21vZHVsZXMvQHVuaXN3YXAvdjItc2RrL25vZGVfbW9kdWxlcy9AdW5pc3dhcC9zZGstY29yZS9kaXN0L3Nkay1jb3JlLmVzbS5qcz80OTkwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBKU0JJIGZyb20gJ2pzYmknO1xuaW1wb3J0IGludmFyaWFudCBmcm9tICd0aW55LWludmFyaWFudCc7XG5pbXBvcnQgX0RlY2ltYWwgZnJvbSAnZGVjaW1hbC5qcy1saWdodCc7XG5pbXBvcnQgX0JpZyBmcm9tICdiaWcuanMnO1xuaW1wb3J0IHRvRm9ybWF0IGZyb20gJ3RvZm9ybWF0JztcbmltcG9ydCB7IEJpZ051bWJlciB9IGZyb20gJ0BldGhlcnNwcm9qZWN0L2JpZ251bWJlcic7XG5pbXBvcnQgeyBnZXRBZGRyZXNzIH0gZnJvbSAnQGV0aGVyc3Byb2plY3QvYWRkcmVzcyc7XG5pbXBvcnQgeyBjb25jYXQsIGhleFplcm9QYWQgfSBmcm9tICdAZXRoZXJzcHJvamVjdC9ieXRlcyc7XG5pbXBvcnQgeyBrZWNjYWsyNTYgfSBmcm9tICdAZXRoZXJzcHJvamVjdC9rZWNjYWsyNTYnO1xuaW1wb3J0IHsgdG9VdGY4Qnl0ZXMgfSBmcm9tICdAZXRoZXJzcHJvamVjdC9zdHJpbmdzJztcblxuZnVuY3Rpb24gX3RvUHJpbWl0aXZlKHQsIHIpIHtcbiAgaWYgKFwib2JqZWN0XCIgIT0gdHlwZW9mIHQgfHwgIXQpIHJldHVybiB0O1xuICB2YXIgZSA9IHRbU3ltYm9sLnRvUHJpbWl0aXZlXTtcbiAgaWYgKHZvaWQgMCAhPT0gZSkge1xuICAgIHZhciBpID0gZS5jYWxsKHQsIHIgfHwgXCJkZWZhdWx0XCIpO1xuICAgIGlmIChcIm9iamVjdFwiICE9IHR5cGVvZiBpKSByZXR1cm4gaTtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIik7XG4gIH1cbiAgcmV0dXJuIChcInN0cmluZ1wiID09PSByID8gU3RyaW5nIDogTnVtYmVyKSh0KTtcbn1cbmZ1bmN0aW9uIF90b1Byb3BlcnR5S2V5KHQpIHtcbiAgdmFyIGkgPSBfdG9QcmltaXRpdmUodCwgXCJzdHJpbmdcIik7XG4gIHJldHVybiBcInN5bWJvbFwiID09IHR5cGVvZiBpID8gaSA6IFN0cmluZyhpKTtcbn1cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07XG4gICAgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlO1xuICAgIGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTtcbiAgICBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIF90b1Byb3BlcnR5S2V5KGRlc2NyaXB0b3Iua2V5KSwgZGVzY3JpcHRvcik7XG4gIH1cbn1cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHtcbiAgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7XG4gIGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KENvbnN0cnVjdG9yLCBcInByb3RvdHlwZVwiLCB7XG4gICAgd3JpdGFibGU6IGZhbHNlXG4gIH0pO1xuICByZXR1cm4gQ29uc3RydWN0b3I7XG59XG5mdW5jdGlvbiBfZXh0ZW5kcygpIHtcbiAgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduID8gT2JqZWN0LmFzc2lnbi5iaW5kKCkgOiBmdW5jdGlvbiAodGFyZ2V0KSB7XG4gICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07XG4gICAgICBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7XG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7XG4gICAgICAgICAgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdGFyZ2V0O1xuICB9O1xuICByZXR1cm4gX2V4dGVuZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn1cbmZ1bmN0aW9uIF9pbmhlcml0c0xvb3NlKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7XG4gIHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcy5wcm90b3R5cGUpO1xuICBzdWJDbGFzcy5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBzdWJDbGFzcztcbiAgX3NldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKTtcbn1cbmZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7XG4gIF9zZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZi5iaW5kKCkgOiBmdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkge1xuICAgIG8uX19wcm90b19fID0gcDtcbiAgICByZXR1cm4gbztcbiAgfTtcbiAgcmV0dXJuIF9zZXRQcm90b3R5cGVPZihvLCBwKTtcbn1cblxudmFyIENoYWluSWQ7XG4oZnVuY3Rpb24gKENoYWluSWQpIHtcbiAgQ2hhaW5JZFtDaGFpbklkW1wiTUFJTk5FVFwiXSA9IDFdID0gXCJNQUlOTkVUXCI7XG4gIENoYWluSWRbQ2hhaW5JZFtcIkdPRVJMSVwiXSA9IDVdID0gXCJHT0VSTElcIjtcbiAgQ2hhaW5JZFtDaGFpbklkW1wiU0VQT0xJQVwiXSA9IDExMTU1MTExXSA9IFwiU0VQT0xJQVwiO1xuICBDaGFpbklkW0NoYWluSWRbXCJPUFRJTUlTTVwiXSA9IDEwXSA9IFwiT1BUSU1JU01cIjtcbiAgQ2hhaW5JZFtDaGFpbklkW1wiT1BUSU1JU01fR09FUkxJXCJdID0gNDIwXSA9IFwiT1BUSU1JU01fR09FUkxJXCI7XG4gIENoYWluSWRbQ2hhaW5JZFtcIk9QVElNSVNNX1NFUE9MSUFcIl0gPSAxMTE1NTQyMF0gPSBcIk9QVElNSVNNX1NFUE9MSUFcIjtcbiAgQ2hhaW5JZFtDaGFpbklkW1wiQVJCSVRSVU1fT05FXCJdID0gNDIxNjFdID0gXCJBUkJJVFJVTV9PTkVcIjtcbiAgQ2hhaW5JZFtDaGFpbklkW1wiQVJCSVRSVU1fR09FUkxJXCJdID0gNDIxNjEzXSA9IFwiQVJCSVRSVU1fR09FUkxJXCI7XG4gIENoYWluSWRbQ2hhaW5JZFtcIkFSQklUUlVNX1NFUE9MSUFcIl0gPSA0MjE2MTRdID0gXCJBUkJJVFJVTV9TRVBPTElBXCI7XG4gIENoYWluSWRbQ2hhaW5JZFtcIlBPTFlHT05cIl0gPSAxMzddID0gXCJQT0xZR09OXCI7XG4gIENoYWluSWRbQ2hhaW5JZFtcIlBPTFlHT05fTVVNQkFJXCJdID0gODAwMDFdID0gXCJQT0xZR09OX01VTUJBSVwiO1xuICBDaGFpbklkW0NoYWluSWRbXCJDRUxPXCJdID0gNDIyMjBdID0gXCJDRUxPXCI7XG4gIENoYWluSWRbQ2hhaW5JZFtcIkNFTE9fQUxGQUpPUkVTXCJdID0gNDQ3ODddID0gXCJDRUxPX0FMRkFKT1JFU1wiO1xuICBDaGFpbklkW0NoYWluSWRbXCJHTk9TSVNcIl0gPSAxMDBdID0gXCJHTk9TSVNcIjtcbiAgQ2hhaW5JZFtDaGFpbklkW1wiTU9PTkJFQU1cIl0gPSAxMjg0XSA9IFwiTU9PTkJFQU1cIjtcbiAgQ2hhaW5JZFtDaGFpbklkW1wiQk5CXCJdID0gNTZdID0gXCJCTkJcIjtcbiAgQ2hhaW5JZFtDaGFpbklkW1wiQVZBTEFOQ0hFXCJdID0gNDMxMTRdID0gXCJBVkFMQU5DSEVcIjtcbiAgQ2hhaW5JZFtDaGFpbklkW1wiQkFTRV9HT0VSTElcIl0gPSA4NDUzMV0gPSBcIkJBU0VfR09FUkxJXCI7XG4gIENoYWluSWRbQ2hhaW5JZFtcIkJBU0VcIl0gPSA4NDUzXSA9IFwiQkFTRVwiO1xuICBDaGFpbklkW0NoYWluSWRbXCJaT1JBXCJdID0gNzc3Nzc3N10gPSBcIlpPUkFcIjtcbiAgQ2hhaW5JZFtDaGFpbklkW1wiWk9SQV9TRVBPTElBXCJdID0gOTk5OTk5OTk5XSA9IFwiWk9SQV9TRVBPTElBXCI7XG4gIENoYWluSWRbQ2hhaW5JZFtcIlJPT1RTVE9DS1wiXSA9IDMwXSA9IFwiUk9PVFNUT0NLXCI7XG4gIENoYWluSWRbQ2hhaW5JZFtcIkJMQVNUXCJdID0gODE0NTddID0gXCJCTEFTVFwiO1xuICBDaGFpbklkW0NoYWluSWRbXCJaS1NZTkNcIl0gPSAzMjRdID0gXCJaS1NZTkNcIjtcbiAgQ2hhaW5JZFtDaGFpbklkW1wiV09STERDSEFJTlwiXSA9IDQ4MF0gPSBcIldPUkxEQ0hBSU5cIjtcbiAgQ2hhaW5JZFtDaGFpbklkW1wiQVNUUk9DSEFJTl9TRVBPTElBXCJdID0gMTMwMV0gPSBcIkFTVFJPQ0hBSU5fU0VQT0xJQVwiO1xufSkoQ2hhaW5JZCB8fCAoQ2hhaW5JZCA9IHt9KSk7XG52YXIgU1VQUE9SVEVEX0NIQUlOUyA9IFtDaGFpbklkLk1BSU5ORVQsIENoYWluSWQuT1BUSU1JU00sIENoYWluSWQuT1BUSU1JU01fR09FUkxJLCBDaGFpbklkLk9QVElNSVNNX1NFUE9MSUEsIENoYWluSWQuQVJCSVRSVU1fT05FLCBDaGFpbklkLkFSQklUUlVNX0dPRVJMSSwgQ2hhaW5JZC5BUkJJVFJVTV9TRVBPTElBLCBDaGFpbklkLlBPTFlHT04sIENoYWluSWQuUE9MWUdPTl9NVU1CQUksIENoYWluSWQuR09FUkxJLCBDaGFpbklkLlNFUE9MSUEsIENoYWluSWQuQ0VMT19BTEZBSk9SRVMsIENoYWluSWQuQ0VMTywgQ2hhaW5JZC5CTkIsIENoYWluSWQuQVZBTEFOQ0hFLCBDaGFpbklkLkJBU0UsIENoYWluSWQuQkFTRV9HT0VSTEksIENoYWluSWQuWk9SQSwgQ2hhaW5JZC5aT1JBX1NFUE9MSUEsIENoYWluSWQuUk9PVFNUT0NLLCBDaGFpbklkLkJMQVNULCBDaGFpbklkLlpLU1lOQywgQ2hhaW5JZC5XT1JMRENIQUlOLCBDaGFpbklkLkFTVFJPQ0hBSU5fU0VQT0xJQV07XG52YXIgTmF0aXZlQ3VycmVuY3lOYW1lO1xuKGZ1bmN0aW9uIChOYXRpdmVDdXJyZW5jeU5hbWUpIHtcbiAgLy8gU3RyaW5ncyBtYXRjaCBpbnB1dCBmb3IgQ0xJXG4gIE5hdGl2ZUN1cnJlbmN5TmFtZVtcIkVUSEVSXCJdID0gXCJFVEhcIjtcbiAgTmF0aXZlQ3VycmVuY3lOYW1lW1wiTUFUSUNcIl0gPSBcIk1BVElDXCI7XG4gIE5hdGl2ZUN1cnJlbmN5TmFtZVtcIkNFTE9cIl0gPSBcIkNFTE9cIjtcbiAgTmF0aXZlQ3VycmVuY3lOYW1lW1wiR05PU0lTXCJdID0gXCJYREFJXCI7XG4gIE5hdGl2ZUN1cnJlbmN5TmFtZVtcIk1PT05CRUFNXCJdID0gXCJHTE1SXCI7XG4gIE5hdGl2ZUN1cnJlbmN5TmFtZVtcIkJOQlwiXSA9IFwiQk5CXCI7XG4gIE5hdGl2ZUN1cnJlbmN5TmFtZVtcIkFWQVhcIl0gPSBcIkFWQVhcIjtcbiAgTmF0aXZlQ3VycmVuY3lOYW1lW1wiUk9PVFNUT0NLXCJdID0gXCJSQlRDXCI7XG59KShOYXRpdmVDdXJyZW5jeU5hbWUgfHwgKE5hdGl2ZUN1cnJlbmN5TmFtZSA9IHt9KSk7XG5cbnZhciBfVjJfRkFDVE9SWV9BRERSRVNTRVMsIF9WMl9ST1VURVJfQUREUkVTU0VTLCBfQ0hBSU5fVE9fQUREUkVTU0VTX00sIF9HT1ZFUk5BTkNFX0FMUEhBX1YxXywgX0dPVkVSTkFOQ0VfQlJBVk9fQURELCBfTUVSS0xFX0RJU1RSSUJVVE9SX0EsIF9BUkdFTlRfV0FMTEVUX0RFVEVDVCwgX1NPQ0tTX0NPTlRST0xMRVJfQUREO1xudmFyIERFRkFVTFRfTkVUV09SS1MgPSBbQ2hhaW5JZC5NQUlOTkVULCBDaGFpbklkLkdPRVJMSSwgQ2hhaW5JZC5TRVBPTElBXTtcbmZ1bmN0aW9uIGNvbnN0cnVjdFNhbWVBZGRyZXNzTWFwKGFkZHJlc3MsIGFkZGl0aW9uYWxOZXR3b3Jrcykge1xuICBpZiAoYWRkaXRpb25hbE5ldHdvcmtzID09PSB2b2lkIDApIHtcbiAgICBhZGRpdGlvbmFsTmV0d29ya3MgPSBbXTtcbiAgfVxuICByZXR1cm4gREVGQVVMVF9ORVRXT1JLUy5jb25jYXQoYWRkaXRpb25hbE5ldHdvcmtzKS5yZWR1Y2UoZnVuY3Rpb24gKG1lbW8sIGNoYWluSWQpIHtcbiAgICBtZW1vW2NoYWluSWRdID0gYWRkcmVzcztcbiAgICByZXR1cm4gbWVtbztcbiAgfSwge30pO1xufVxudmFyIFVOSV9BRERSRVNTRVMgPSAvKiNfX1BVUkVfXyovY29uc3RydWN0U2FtZUFkZHJlc3NNYXAoJzB4MWY5ODQwYTg1ZDVhRjViZjFEMTc2MkY5MjVCREFEZEM0MjAxRjk4NCcsIFtDaGFpbklkLk9QVElNSVNNLCBDaGFpbklkLkFSQklUUlVNX09ORSwgQ2hhaW5JZC5QT0xZR09OLCBDaGFpbklkLlBPTFlHT05fTVVNQkFJLCBDaGFpbklkLlNFUE9MSUFdKTtcbnZhciBVTklTV0FQX05GVF9BSVJEUk9QX0NMQUlNX0FERFJFU1MgPSAnMHg4Qjc5OTM4MWFjNDBiODM4QkJBNDEzMWZmQjI2MTk3QzQzMkFGZTc4Jztcbi8qKlxyXG4gKiBAZGVwcmVjYXRlZCB1c2UgVjJfRkFDVE9SWV9BRERSRVNTRVMgaW5zdGVhZFxyXG4gKi9cbnZhciBWMl9GQUNUT1JZX0FERFJFU1MgPSAnMHg1QzY5YkVlNzAxZWY4MTRhMkI2YTNFREQ0QjE2NTJDQjljYzVhQTZmJztcbnZhciBWMl9GQUNUT1JZX0FERFJFU1NFUyA9IChfVjJfRkFDVE9SWV9BRERSRVNTRVMgPSB7fSwgX1YyX0ZBQ1RPUllfQUREUkVTU0VTW0NoYWluSWQuTUFJTk5FVF0gPSAnMHg1QzY5YkVlNzAxZWY4MTRhMkI2YTNFREQ0QjE2NTJDQjljYzVhQTZmJywgX1YyX0ZBQ1RPUllfQUREUkVTU0VTW0NoYWluSWQuR09FUkxJXSA9ICcweDVDNjliRWU3MDFlZjgxNGEyQjZhM0VERDRCMTY1MkNCOWNjNWFBNmYnLCBfVjJfRkFDVE9SWV9BRERSRVNTRVNbQ2hhaW5JZC5TRVBPTElBXSA9ICcweEY2MmMwM0UwOGFkYTg3MUEwYkViMzA5NzYyRTI2MGE3YTZhODgwRTYnLCBfVjJfRkFDVE9SWV9BRERSRVNTRVNbQ2hhaW5JZC5PUFRJTUlTTV0gPSAnMHgwYzNjMWM1MzJGMWUzOUVkRjM2QkU5RmUwYkUxNDEwMzEzRTA3NEJmJywgX1YyX0ZBQ1RPUllfQUREUkVTU0VTW0NoYWluSWQuQVJCSVRSVU1fT05FXSA9ICcweGYxRDdDQzY0RmI0NDUyRjA1YzQ5ODEyNjMxMmVCRTI5ZjMwRmJjZjknLCBfVjJfRkFDVE9SWV9BRERSRVNTRVNbQ2hhaW5JZC5BVkFMQU5DSEVdID0gJzB4OWU1QTUyZjU3YjMwMzhGMUI4RWVFNDVGMjhiM0MxOTY3ZTIyNzk5QycsIF9WMl9GQUNUT1JZX0FERFJFU1NFU1tDaGFpbklkLkJBU0VdID0gJzB4ODkwOWRjMTVlNDAxNzNmZjQ2OTkzNDNiNmViODEzMmM2NWUxOGVjNicsIF9WMl9GQUNUT1JZX0FERFJFU1NFU1tDaGFpbklkLkJOQl0gPSAnMHg4OTA5RGMxNWU0MDE3M0ZmNDY5OTM0M2I2ZUI4MTMyYzY1ZTE4ZUM2JywgX1YyX0ZBQ1RPUllfQUREUkVTU0VTW0NoYWluSWQuUE9MWUdPTl0gPSAnMHg5ZTVBNTJmNTdiMzAzOEYxQjhFZUU0NUYyOGIzQzE5NjdlMjI3OTlDJywgX1YyX0ZBQ1RPUllfQUREUkVTU0VTW0NoYWluSWQuQ0VMT10gPSAnMHg3OWE1MzBjOGUyZkE4NzQ4QjdCNDBkZDM2MjlDMDUyMGMyY0NmMDNmJywgX1YyX0ZBQ1RPUllfQUREUkVTU0VTW0NoYWluSWQuQkxBU1RdID0gJzB4NUMzNDY0NjRkMzNGOTBiQUJhZjcwZEI2Mzg4NTA3Q0M4ODlDMTA3MCcsIF9WMl9GQUNUT1JZX0FERFJFU1NFU1tDaGFpbklkLldPUkxEQ0hBSU5dID0gJzB4NUM2OWJFZTcwMWVmODE0YTJCNmEzRURENEIxNjUyQ0I5Y2M1YUE2ZicsIF9WMl9GQUNUT1JZX0FERFJFU1NFU1tDaGFpbklkLkFTVFJPQ0hBSU5fU0VQT0xJQV0gPSAnMHg1QzY5YkVlNzAxZWY4MTRhMkI2YTNFREQ0QjE2NTJDQjljYzVhQTZmJywgX1YyX0ZBQ1RPUllfQUREUkVTU0VTKTtcbi8qKlxyXG4gKiBAZGVwcmVjYXRlZCB1c2UgVjJfUk9VVEVSX0FERFJFU1NFUyBpbnN0ZWFkXHJcbiAqL1xudmFyIFYyX1JPVVRFUl9BRERSRVNTID0gJzB4N2EyNTBkNTYzMEI0Y0Y1Mzk3MzlkRjJDNWRBY2I0YzY1OUYyNDg4RCc7XG52YXIgVjJfUk9VVEVSX0FERFJFU1NFUyA9IChfVjJfUk9VVEVSX0FERFJFU1NFUyA9IHt9LCBfVjJfUk9VVEVSX0FERFJFU1NFU1tDaGFpbklkLk1BSU5ORVRdID0gJzB4N2EyNTBkNTYzMEI0Y0Y1Mzk3MzlkRjJDNWRBY2I0YzY1OUYyNDg4RCcsIF9WMl9ST1VURVJfQUREUkVTU0VTW0NoYWluSWQuR09FUkxJXSA9ICcweDdhMjUwZDU2MzBCNGNGNTM5NzM5ZEYyQzVkQWNiNGM2NTlGMjQ4OEQnLCBfVjJfUk9VVEVSX0FERFJFU1NFU1tDaGFpbklkLlNFUE9MSUFdID0gJzB4ZUU1NjdGZTE3MTJGYWY2MTQ5ZDgwZEExRTY5MzRFMzU0MTI0Q2ZFMycsIF9WMl9ST1VURVJfQUREUkVTU0VTW0NoYWluSWQuQVJCSVRSVU1fT05FXSA9ICcweDQ3NTJiYTVkYmMyM2Y0NGQ4NzgyNjI3NmJmNmZkNmIxYzM3MmFkMjQnLCBfVjJfUk9VVEVSX0FERFJFU1NFU1tDaGFpbklkLk9QVElNSVNNXSA9ICcweDRhN2I1ZGE2MTMyNmE2Mzc5MTc5YjQwZDAwZjU3ZTViYmRjOTYyYzInLCBfVjJfUk9VVEVSX0FERFJFU1NFU1tDaGFpbklkLkJBU0VdID0gJzB4NDc1MmJhNWRiYzIzZjQ0ZDg3ODI2Mjc2YmY2ZmQ2YjFjMzcyYWQyNCcsIF9WMl9ST1VURVJfQUREUkVTU0VTW0NoYWluSWQuQVZBTEFOQ0hFXSA9ICcweDQ3NTJiYTVkYmMyM2Y0NGQ4NzgyNjI3NmJmNmZkNmIxYzM3MmFkMjQnLCBfVjJfUk9VVEVSX0FERFJFU1NFU1tDaGFpbklkLkJOQl0gPSAnMHg0NzUyYmE1ZGJjMjNmNDRkODc4MjYyNzZiZjZmZDZiMWMzNzJhZDI0JywgX1YyX1JPVVRFUl9BRERSRVNTRVNbQ2hhaW5JZC5QT0xZR09OXSA9ICcweGVkZjYwNjZhMmIyOTBjMTg1NzgzODYyYzdmNDc3NmEyYzgwNzdhZDEnLCBfVjJfUk9VVEVSX0FERFJFU1NFU1tDaGFpbklkLkJMQVNUXSA9ICcweEJCNjZFYjFjNWU4NzU5MzNENDREQWU2NjFkYkQ4MGU1RDlCMDMwMzUnLCBfVjJfUk9VVEVSX0FERFJFU1NFU1tDaGFpbklkLldPUkxEQ0hBSU5dID0gJzB4NTQxYUI3YzMxQTExOTQ0MWVGMzU3NUY2OTczMjc3REUwZUY0NjBiZCcsIF9WMl9ST1VURVJfQUREUkVTU0VTW0NoYWluSWQuQVNUUk9DSEFJTl9TRVBPTElBXSA9ICcweDkyMGI4MDZFNDBBMDBFMDJFN0QyYjk0ZkZjODk4NjBmRGFFZDM2NDAnLCBfVjJfUk9VVEVSX0FERFJFU1NFUyk7XG4vLyBOZXR3b3JrcyB0aGF0IHNoYXJlIG1vc3Qgb2YgdGhlIHNhbWUgYWRkcmVzc2VzIGkuZS4gTWFpbm5ldCwgR29lcmxpLCBPcHRpbWlzbSwgQXJiaXRydW0sIFBvbHlnb25cbnZhciBERUZBVUxUX0FERFJFU1NFUyA9IHtcbiAgdjNDb3JlRmFjdG9yeUFkZHJlc3M6ICcweDFGOTg0MzFjOGFEOTg1MjM2MzFBRTRhNTlmMjY3MzQ2ZWEzMUY5ODQnLFxuICBtdWx0aWNhbGxBZGRyZXNzOiAnMHgxRjk4NDE1NzU3NjIwQjU0M0E1MkU2MWM0NkIzMmVCMTkyNjFGOTg0JyxcbiAgcXVvdGVyQWRkcmVzczogJzB4YjI3MzA4ZjlGOTBENjA3NDYzYmIzM2VBMUJlQmI0MUMyN0NFNUFCNicsXG4gIHYzTWlncmF0b3JBZGRyZXNzOiAnMHhBNTY0NEUyOTcwODM1NzgwM2I1QTg4MkQyNzJjNDFjQzBkRjkyQjM0JyxcbiAgbm9uZnVuZ2libGVQb3NpdGlvbk1hbmFnZXJBZGRyZXNzOiAnMHhDMzY0NDJiNGE0NTIyRTg3MTM5OUNENzE3YUJERDg0N0FiMTFGRTg4J1xufTtcbnZhciBNQUlOTkVUX0FERFJFU1NFUyA9IC8qI19fUFVSRV9fKi9fZXh0ZW5kcyh7fSwgREVGQVVMVF9BRERSRVNTRVMsIHtcbiAgbWl4ZWRSb3V0ZVF1b3RlclYxQWRkcmVzczogJzB4ODRFNDQwOTVlZUJmRUM3NzkzQ2Q3ZDViNTdCN2U0MDFEN2YxY0EyRSdcbn0pO1xudmFyIEdPRVJMSV9BRERSRVNTRVMgPSAvKiNfX1BVUkVfXyovX2V4dGVuZHMoe30sIERFRkFVTFRfQUREUkVTU0VTLCB7XG4gIG1peGVkUm91dGVRdW90ZXJWMUFkZHJlc3M6ICcweEJhNjBiNmU2ZkYyNTQ4ODMwODc4OUU2ZTBBNjVEODM4YmUzNDE5NGUnXG59KTtcbnZhciBPUFRJTUlTTV9BRERSRVNTRVMgPSBERUZBVUxUX0FERFJFU1NFUztcbnZhciBBUkJJVFJVTV9PTkVfQUREUkVTU0VTID0gLyojX19QVVJFX18qL19leHRlbmRzKHt9LCBERUZBVUxUX0FERFJFU1NFUywge1xuICBtdWx0aWNhbGxBZGRyZXNzOiAnMHhhZEY4ODU5NjBCNDdlQTJDRDlCNTVFNkRBYzZCNDJiN0NiMjgwNmRCJyxcbiAgdGlja0xlbnNBZGRyZXNzOiAnMHhiZmQ4MTM3ZjdkMTUxNkQzZWE1Y0E4MzUyMzkxNDg1OWVjNDdGNTczJ1xufSk7XG52YXIgUE9MWUdPTl9BRERSRVNTRVMgPSBERUZBVUxUX0FERFJFU1NFUztcbi8vIGNlbG8gdjMgYWRkcmVzc2VzXG52YXIgQ0VMT19BRERSRVNTRVMgPSB7XG4gIHYzQ29yZUZhY3RvcnlBZGRyZXNzOiAnMHhBZkUyMDhhMzExQjIxZjEzRUY4N0UzM0E5MDA0OWZDMTdBN2FjREVjJyxcbiAgbXVsdGljYWxsQWRkcmVzczogJzB4NjMzOTg3NjAyREU1QzRGMzM3ZTNEYkYyNjUzMDNBMTA4MDMyNDIwNCcsXG4gIHF1b3RlckFkZHJlc3M6ICcweDgyODI1ZDA1NTRmQTA3ZjdGQzUyQWI2M2M5NjFGMzMwZmRFRmE4RTgnLFxuICB2M01pZ3JhdG9yQWRkcmVzczogJzB4M2NGZDRkNDhFRGZEQ0M1M0QzZjE3M0Y1OTZmNjIxMDY0NjE0QzU4MicsXG4gIG5vbmZ1bmdpYmxlUG9zaXRpb25NYW5hZ2VyQWRkcmVzczogJzB4M2Q3OUVkQWFCQzBFYUI2RjA4RUQ4ODVDMDVGYzBCMDE0MjkwRDk1QScsXG4gIHRpY2tMZW5zQWRkcmVzczogJzB4NWYxMTVEOTExM0Y4OGUwYTBEYjFiNTAzM0Q5MEQ0YTk2OTBBY0QzRCdcbn07XG4vLyBCTkIgdjMgYWRkcmVzc2VzXG52YXIgQk5CX0FERFJFU1NFUyA9IHtcbiAgdjNDb3JlRmFjdG9yeUFkZHJlc3M6ICcweGRCMWQxMDAxMUFEMEZmOTA3NzREMEM2QmI5MmU1QzVjOGI0NDYxRjcnLFxuICBtdWx0aWNhbGxBZGRyZXNzOiAnMHg5NjNEZjI0OWVEMDljMzU4QTQ4MTlFMzlkOUNkNTczNmMzMDg3MTg0JyxcbiAgcXVvdGVyQWRkcmVzczogJzB4NzhENzhFNDIwRGE5OGFkMzc4RDc3OTliRThmNEFGNjkwMzNFQjA3NycsXG4gIHYzTWlncmF0b3JBZGRyZXNzOiAnMHgzMjY4MTgxNDk1N2UwQzEzMTE3ZGRjMGMyYWJhMjMyYjVjOWU3NjBmJyxcbiAgbm9uZnVuZ2libGVQb3NpdGlvbk1hbmFnZXJBZGRyZXNzOiAnMHg3YjhBMDFCMzlENTgyNzhiNURFN2U0OGM4NDQ5YzlmNEY1MTcwNjEzJyxcbiAgdGlja0xlbnNBZGRyZXNzOiAnMHhEOTI3MDAxNEQzOTYyODE1Nzk3NjA2MTlDQ2Y0YzNhZjA1MDFBNDdDJyxcbiAgc3dhcFJvdXRlcjAyQWRkcmVzczogJzB4Qjk3MWVGODdlZGU1NjM1NTZiMkVENGIxQzBiMDAxOTExMURkODVkMidcbn07XG4vLyBvcHRpbWlzbSBnb2VybGkgYWRkcmVzc2VzXG52YXIgT1BUSU1JU01fR09FUkxJX0FERFJFU1NFUyA9IHtcbiAgdjNDb3JlRmFjdG9yeUFkZHJlc3M6ICcweEI2NTZkQTE3MTI5ZTdFQjczM0E1NTdmNEVCYzU3Qjc2Q0ZiQjVkMTAnLFxuICBtdWx0aWNhbGxBZGRyZXNzOiAnMHgwN0YyRDhhMmEwMjI1MUI2MmFmOTY1ZjIyZkM0NzQ0QTVmOTZCQ0NkJyxcbiAgcXVvdGVyQWRkcmVzczogJzB4OTU2OUNiQTkyNWM4Y2EyMjQ4NzcyQTlBNDk3NkE1MTY3NDNBMjQ2RicsXG4gIHYzTWlncmF0b3JBZGRyZXNzOiAnMHhmNmM1NWZCZTg0QjFDOGMzMjgzNTMzYzUzRjUxYkMzMkY1QzdBYmE4JyxcbiAgbm9uZnVuZ2libGVQb3NpdGlvbk1hbmFnZXJBZGRyZXNzOiAnMHgzOUNhODVBZjJGMzgzMTkwY0JmN2Q3YzQxRUQ5MjAyRDI3NDI2RUY2JyxcbiAgdGlja0xlbnNBZGRyZXNzOiAnMHhlNjE0MEJkMTY0YjYzRThCZkNmYzQwRDVkRjk1MmY4M2UxNzE3NThlJ1xufTtcbi8vIG9wdGltaXNtIHNlcG9saWEgYWRkcmVzc2VzXG52YXIgT1BUSU1JU01fU0VQT0xJQV9BRERSRVNTRVMgPSB7XG4gIHYzQ29yZUZhY3RvcnlBZGRyZXNzOiAnMHg4Q0UxOTExOTNEMTVlYTk0ZTExZDMyN2I0YzdhZDhiYkU1MjBmNmFGJyxcbiAgbXVsdGljYWxsQWRkcmVzczogJzB4ODBlNGUwNjg0MWJiNzZBQTk3MzVFMDQ0OGNCOGQwMDNDMEVGMDA5YScsXG4gIHF1b3RlckFkZHJlc3M6ICcweDBGQkVhNmNmOTU3ZDk1ZWU5MzEzNDkwMDUwRjZBMERBNjgwMzk0MDQnLFxuICB2M01pZ3JhdG9yQWRkcmVzczogJzB4RTdFY2JBQWFBNTREMDA3QTAwZGJiNmMxZDJmMTUwMDY2RDY5ZEEwNycsXG4gIG5vbmZ1bmdpYmxlUG9zaXRpb25NYW5hZ2VyQWRkcmVzczogJzB4ZEE3NWNFZjFDOTMwNzhlOGI3MzZGQ0E1RDVhMzBhZGI5N0M4OTU3ZCcsXG4gIHRpY2tMZW5zQWRkcmVzczogJzB4Q2I3ZjU0NzQ3RjU4Rjg5NDQ5NzNjZWE1YjhmNGFjMjIwOUJhZERDNScsXG4gIHN3YXBSb3V0ZXIwMkFkZHJlc3M6ICcweDk0Y0MwQWFDNTM1Q0NEQjNDMDFkNjc4N0Q2NDEzQzczOWFlMTJiYzQnXG59O1xuLy8gYXJiaXRydW0gZ29lcmxpIHYzIGFkZHJlc3Nlc1xudmFyIEFSQklUUlVNX0dPRVJMSV9BRERSRVNTRVMgPSB7XG4gIHYzQ29yZUZhY3RvcnlBZGRyZXNzOiAnMHg0ODkzMzc2MzQyZDVEN2IzZTMxZDQxODRjMDhiMjY1ZTVhQjJBM2Y2JyxcbiAgbXVsdGljYWxsQWRkcmVzczogJzB4ODI2MENCNDAyNDcyOTAzMTdhNGMwNjJGMzU0MjYyMjM2N0YyMDZFZScsXG4gIHF1b3RlckFkZHJlc3M6ICcweDFkZDkyYjgzNTkxNzgxRDBDNmQ5OGQwNzM5MWVlYTRiOWE2MDA4RkEnLFxuICB2M01pZ3JhdG9yQWRkcmVzczogJzB4QTgxNTkxOUQyNTg0QWMzRjc2ZWE5Q0I2MkU2RmQ0MGE0M0JDZTBDMycsXG4gIG5vbmZ1bmdpYmxlUG9zaXRpb25NYW5hZ2VyQWRkcmVzczogJzB4NjIyZTQ3MjZhMTY3Nzk5ODI2ZDFFMUQxNTBiMDc2QTc3MjVmNUQ4MScsXG4gIHRpY2tMZW5zQWRkcmVzczogJzB4YjUyNDI5MzMzZGE5NjlhMEM3OWE2MDkzMGE0QmYwMDIwRTVEMURFOCdcbn07XG4vLyBhcmJpdHJ1bSBzZXBvbGlhIHYzIGFkZHJlc3Nlc1xudmFyIEFSQklUUlVNX1NFUE9MSUFfQUREUkVTU0VTID0ge1xuICB2M0NvcmVGYWN0b3J5QWRkcmVzczogJzB4MjQ4QUI3OUJiYjliQzI5YkI3MmY3Q2Q0MkYxN2UwNTRGYzQwMTg4ZScsXG4gIG11bHRpY2FsbEFkZHJlc3M6ICcweDJCNzE4YjQ3NWUzODVlRDI5RjU2Nzc1YTY2YUFCMUY1Y0M2QjJBMEEnLFxuICBxdW90ZXJBZGRyZXNzOiAnMHgyNzc5YTBDQzFjM2UwRTQ0RDI1NDJFQzNlNzllMzg2NEFlOTNFZjBCJyxcbiAgdjNNaWdyYXRvckFkZHJlc3M6ICcweDM5OGY0M2VmMmM2N0I5NDExNDcxNTdEQTFjNWE4NjhFOTA2RTA0M0QnLFxuICBub25mdW5naWJsZVBvc2l0aW9uTWFuYWdlckFkZHJlc3M6ICcweDZiMjkzN0JkZTE3ODg5RURDZjhmYkQ4ZEUzMUMzQzJhNzBCYzRkNjUnLFxuICB0aWNrTGVuc0FkZHJlc3M6ICcweDBmZDE4NTg3NzM0ZTVDMmRjRTJkY2NEY0M3REQxRUM4OWJhNTU3ZDknLFxuICBzd2FwUm91dGVyMDJBZGRyZXNzOiAnMHgxMDFGNDQzQjRkMWIwNTk1NjlENjQzOTE3NTUzYzc3MUUxYjk2NjNFJ1xufTtcbi8vIHNlcG9saWEgdjMgYWRkcmVzc2VzXG52YXIgU0VQT0xJQV9BRERSRVNTRVMgPSB7XG4gIHYzQ29yZUZhY3RvcnlBZGRyZXNzOiAnMHgwMjI3NjI4ZjNGMDIzYmIwQjk4MGI2N0Q1Mjg1NzFjOTVjNkRhQzFjJyxcbiAgbXVsdGljYWxsQWRkcmVzczogJzB4RDdGMzNiQ2RiMjFiMzU5YzhlZTZGMDI1MWQzMEU5NDgzMmJhQWQwNycsXG4gIHF1b3RlckFkZHJlc3M6ICcweEVkMWY2NDczMzQ1RjQ1Yjc1RjgxNzk1OTFkZDViQTE4ODhjZjJGQjMnLFxuICB2M01pZ3JhdG9yQWRkcmVzczogJzB4NzI5MDA0MTgyY0YwMDVDRUM4QmQ4NWRmMTQwMDk0YjZhQ2JlOGIxNScsXG4gIG5vbmZ1bmdpYmxlUG9zaXRpb25NYW5hZ2VyQWRkcmVzczogJzB4MTIzODUzNjA3MUUxYzY3N0E2MzI0MjllMzY1NWM3OTliMjJjREE1MicsXG4gIHRpY2tMZW5zQWRkcmVzczogJzB4ZDdmMzNiY2RiMjFiMzU5YzhlZTZmMDI1MWQzMGU5NDgzMmJhYWQwNycsXG4gIHN3YXBSb3V0ZXIwMkFkZHJlc3M6ICcweDNiRkE0NzY5RkIwOWVlZkM1YTgwZDZFODdjM0I5QzY1MGY3QWU0OEUnLFxuICAvLyBUT0RPOiB1cGRhdGUgbWl4ZWRSb3V0ZVF1b3RlclYyQWRkcmVzcyBvbmNlIHY0IG9uIHNlcG9saWEgcmVkZXBsb3llZFxuICBtaXhlZFJvdXRlUXVvdGVyVjJBZGRyZXNzOiAnMHg0NzQ1Zjc3YjU2YTBlMjI5NDQyNmUzOTM2ZGM0ZmFiNjhkOTU0M2NkJyxcbiAgLy8gVE9ETzogdXBkYXRlIGFsbCBiZWxvdyBvbmNlIHY0IG9uIHNlcG9saWEgcmVkZXBsb3llZFxuICB2NFBvb2xNYW5hZ2VyQWRkcmVzczogJzB4OEM0QmNCRTZiOWVGNDc4NTVmOTdFNjc1Mjk2RkEzRjZmYWZhNUYxQScsXG4gIHY0UG9zaXRpb25NYW5hZ2VyQWRkcmVzczogJzB4MUIxQzc3QjYwNmQxM2IwOUM4NGQxYzczOTRCOTZiMTQ3YkMwMzE0NycsXG4gIHY0U3RhdGVWaWV3OiAnMHg4MjNkNDViMTMyOWJjRjNiMzY5RjA4RjM2YmEyNjkwRmY4ZTA1OEMzJyxcbiAgdjRRdW90ZXJBZGRyZXNzOiAnMHhDZDg3MTYzOTVENTVhRDE3NDk2NDQ4YTRiMkM0MjU1NzAwMWU5NzQzJ1xufTtcbi8vIEF2YWxhbmNoZSB2MyBhZGRyZXNzZXNcbnZhciBBVkFMQU5DSEVfQUREUkVTU0VTID0ge1xuICB2M0NvcmVGYWN0b3J5QWRkcmVzczogJzB4NzQwYjFjMWRlMjUwMzFDMzFGRjRmQzlBNjJmNTU0QTU1Y2RDMWJhRCcsXG4gIG11bHRpY2FsbEFkZHJlc3M6ICcweDAxMzkxNDFDZDRFZTg4ZEYzQ2RiNjU4ODFENDExYkFFMjcxRWYwQzInLFxuICBxdW90ZXJBZGRyZXNzOiAnMHhiZTBGNTU0NEVDNjdlOUIzYjJEOTc5YWFBNDNmMThGZDg3RTYyNTdGJyxcbiAgdjNNaWdyYXRvckFkZHJlc3M6ICcweDQ0ZjVmMWY1RTQ1MmVhOGQyOUM4OTBFOEY2ZTg5M2ZDMGYxZjBmOTcnLFxuICBub25mdW5naWJsZVBvc2l0aW9uTWFuYWdlckFkZHJlc3M6ICcweDY1NUM0MDZFQkZhMTRFRTIwMDYyNTA5MjVlNTRlYzQzQUQxODRmOEInLFxuICB0aWNrTGVuc0FkZHJlc3M6ICcweEVCOWZGQzhiZjgxYjRmRmQxMWZiNkE2M2E2QjBmMDk4YzZlMjE5NTAnLFxuICBzd2FwUm91dGVyMDJBZGRyZXNzOiAnMHhiYjAwRkYwOGQwMUQzMDAwMjNDNjI5RThmRmZGY2I2NUE1YTU3OGNFJ1xufTtcbnZhciBCQVNFX0FERFJFU1NFUyA9IHtcbiAgdjNDb3JlRmFjdG9yeUFkZHJlc3M6ICcweDMzMTI4YThmQzE3ODY5ODk3ZGNFNjhFZDAyNmQ2OTQ2MjFmNkZEZkQnLFxuICBtdWx0aWNhbGxBZGRyZXNzOiAnMHgwOTFlOTljYjFDNDkzMzFhOTRkRDYyNzU1RDE2OEU5NDFBYkQwNjkzJyxcbiAgcXVvdGVyQWRkcmVzczogJzB4M2Q0ZTQ0RWIxMzc0MjQwQ0U1RjFCODcxYWIyNjFDRDE2MzM1Qjc2YScsXG4gIHYzTWlncmF0b3JBZGRyZXNzOiAnMHgyM2NGMTBiMWVlM0FkZkNBNzNCMGVGMTdDMDdGNzU3N2U3QUNkMmQ3JyxcbiAgbm9uZnVuZ2libGVQb3NpdGlvbk1hbmFnZXJBZGRyZXNzOiAnMHgwM2E1MjBiMzJDMDRCRjNiRUVmN0JFYjcyRTkxOWNmODIyRWQzNGYxJyxcbiAgdGlja0xlbnNBZGRyZXNzOiAnMHgwQ2RlRTA2MWM3NUQ0M2M4MjUyMGVEOTk4QzIzYWMyOTkxYzlhYzZkJyxcbiAgc3dhcFJvdXRlcjAyQWRkcmVzczogJzB4MjYyNjY2NGMyNjAzMzM2RTU3QjI3MWM1QzBiMjZGNDIxNzQxZTQ4MScsXG4gIG1peGVkUm91dGVRdW90ZXJWMUFkZHJlc3M6ICcweGU1NDRlZmFlOTQ2ZjAwMDhhZTlhOGQ2NDQ5M2VmYTc4ODZiNzM3NzYnXG59O1xuLy8gQmFzZSBHb2VybGkgdjMgYWRkcmVzc2VzXG52YXIgQkFTRV9HT0VSTElfQUREUkVTU0VTID0ge1xuICB2M0NvcmVGYWN0b3J5QWRkcmVzczogJzB4OTMyM2MxZDZEODAwZWQ1MUJkN0M2QjIxNmNmQmVjNjc4QjdkMEJDMicsXG4gIG11bHRpY2FsbEFkZHJlc3M6ICcweEIyMDYwMjdhOUUwRTEzRjA1ZUJFRmE1RDI0MDJCYWIzZUE3MTY0MzknLFxuICBxdW90ZXJBZGRyZXNzOiAnMHhlZGY1MzkwNThlMjhFNTkzN2RBZWYzZjY5Y0VkMGIyNWZiRTY2QWU5JyxcbiAgdjNNaWdyYXRvckFkZHJlc3M6ICcweDNlZmU1ZDAyYTA0YjczNTFENjcxRGI3MDA4ZWM2ZUJBOUFEOWUzYUUnLFxuICBub25mdW5naWJsZVBvc2l0aW9uTWFuYWdlckFkZHJlc3M6ICcweDNjNjEzNjllZjBEMUQyQUZhNzBkOGZlQzJGMzFDNUQ2Q2UxMzRGMzAnLFxuICB0aWNrTGVuc0FkZHJlc3M6ICcweDFhY0I4NzNFZTkwOUQwYzk4YWRCMThlNDQ3NDk0MzI0OUY5MzFiOTInLFxuICBzd2FwUm91dGVyMDJBZGRyZXNzOiAnMHg4MzU3MjI3RDRlRGM3ODk5MURiNkZEQjliRDZBREUyNTA1MzZkRTFkJ1xufTtcbnZhciBaT1JBX0FERFJFU1NFUyA9IHtcbiAgdjNDb3JlRmFjdG9yeUFkZHJlc3M6ICcweDcxNDVGOGFlZWYxZjY1MTBFOTIxNjQwMzhFMUI2RjhjQjJjNDJDYmInLFxuICBtdWx0aWNhbGxBZGRyZXNzOiAnMHhBNTFjNzZiRUU2NzQ2Y0I0ODdhN2U5MzEyRTQzZTJiOGY0QTM3QzE1JyxcbiAgcXVvdGVyQWRkcmVzczogJzB4MTE4NjdlMWIzMzQ4RjNjZTRGY0MxNzBCQzVhZjNkMjNFMDdFNjREZicsXG4gIHYzTWlncmF0b3JBZGRyZXNzOiAnMHgwNDgzNTJkOGRDRjEzNjg2OTgyQzc5OWRhNjNmQTY0MjZhOUQwYjYwJyxcbiAgbm9uZnVuZ2libGVQb3NpdGlvbk1hbmFnZXJBZGRyZXNzOiAnMHhiQzkxZThEZkEzZkYxOERlNDM4NTMzNzJBM2Q3ZGZlNTg1MTM3RDc4JyxcbiAgdGlja0xlbnNBZGRyZXNzOiAnMHgyMDlBQWRhMDlENzRBZDNCOEQwRTkyOTEwRWFmODVEMjM1N2UzMDQ0JyxcbiAgc3dhcFJvdXRlcjAyQWRkcmVzczogJzB4N0RlMDRjOTZCRTUxNTljM2I1Q2VmZkM4MmFhMTc2ZGM4MTI4MTU1Nydcbn07XG52YXIgWk9SQV9TRVBPTElBX0FERFJFU1NFUyA9IHtcbiAgdjNDb3JlRmFjdG9yeUFkZHJlc3M6ICcweDQzMjRBNjc3RDc0NzY0ZjQ2ZjMzRUQ0NDc5NjQyNTI0NDFhQThEYjYnLFxuICBtdWx0aWNhbGxBZGRyZXNzOiAnMHhBMUU3ZTNBNjk2NzFDNDQ5NEVDNTlEYmQ0NDJkZTkzMGE5M0Y5MTFBJyxcbiAgcXVvdGVyQWRkcmVzczogJzB4QzE5NTk3NmZFRjA5ODU4ODZFMzcwMzZFMkRGNjJiRjM3MUUxMkRmMCcsXG4gIHYzTWlncmF0b3JBZGRyZXNzOiAnMHg2NWVmMjU5YjMxYmYxZDk3N2MzN2U5NDM0NjU4Njk0MjY3Njc0ODk3JyxcbiAgbm9uZnVuZ2libGVQb3NpdGlvbk1hbmFnZXJBZGRyZXNzOiAnMHhCODQ1OEVhQWU0MzI5MmUzYzFGNzk5NEVGZDAxNmJkNjUzZDIzYzIwJyxcbiAgdGlja0xlbnNBZGRyZXNzOiAnMHgyM0MwRjcxODc3YTFGYzRlMjBBNzgwMThmOTgzMTM2NWM4NWYzMDY0J1xufTtcbnZhciBST09UU1RPQ0tfQUREUkVTU0VTID0ge1xuICB2M0NvcmVGYWN0b3J5QWRkcmVzczogJzB4YUYzN0VDOThBMDBGRDYzNjg5Q0YzMDYwQkYzQjY3ODRFMDBjYUQ4MicsXG4gIG11bHRpY2FsbEFkZHJlc3M6ICcweDk5NmE5ODU4Y0RmYTQ1QWQ2OEU0N2M5QTMwYTcyMDFFMjljNmEzODYnLFxuICBxdW90ZXJBZGRyZXNzOiAnMHhiNTE3MjdjOTk2QzY4RTYwRjU5OEE5MjNhNTAwNjg1M2NkMmZFQjMxJyxcbiAgdjNNaWdyYXRvckFkZHJlc3M6ICcweDE2Njc4OTc3Q0E0ZWMzREFENWVmYzdiMTU3ODAyOTVGRTVmNTYxNjInLFxuICBub25mdW5naWJsZVBvc2l0aW9uTWFuYWdlckFkZHJlc3M6ICcweDlkOTM4NmMwNDJGMTk0QjQ2MEVjNDI0YTFlNTdBQ0RFMjVmNUM0YjEnLFxuICB0aWNrTGVuc0FkZHJlc3M6ICcweDU1QjlkRjViRjY4QURlOTcyMTkxYTkxOTgwNDU5ZjQ4ZWNBMTZhZkMnLFxuICBzd2FwUm91dGVyMDJBZGRyZXNzOiAnMHgwQjE0ZmY2N2YwMDE0MDQ2YjRiOTkwNTdBZWM0NTA5NjQwYjM5NDdBJ1xufTtcbnZhciBCTEFTVF9BRERSRVNTRVMgPSB7XG4gIHYzQ29yZUZhY3RvcnlBZGRyZXNzOiAnMHg3OTJlZEFkRTgwYWY1ZkM2ODBkOTZhMmVEODBBNDQyNDdEMkNmNkZkJyxcbiAgbXVsdGljYWxsQWRkcmVzczogJzB4ZEM3ZjM3MGRlNzYzMWNFOWUyYzJlMURDREE2QjNCNTc0NENmNDcwNScsXG4gIHF1b3RlckFkZHJlc3M6ICcweDZDZGNkNjVlMDNjMUNFYzM3MzBBZWVDZDQ1YmMxNDBENTdBMjVDNzcnLFxuICB2M01pZ3JhdG9yQWRkcmVzczogJzB4MTVDQTcwNDNDRDg0QzVEMjFBZTc2QmEwQTFBOTY3ZDQyYzQwZWNFMCcsXG4gIG5vbmZ1bmdpYmxlUG9zaXRpb25NYW5hZ2VyQWRkcmVzczogJzB4QjIxOGU0ZjdjRjA1MzNkNDY5NmZEZkM0MTlBMDAyM0QzMzM0NUYyOCcsXG4gIHRpY2tMZW5zQWRkcmVzczogJzB4MkU5NTE4NWJDZEQ5MjhhM2U5ODRCN2UyRDY1NjBBYjFiMTdkNzI3NCcsXG4gIHN3YXBSb3V0ZXIwMkFkZHJlc3M6ICcweDU0OUZFQjhjOWJkNGMxMkFkMkFCMjcwMjJkQTEyNDkyYUM0NTJCNjYnXG59O1xudmFyIFpLU1lOQ19BRERSRVNTRVMgPSB7XG4gIHYzQ29yZUZhY3RvcnlBZGRyZXNzOiAnMHg4RmRBNWE3YThkQ0E2N0JCY0RkMTBGMDJGYTA2NDlBOTM3MjE1NDIyJyxcbiAgbXVsdGljYWxsQWRkcmVzczogJzB4MGM2OGE3QzcyZjA3NGQxYzQ1QzE2ZDQxZmE3NGVFYkM2RDE2YTY1QycsXG4gIHF1b3RlckFkZHJlc3M6ICcweDhDYjUzN2ZjOTJFMjZkOEVCQmI3NjBFNjMyYzk1NDg0YjZFYTNlMjgnLFxuICB2M01pZ3JhdG9yQWRkcmVzczogJzB4NjExODQxYjI0RTQzQzRBQ2ZkMjkwQjQyN2EzRDZjZjFBNTlkYWM4RScsXG4gIG5vbmZ1bmdpYmxlUG9zaXRpb25NYW5hZ2VyQWRkcmVzczogJzB4MDYxNmU1NzYyYzFFN0RjMzcyM2M1MDY2M2RGMTBhMTYyRDY5MGE4NicsXG4gIHRpY2tMZW5zQWRkcmVzczogJzB4ZTEwRkYxMWI4MDlmOEVFMDdiMDU2QjQ1MmMzQjJjYWE3RkUyNGY4OScsXG4gIHN3YXBSb3V0ZXIwMkFkZHJlc3M6ICcweDk5YzU2Mzg1ZGFCQ0UzRTgxZDg0OTlkMGI4ZDAyNTdhQkMwN0U4QTMnXG59O1xudmFyIFdPUkxEQ0hBSU5fQUREUkVTU0VTID0ge1xuICB2M0NvcmVGYWN0b3J5QWRkcmVzczogJzB4N2E1MDI4QkRhNDBlN0IxNzNDMjc4QzUzNDIwODc4MjY0NTVlYTI1YScsXG4gIG11bHRpY2FsbEFkZHJlc3M6ICcweDBhMjJjMDQyMTVjOTdFM0Y1MzJGNGVGMzBlMGFEOTQ1ODc5MmRBQjknLFxuICBxdW90ZXJBZGRyZXNzOiAnMHgxMDE1OEQ0M2U2Y2M0MTRkZUUxQmQxZUIwRWZDNmE1Y0JDZkYyNDRjJyxcbiAgdjNNaWdyYXRvckFkZHJlc3M6ICcweDlFQkRkQ0JhNzFDOTAyN0UxZUI0NTEzNTY3MmEzMGJjRkVlYzlkZTMnLFxuICBub25mdW5naWJsZVBvc2l0aW9uTWFuYWdlckFkZHJlc3M6ICcweGVjMTJhOUY5YTA5ZjUwNTUwNjg2MzYzNzY2Q2MxNTNEMDNjMjdiNWUnLFxuICB0aWNrTGVuc0FkZHJlc3M6ICcweEU2MWRmMENhQzlkODU4NzZhQ0U1RTMwMzcwMDVEODA5NDM1NzA2MjMnLFxuICBzd2FwUm91dGVyMDJBZGRyZXNzOiAnMHgwOTFBRDllMmU2ZTVlRDQ0YzFjNjZkQjUwZTQ5QTYwMUY5ZjM2Y0Y2J1xufTtcbnZhciBBU1RST0NIQUlOX1NFUE9MSUFfQUREUkVTU0VTID0ge1xuICB2M0NvcmVGYWN0b3J5QWRkcmVzczogJzB4MUY5ODQzMWM4YUQ5ODUyMzYzMUFFNGE1OWYyNjczNDZlYTMxRjk4NCcsXG4gIG11bHRpY2FsbEFkZHJlc3M6ICcweDlEMEYxNWYyY2Y1ODY1NWZERGNEMUVFNjEyOUM1NDdmRGFlRDAxYjEnLFxuICBxdW90ZXJBZGRyZXNzOiAnMHg2RGQzNzMyOUExQTIyNWE2RmNhNjU4MjY1RDQ2MDQyM0RDYWZCRjg5JyxcbiAgdjNNaWdyYXRvckFkZHJlc3M6ICcweGI1RkEyNDRDOWQ2RDA0QjJGQmFjODQ0MThiM2M0OTEwRUQxQWU1ZjInLFxuICBub25mdW5naWJsZVBvc2l0aW9uTWFuYWdlckFkZHJlc3M6ICcweEI3RjcyNGQ2ZERERmQwMDhlRmY1Y2MyODM0ZWRERTVGOWVGMGQwNzUnLFxuICB0aWNrTGVuc0FkZHJlc3M6ICcweDVmNzM5Yzc5MGE0OEU5N2VlYzBlZmI4MWJhYjVEMTUyYzBBMGVjQTAnLFxuICBzd2FwUm91dGVyMDJBZGRyZXNzOiAnMHhkMUFBRTM5MjkzMjIxQjc3QjBDNzFmQkQ2ZENiN0VhMjlCYjVCMTY2JyxcbiAgdjRQb29sTWFuYWdlckFkZHJlc3M6ICcweDM4RUI4QjIyRGYzQWU3ZmIyMWU5Mjg4MTE1MUIzNjVEZjE0YmE5NjcnLFxuICB2NFBvc2l0aW9uTWFuYWdlckFkZHJlc3M6ICcweDA1ZGVEM0Y4YThlODQ3MDBkNjhBNEQ4MWNkNjc4MGM5ODJkQjEzRjknLFxuICB2NFN0YXRlVmlldzogJzB4YWQzMjg0MzlEQ2E3Y2U4NTc2NjJhZkE0NTg0QTNkNTcxYmJEREM3NScsXG4gIHY0UXVvdGVyQWRkcmVzczogJzB4MmNmYTg3NjUxRDNBQjA1QmM1OUUzMjVFNWVhQzg0OTVDRjM0Y0U1NSdcbn07XG52YXIgQ0hBSU5fVE9fQUREUkVTU0VTX01BUCA9IChfQ0hBSU5fVE9fQUREUkVTU0VTX00gPSB7fSwgX0NIQUlOX1RPX0FERFJFU1NFU19NW0NoYWluSWQuTUFJTk5FVF0gPSBNQUlOTkVUX0FERFJFU1NFUywgX0NIQUlOX1RPX0FERFJFU1NFU19NW0NoYWluSWQuT1BUSU1JU01dID0gT1BUSU1JU01fQUREUkVTU0VTLCBfQ0hBSU5fVE9fQUREUkVTU0VTX01bQ2hhaW5JZC5BUkJJVFJVTV9PTkVdID0gQVJCSVRSVU1fT05FX0FERFJFU1NFUywgX0NIQUlOX1RPX0FERFJFU1NFU19NW0NoYWluSWQuUE9MWUdPTl0gPSBQT0xZR09OX0FERFJFU1NFUywgX0NIQUlOX1RPX0FERFJFU1NFU19NW0NoYWluSWQuUE9MWUdPTl9NVU1CQUldID0gUE9MWUdPTl9BRERSRVNTRVMsIF9DSEFJTl9UT19BRERSRVNTRVNfTVtDaGFpbklkLkdPRVJMSV0gPSBHT0VSTElfQUREUkVTU0VTLCBfQ0hBSU5fVE9fQUREUkVTU0VTX01bQ2hhaW5JZC5DRUxPXSA9IENFTE9fQUREUkVTU0VTLCBfQ0hBSU5fVE9fQUREUkVTU0VTX01bQ2hhaW5JZC5DRUxPX0FMRkFKT1JFU10gPSBDRUxPX0FERFJFU1NFUywgX0NIQUlOX1RPX0FERFJFU1NFU19NW0NoYWluSWQuQk5CXSA9IEJOQl9BRERSRVNTRVMsIF9DSEFJTl9UT19BRERSRVNTRVNfTVtDaGFpbklkLk9QVElNSVNNX0dPRVJMSV0gPSBPUFRJTUlTTV9HT0VSTElfQUREUkVTU0VTLCBfQ0hBSU5fVE9fQUREUkVTU0VTX01bQ2hhaW5JZC5PUFRJTUlTTV9TRVBPTElBXSA9IE9QVElNSVNNX1NFUE9MSUFfQUREUkVTU0VTLCBfQ0hBSU5fVE9fQUREUkVTU0VTX01bQ2hhaW5JZC5BUkJJVFJVTV9HT0VSTEldID0gQVJCSVRSVU1fR09FUkxJX0FERFJFU1NFUywgX0NIQUlOX1RPX0FERFJFU1NFU19NW0NoYWluSWQuQVJCSVRSVU1fU0VQT0xJQV0gPSBBUkJJVFJVTV9TRVBPTElBX0FERFJFU1NFUywgX0NIQUlOX1RPX0FERFJFU1NFU19NW0NoYWluSWQuU0VQT0xJQV0gPSBTRVBPTElBX0FERFJFU1NFUywgX0NIQUlOX1RPX0FERFJFU1NFU19NW0NoYWluSWQuQVZBTEFOQ0hFXSA9IEFWQUxBTkNIRV9BRERSRVNTRVMsIF9DSEFJTl9UT19BRERSRVNTRVNfTVtDaGFpbklkLkJBU0VdID0gQkFTRV9BRERSRVNTRVMsIF9DSEFJTl9UT19BRERSRVNTRVNfTVtDaGFpbklkLkJBU0VfR09FUkxJXSA9IEJBU0VfR09FUkxJX0FERFJFU1NFUywgX0NIQUlOX1RPX0FERFJFU1NFU19NW0NoYWluSWQuWk9SQV0gPSBaT1JBX0FERFJFU1NFUywgX0NIQUlOX1RPX0FERFJFU1NFU19NW0NoYWluSWQuWk9SQV9TRVBPTElBXSA9IFpPUkFfU0VQT0xJQV9BRERSRVNTRVMsIF9DSEFJTl9UT19BRERSRVNTRVNfTVtDaGFpbklkLlJPT1RTVE9DS10gPSBST09UU1RPQ0tfQUREUkVTU0VTLCBfQ0hBSU5fVE9fQUREUkVTU0VTX01bQ2hhaW5JZC5CTEFTVF0gPSBCTEFTVF9BRERSRVNTRVMsIF9DSEFJTl9UT19BRERSRVNTRVNfTVtDaGFpbklkLlpLU1lOQ10gPSBaS1NZTkNfQUREUkVTU0VTLCBfQ0hBSU5fVE9fQUREUkVTU0VTX01bQ2hhaW5JZC5XT1JMRENIQUlOXSA9IFdPUkxEQ0hBSU5fQUREUkVTU0VTLCBfQ0hBSU5fVE9fQUREUkVTU0VTX01bQ2hhaW5JZC5BU1RST0NIQUlOX1NFUE9MSUFdID0gQVNUUk9DSEFJTl9TRVBPTElBX0FERFJFU1NFUywgX0NIQUlOX1RPX0FERFJFU1NFU19NKTtcbi8qIFYzIENvbnRyYWN0IEFkZHJlc3NlcyAqL1xudmFyIFYzX0NPUkVfRkFDVE9SWV9BRERSRVNTRVMgPSAvKiNfX1BVUkVfXyovX2V4dGVuZHMoe30sIC8qI19fUFVSRV9fKi9TVVBQT1JURURfQ0hBSU5TLnJlZHVjZShmdW5jdGlvbiAobWVtbywgY2hhaW5JZCkge1xuICBtZW1vW2NoYWluSWRdID0gQ0hBSU5fVE9fQUREUkVTU0VTX01BUFtjaGFpbklkXS52M0NvcmVGYWN0b3J5QWRkcmVzcztcbiAgcmV0dXJuIG1lbW87XG59LCB7fSkpO1xudmFyIFYzX01JR1JBVE9SX0FERFJFU1NFUyA9IC8qI19fUFVSRV9fKi9fZXh0ZW5kcyh7fSwgLyojX19QVVJFX18qL1NVUFBPUlRFRF9DSEFJTlMucmVkdWNlKGZ1bmN0aW9uIChtZW1vLCBjaGFpbklkKSB7XG4gIHZhciB2M01pZ3JhdG9yQWRkcmVzcyA9IENIQUlOX1RPX0FERFJFU1NFU19NQVBbY2hhaW5JZF0udjNNaWdyYXRvckFkZHJlc3M7XG4gIGlmICh2M01pZ3JhdG9yQWRkcmVzcykge1xuICAgIG1lbW9bY2hhaW5JZF0gPSB2M01pZ3JhdG9yQWRkcmVzcztcbiAgfVxuICByZXR1cm4gbWVtbztcbn0sIHt9KSk7XG52YXIgTVVMVElDQUxMX0FERFJFU1NFUyA9IC8qI19fUFVSRV9fKi9fZXh0ZW5kcyh7fSwgLyojX19QVVJFX18qL1NVUFBPUlRFRF9DSEFJTlMucmVkdWNlKGZ1bmN0aW9uIChtZW1vLCBjaGFpbklkKSB7XG4gIG1lbW9bY2hhaW5JZF0gPSBDSEFJTl9UT19BRERSRVNTRVNfTUFQW2NoYWluSWRdLm11bHRpY2FsbEFkZHJlc3M7XG4gIHJldHVybiBtZW1vO1xufSwge30pKTtcbi8qKlxyXG4gKiBUaGUgb2xkZXN0IFYwIGdvdmVybmFuY2UgYWRkcmVzc1xyXG4gKi9cbnZhciBHT1ZFUk5BTkNFX0FMUEhBX1YwX0FERFJFU1NFUyA9IC8qI19fUFVSRV9fKi9jb25zdHJ1Y3RTYW1lQWRkcmVzc01hcCgnMHg1ZTRiZThCYzk2MzdmMEVBQTFBNzU1MDE5ZTA2QTY4Y2UwODFENThGJyk7XG4vKipcclxuICogVGhlIG9sZGVyIFYxIGdvdmVybmFuY2UgYWRkcmVzc1xyXG4gKi9cbnZhciBHT1ZFUk5BTkNFX0FMUEhBX1YxX0FERFJFU1NFUyA9IChfR09WRVJOQU5DRV9BTFBIQV9WMV8gPSB7fSwgX0dPVkVSTkFOQ0VfQUxQSEFfVjFfW0NoYWluSWQuTUFJTk5FVF0gPSAnMHhDNGUxNzI0NTlmMUU3OTM5RDUyMjUwM0I4MUFGQWFDMTAxNENFNkY2JywgX0dPVkVSTkFOQ0VfQUxQSEFfVjFfKTtcbi8qKlxyXG4gKiBUaGUgbGF0ZXN0IGdvdmVybm9yIGJyYXZvIHRoYXQgaXMgY3VycmVudGx5IGFkbWluIG9mIHRpbWVsb2NrXHJcbiAqL1xudmFyIEdPVkVSTkFOQ0VfQlJBVk9fQUREUkVTU0VTID0gKF9HT1ZFUk5BTkNFX0JSQVZPX0FERCA9IHt9LCBfR09WRVJOQU5DRV9CUkFWT19BRERbQ2hhaW5JZC5NQUlOTkVUXSA9ICcweDQwOEVENjM1NGQ0OTczZjY2MTM4QzkxNDk1RjJmMkZDYmQ4NzI0QzMnLCBfR09WRVJOQU5DRV9CUkFWT19BREQpO1xudmFyIFRJTUVMT0NLX0FERFJFU1NFUyA9IC8qI19fUFVSRV9fKi9jb25zdHJ1Y3RTYW1lQWRkcmVzc01hcCgnMHgxYTlDODE4MkMwOUY1MEM4MzE4ZDc2OTI0NWJlQTUyYzMyQkUzNUJDJyk7XG52YXIgTUVSS0xFX0RJU1RSSUJVVE9SX0FERFJFU1MgPSAoX01FUktMRV9ESVNUUklCVVRPUl9BID0ge30sIF9NRVJLTEVfRElTVFJJQlVUT1JfQVtDaGFpbklkLk1BSU5ORVRdID0gJzB4MDkwRDQ2MTM0NzNkRUUwNDdjM2YyNzA2NzY0ZjQ5RTA4MjFEMjU2ZScsIF9NRVJLTEVfRElTVFJJQlVUT1JfQSk7XG52YXIgQVJHRU5UX1dBTExFVF9ERVRFQ1RPUl9BRERSRVNTID0gKF9BUkdFTlRfV0FMTEVUX0RFVEVDVCA9IHt9LCBfQVJHRU5UX1dBTExFVF9ERVRFQ1RbQ2hhaW5JZC5NQUlOTkVUXSA9ICcweGVjYTRCMGJEQmY3YzU1RTliNzkyNTkxOWQwM0NiRjhEYzgyNTM3RTgnLCBfQVJHRU5UX1dBTExFVF9ERVRFQ1QpO1xudmFyIFFVT1RFUl9BRERSRVNTRVMgPSAvKiNfX1BVUkVfXyovX2V4dGVuZHMoe30sIC8qI19fUFVSRV9fKi9TVVBQT1JURURfQ0hBSU5TLnJlZHVjZShmdW5jdGlvbiAobWVtbywgY2hhaW5JZCkge1xuICBtZW1vW2NoYWluSWRdID0gQ0hBSU5fVE9fQUREUkVTU0VTX01BUFtjaGFpbklkXS5xdW90ZXJBZGRyZXNzO1xuICByZXR1cm4gbWVtbztcbn0sIHt9KSk7XG52YXIgTk9ORlVOR0lCTEVfUE9TSVRJT05fTUFOQUdFUl9BRERSRVNTRVMgPSAvKiNfX1BVUkVfXyovX2V4dGVuZHMoe30sIC8qI19fUFVSRV9fKi9TVVBQT1JURURfQ0hBSU5TLnJlZHVjZShmdW5jdGlvbiAobWVtbywgY2hhaW5JZCkge1xuICB2YXIgbm9uZnVuZ2libGVQb3NpdGlvbk1hbmFnZXJBZGRyZXNzID0gQ0hBSU5fVE9fQUREUkVTU0VTX01BUFtjaGFpbklkXS5ub25mdW5naWJsZVBvc2l0aW9uTWFuYWdlckFkZHJlc3M7XG4gIGlmIChub25mdW5naWJsZVBvc2l0aW9uTWFuYWdlckFkZHJlc3MpIHtcbiAgICBtZW1vW2NoYWluSWRdID0gbm9uZnVuZ2libGVQb3NpdGlvbk1hbmFnZXJBZGRyZXNzO1xuICB9XG4gIHJldHVybiBtZW1vO1xufSwge30pKTtcbnZhciBFTlNfUkVHSVNUUkFSX0FERFJFU1NFUyA9IC8qI19fUFVSRV9fKi9fZXh0ZW5kcyh7fSwgLyojX19QVVJFX18qL2NvbnN0cnVjdFNhbWVBZGRyZXNzTWFwKCcweDAwMDAwMDAwMDAwQzJFMDc0ZUM2OUEwZEZiMjk5N0JBNkM3ZDJlMWUnKSk7XG52YXIgU09DS1NfQ09OVFJPTExFUl9BRERSRVNTRVMgPSAoX1NPQ0tTX0NPTlRST0xMRVJfQUREID0ge30sIF9TT0NLU19DT05UUk9MTEVSX0FERFtDaGFpbklkLk1BSU5ORVRdID0gJzB4NjU3NzBiNTI4MzExNzYzOTc2MGJlQTNGODY3YjY5YjM2OTdhOTFkZCcsIF9TT0NLU19DT05UUk9MTEVSX0FERCk7XG52YXIgVElDS19MRU5TX0FERFJFU1NFUyA9IC8qI19fUFVSRV9fKi9fZXh0ZW5kcyh7fSwgLyojX19QVVJFX18qL1NVUFBPUlRFRF9DSEFJTlMucmVkdWNlKGZ1bmN0aW9uIChtZW1vLCBjaGFpbklkKSB7XG4gIHZhciB0aWNrTGVuc0FkZHJlc3MgPSBDSEFJTl9UT19BRERSRVNTRVNfTUFQW2NoYWluSWRdLnRpY2tMZW5zQWRkcmVzcztcbiAgaWYgKHRpY2tMZW5zQWRkcmVzcykge1xuICAgIG1lbW9bY2hhaW5JZF0gPSB0aWNrTGVuc0FkZHJlc3M7XG4gIH1cbiAgcmV0dXJuIG1lbW87XG59LCB7fSkpO1xudmFyIE1JWEVEX1JPVVRFX1FVT1RFUl9WMV9BRERSRVNTRVMgPSAvKiNfX1BVUkVfXyovU1VQUE9SVEVEX0NIQUlOUy5yZWR1Y2UoZnVuY3Rpb24gKG1lbW8sIGNoYWluSWQpIHtcbiAgdmFyIG1peGVkUm91dGVRdW90ZXJWMUFkZHJlc3MgPSBDSEFJTl9UT19BRERSRVNTRVNfTUFQW2NoYWluSWRdLm1peGVkUm91dGVRdW90ZXJWMUFkZHJlc3M7XG4gIGlmIChtaXhlZFJvdXRlUXVvdGVyVjFBZGRyZXNzKSB7XG4gICAgbWVtb1tjaGFpbklkXSA9IG1peGVkUm91dGVRdW90ZXJWMUFkZHJlc3M7XG4gIH1cbiAgcmV0dXJuIG1lbW87XG59LCB7fSk7XG52YXIgU1dBUF9ST1VURVJfMDJfQUREUkVTU0VTID0gZnVuY3Rpb24gU1dBUF9ST1VURVJfMDJfQUREUkVTU0VTKGNoYWluSWQpIHtcbiAgaWYgKFNVUFBPUlRFRF9DSEFJTlMuaW5jbHVkZXMoY2hhaW5JZCkpIHtcbiAgICB2YXIgX0NIQUlOX1RPX0FERFJFU1NFU19NMjtcbiAgICB2YXIgaWQgPSBjaGFpbklkO1xuICAgIHJldHVybiAoX0NIQUlOX1RPX0FERFJFU1NFU19NMiA9IENIQUlOX1RPX0FERFJFU1NFU19NQVBbaWRdLnN3YXBSb3V0ZXIwMkFkZHJlc3MpICE9IG51bGwgPyBfQ0hBSU5fVE9fQUREUkVTU0VTX00yIDogJzB4NjhiMzQ2NTgzM2ZiNzJBNzBlY0RGNDg1RTBlNEM3YkQ4NjY1RmM0NSc7XG4gIH1cbiAgcmV0dXJuICcnO1xufTtcblxudmFyIFRyYWRlVHlwZTtcbihmdW5jdGlvbiAoVHJhZGVUeXBlKSB7XG4gIFRyYWRlVHlwZVtUcmFkZVR5cGVbXCJFWEFDVF9JTlBVVFwiXSA9IDBdID0gXCJFWEFDVF9JTlBVVFwiO1xuICBUcmFkZVR5cGVbVHJhZGVUeXBlW1wiRVhBQ1RfT1VUUFVUXCJdID0gMV0gPSBcIkVYQUNUX09VVFBVVFwiO1xufSkoVHJhZGVUeXBlIHx8IChUcmFkZVR5cGUgPSB7fSkpO1xudmFyIFJvdW5kaW5nO1xuKGZ1bmN0aW9uIChSb3VuZGluZykge1xuICBSb3VuZGluZ1tSb3VuZGluZ1tcIlJPVU5EX0RPV05cIl0gPSAwXSA9IFwiUk9VTkRfRE9XTlwiO1xuICBSb3VuZGluZ1tSb3VuZGluZ1tcIlJPVU5EX0hBTEZfVVBcIl0gPSAxXSA9IFwiUk9VTkRfSEFMRl9VUFwiO1xuICBSb3VuZGluZ1tSb3VuZGluZ1tcIlJPVU5EX1VQXCJdID0gMl0gPSBcIlJPVU5EX1VQXCI7XG59KShSb3VuZGluZyB8fCAoUm91bmRpbmcgPSB7fSkpO1xudmFyIE1heFVpbnQyNTYgPSAvKiNfX1BVUkVfXyovSlNCSS5CaWdJbnQoJzB4ZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZicpO1xuXG52YXIgX3RvU2lnbmlmaWNhbnRSb3VuZGluLCBfdG9GaXhlZFJvdW5kaW5nO1xudmFyIERlY2ltYWwgPSAvKiNfX1BVUkVfXyovdG9Gb3JtYXQoX0RlY2ltYWwpO1xudmFyIEJpZyA9IC8qI19fUFVSRV9fKi90b0Zvcm1hdChfQmlnKTtcbnZhciB0b1NpZ25pZmljYW50Um91bmRpbmcgPSAoX3RvU2lnbmlmaWNhbnRSb3VuZGluID0ge30sIF90b1NpZ25pZmljYW50Um91bmRpbltSb3VuZGluZy5ST1VORF9ET1dOXSA9IERlY2ltYWwuUk9VTkRfRE9XTiwgX3RvU2lnbmlmaWNhbnRSb3VuZGluW1JvdW5kaW5nLlJPVU5EX0hBTEZfVVBdID0gRGVjaW1hbC5ST1VORF9IQUxGX1VQLCBfdG9TaWduaWZpY2FudFJvdW5kaW5bUm91bmRpbmcuUk9VTkRfVVBdID0gRGVjaW1hbC5ST1VORF9VUCwgX3RvU2lnbmlmaWNhbnRSb3VuZGluKTtcbnZhciB0b0ZpeGVkUm91bmRpbmcgPSAoX3RvRml4ZWRSb3VuZGluZyA9IHt9LCBfdG9GaXhlZFJvdW5kaW5nW1JvdW5kaW5nLlJPVU5EX0RPV05dID0gMCwgX3RvRml4ZWRSb3VuZGluZ1tSb3VuZGluZy5ST1VORF9IQUxGX1VQXSA9IDEsIF90b0ZpeGVkUm91bmRpbmdbUm91bmRpbmcuUk9VTkRfVVBdID0gMywgX3RvRml4ZWRSb3VuZGluZyk7XG52YXIgRnJhY3Rpb24gPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBGcmFjdGlvbihudW1lcmF0b3IsIGRlbm9taW5hdG9yKSB7XG4gICAgaWYgKGRlbm9taW5hdG9yID09PSB2b2lkIDApIHtcbiAgICAgIGRlbm9taW5hdG9yID0gSlNCSS5CaWdJbnQoMSk7XG4gICAgfVxuICAgIHRoaXMubnVtZXJhdG9yID0gSlNCSS5CaWdJbnQobnVtZXJhdG9yKTtcbiAgICB0aGlzLmRlbm9taW5hdG9yID0gSlNCSS5CaWdJbnQoZGVub21pbmF0b3IpO1xuICB9XG4gIEZyYWN0aW9uLnRyeVBhcnNlRnJhY3Rpb24gPSBmdW5jdGlvbiB0cnlQYXJzZUZyYWN0aW9uKGZyYWN0aW9uaXNoKSB7XG4gICAgaWYgKGZyYWN0aW9uaXNoIGluc3RhbmNlb2YgSlNCSSB8fCB0eXBlb2YgZnJhY3Rpb25pc2ggPT09ICdudW1iZXInIHx8IHR5cGVvZiBmcmFjdGlvbmlzaCA9PT0gJ3N0cmluZycpIHJldHVybiBuZXcgRnJhY3Rpb24oZnJhY3Rpb25pc2gpO1xuICAgIGlmICgnbnVtZXJhdG9yJyBpbiBmcmFjdGlvbmlzaCAmJiAnZGVub21pbmF0b3InIGluIGZyYWN0aW9uaXNoKSByZXR1cm4gZnJhY3Rpb25pc2g7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdDb3VsZCBub3QgcGFyc2UgZnJhY3Rpb24nKTtcbiAgfVxuICAvLyBwZXJmb3JtcyBmbG9vciBkaXZpc2lvblxuICA7XG4gIHZhciBfcHJvdG8gPSBGcmFjdGlvbi5wcm90b3R5cGU7XG4gIF9wcm90by5pbnZlcnQgPSBmdW5jdGlvbiBpbnZlcnQoKSB7XG4gICAgcmV0dXJuIG5ldyBGcmFjdGlvbih0aGlzLmRlbm9taW5hdG9yLCB0aGlzLm51bWVyYXRvcik7XG4gIH07XG4gIF9wcm90by5hZGQgPSBmdW5jdGlvbiBhZGQob3RoZXIpIHtcbiAgICB2YXIgb3RoZXJQYXJzZWQgPSBGcmFjdGlvbi50cnlQYXJzZUZyYWN0aW9uKG90aGVyKTtcbiAgICBpZiAoSlNCSS5lcXVhbCh0aGlzLmRlbm9taW5hdG9yLCBvdGhlclBhcnNlZC5kZW5vbWluYXRvcikpIHtcbiAgICAgIHJldHVybiBuZXcgRnJhY3Rpb24oSlNCSS5hZGQodGhpcy5udW1lcmF0b3IsIG90aGVyUGFyc2VkLm51bWVyYXRvciksIHRoaXMuZGVub21pbmF0b3IpO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IEZyYWN0aW9uKEpTQkkuYWRkKEpTQkkubXVsdGlwbHkodGhpcy5udW1lcmF0b3IsIG90aGVyUGFyc2VkLmRlbm9taW5hdG9yKSwgSlNCSS5tdWx0aXBseShvdGhlclBhcnNlZC5udW1lcmF0b3IsIHRoaXMuZGVub21pbmF0b3IpKSwgSlNCSS5tdWx0aXBseSh0aGlzLmRlbm9taW5hdG9yLCBvdGhlclBhcnNlZC5kZW5vbWluYXRvcikpO1xuICB9O1xuICBfcHJvdG8uc3VidHJhY3QgPSBmdW5jdGlvbiBzdWJ0cmFjdChvdGhlcikge1xuICAgIHZhciBvdGhlclBhcnNlZCA9IEZyYWN0aW9uLnRyeVBhcnNlRnJhY3Rpb24ob3RoZXIpO1xuICAgIGlmIChKU0JJLmVxdWFsKHRoaXMuZGVub21pbmF0b3IsIG90aGVyUGFyc2VkLmRlbm9taW5hdG9yKSkge1xuICAgICAgcmV0dXJuIG5ldyBGcmFjdGlvbihKU0JJLnN1YnRyYWN0KHRoaXMubnVtZXJhdG9yLCBvdGhlclBhcnNlZC5udW1lcmF0b3IpLCB0aGlzLmRlbm9taW5hdG9yKTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBGcmFjdGlvbihKU0JJLnN1YnRyYWN0KEpTQkkubXVsdGlwbHkodGhpcy5udW1lcmF0b3IsIG90aGVyUGFyc2VkLmRlbm9taW5hdG9yKSwgSlNCSS5tdWx0aXBseShvdGhlclBhcnNlZC5udW1lcmF0b3IsIHRoaXMuZGVub21pbmF0b3IpKSwgSlNCSS5tdWx0aXBseSh0aGlzLmRlbm9taW5hdG9yLCBvdGhlclBhcnNlZC5kZW5vbWluYXRvcikpO1xuICB9O1xuICBfcHJvdG8ubGVzc1RoYW4gPSBmdW5jdGlvbiBsZXNzVGhhbihvdGhlcikge1xuICAgIHZhciBvdGhlclBhcnNlZCA9IEZyYWN0aW9uLnRyeVBhcnNlRnJhY3Rpb24ob3RoZXIpO1xuICAgIHJldHVybiBKU0JJLmxlc3NUaGFuKEpTQkkubXVsdGlwbHkodGhpcy5udW1lcmF0b3IsIG90aGVyUGFyc2VkLmRlbm9taW5hdG9yKSwgSlNCSS5tdWx0aXBseShvdGhlclBhcnNlZC5udW1lcmF0b3IsIHRoaXMuZGVub21pbmF0b3IpKTtcbiAgfTtcbiAgX3Byb3RvLmVxdWFsVG8gPSBmdW5jdGlvbiBlcXVhbFRvKG90aGVyKSB7XG4gICAgdmFyIG90aGVyUGFyc2VkID0gRnJhY3Rpb24udHJ5UGFyc2VGcmFjdGlvbihvdGhlcik7XG4gICAgcmV0dXJuIEpTQkkuZXF1YWwoSlNCSS5tdWx0aXBseSh0aGlzLm51bWVyYXRvciwgb3RoZXJQYXJzZWQuZGVub21pbmF0b3IpLCBKU0JJLm11bHRpcGx5KG90aGVyUGFyc2VkLm51bWVyYXRvciwgdGhpcy5kZW5vbWluYXRvcikpO1xuICB9O1xuICBfcHJvdG8uZ3JlYXRlclRoYW4gPSBmdW5jdGlvbiBncmVhdGVyVGhhbihvdGhlcikge1xuICAgIHZhciBvdGhlclBhcnNlZCA9IEZyYWN0aW9uLnRyeVBhcnNlRnJhY3Rpb24ob3RoZXIpO1xuICAgIHJldHVybiBKU0JJLmdyZWF0ZXJUaGFuKEpTQkkubXVsdGlwbHkodGhpcy5udW1lcmF0b3IsIG90aGVyUGFyc2VkLmRlbm9taW5hdG9yKSwgSlNCSS5tdWx0aXBseShvdGhlclBhcnNlZC5udW1lcmF0b3IsIHRoaXMuZGVub21pbmF0b3IpKTtcbiAgfTtcbiAgX3Byb3RvLm11bHRpcGx5ID0gZnVuY3Rpb24gbXVsdGlwbHkob3RoZXIpIHtcbiAgICB2YXIgb3RoZXJQYXJzZWQgPSBGcmFjdGlvbi50cnlQYXJzZUZyYWN0aW9uKG90aGVyKTtcbiAgICByZXR1cm4gbmV3IEZyYWN0aW9uKEpTQkkubXVsdGlwbHkodGhpcy5udW1lcmF0b3IsIG90aGVyUGFyc2VkLm51bWVyYXRvciksIEpTQkkubXVsdGlwbHkodGhpcy5kZW5vbWluYXRvciwgb3RoZXJQYXJzZWQuZGVub21pbmF0b3IpKTtcbiAgfTtcbiAgX3Byb3RvLmRpdmlkZSA9IGZ1bmN0aW9uIGRpdmlkZShvdGhlcikge1xuICAgIHZhciBvdGhlclBhcnNlZCA9IEZyYWN0aW9uLnRyeVBhcnNlRnJhY3Rpb24ob3RoZXIpO1xuICAgIHJldHVybiBuZXcgRnJhY3Rpb24oSlNCSS5tdWx0aXBseSh0aGlzLm51bWVyYXRvciwgb3RoZXJQYXJzZWQuZGVub21pbmF0b3IpLCBKU0JJLm11bHRpcGx5KHRoaXMuZGVub21pbmF0b3IsIG90aGVyUGFyc2VkLm51bWVyYXRvcikpO1xuICB9O1xuICBfcHJvdG8udG9TaWduaWZpY2FudCA9IGZ1bmN0aW9uIHRvU2lnbmlmaWNhbnQoc2lnbmlmaWNhbnREaWdpdHMsIGZvcm1hdCwgcm91bmRpbmcpIHtcbiAgICBpZiAoZm9ybWF0ID09PSB2b2lkIDApIHtcbiAgICAgIGZvcm1hdCA9IHtcbiAgICAgICAgZ3JvdXBTZXBhcmF0b3I6ICcnXG4gICAgICB9O1xuICAgIH1cbiAgICBpZiAocm91bmRpbmcgPT09IHZvaWQgMCkge1xuICAgICAgcm91bmRpbmcgPSBSb3VuZGluZy5ST1VORF9IQUxGX1VQO1xuICAgIH1cbiAgICAhTnVtYmVyLmlzSW50ZWdlcihzaWduaWZpY2FudERpZ2l0cykgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBpbnZhcmlhbnQoZmFsc2UsIHNpZ25pZmljYW50RGlnaXRzICsgXCIgaXMgbm90IGFuIGludGVnZXIuXCIpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICAhKHNpZ25pZmljYW50RGlnaXRzID4gMCkgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBpbnZhcmlhbnQoZmFsc2UsIHNpZ25pZmljYW50RGlnaXRzICsgXCIgaXMgbm90IHBvc2l0aXZlLlwiKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgRGVjaW1hbC5zZXQoe1xuICAgICAgcHJlY2lzaW9uOiBzaWduaWZpY2FudERpZ2l0cyArIDEsXG4gICAgICByb3VuZGluZzogdG9TaWduaWZpY2FudFJvdW5kaW5nW3JvdW5kaW5nXVxuICAgIH0pO1xuICAgIHZhciBxdW90aWVudCA9IG5ldyBEZWNpbWFsKHRoaXMubnVtZXJhdG9yLnRvU3RyaW5nKCkpLmRpdih0aGlzLmRlbm9taW5hdG9yLnRvU3RyaW5nKCkpLnRvU2lnbmlmaWNhbnREaWdpdHMoc2lnbmlmaWNhbnREaWdpdHMpO1xuICAgIHJldHVybiBxdW90aWVudC50b0Zvcm1hdChxdW90aWVudC5kZWNpbWFsUGxhY2VzKCksIGZvcm1hdCk7XG4gIH07XG4gIF9wcm90by50b0ZpeGVkID0gZnVuY3Rpb24gdG9GaXhlZChkZWNpbWFsUGxhY2VzLCBmb3JtYXQsIHJvdW5kaW5nKSB7XG4gICAgaWYgKGZvcm1hdCA9PT0gdm9pZCAwKSB7XG4gICAgICBmb3JtYXQgPSB7XG4gICAgICAgIGdyb3VwU2VwYXJhdG9yOiAnJ1xuICAgICAgfTtcbiAgICB9XG4gICAgaWYgKHJvdW5kaW5nID09PSB2b2lkIDApIHtcbiAgICAgIHJvdW5kaW5nID0gUm91bmRpbmcuUk9VTkRfSEFMRl9VUDtcbiAgICB9XG4gICAgIU51bWJlci5pc0ludGVnZXIoZGVjaW1hbFBsYWNlcykgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBpbnZhcmlhbnQoZmFsc2UsIGRlY2ltYWxQbGFjZXMgKyBcIiBpcyBub3QgYW4gaW50ZWdlci5cIikgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgICEoZGVjaW1hbFBsYWNlcyA+PSAwKSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IGludmFyaWFudChmYWxzZSwgZGVjaW1hbFBsYWNlcyArIFwiIGlzIG5lZ2F0aXZlLlwiKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgQmlnLkRQID0gZGVjaW1hbFBsYWNlcztcbiAgICBCaWcuUk0gPSB0b0ZpeGVkUm91bmRpbmdbcm91bmRpbmddO1xuICAgIHJldHVybiBuZXcgQmlnKHRoaXMubnVtZXJhdG9yLnRvU3RyaW5nKCkpLmRpdih0aGlzLmRlbm9taW5hdG9yLnRvU3RyaW5nKCkpLnRvRm9ybWF0KGRlY2ltYWxQbGFjZXMsIGZvcm1hdCk7XG4gIH1cbiAgLyoqXHJcbiAgICogSGVscGVyIG1ldGhvZCBmb3IgY29udmVydGluZyBhbnkgc3VwZXIgY2xhc3MgYmFjayB0byBhIGZyYWN0aW9uXHJcbiAgICovO1xuICBfY3JlYXRlQ2xhc3MoRnJhY3Rpb24sIFt7XG4gICAga2V5OiBcInF1b3RpZW50XCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gSlNCSS5kaXZpZGUodGhpcy5udW1lcmF0b3IsIHRoaXMuZGVub21pbmF0b3IpO1xuICAgIH1cbiAgICAvLyByZW1haW5kZXIgYWZ0ZXIgZmxvb3IgZGl2aXNpb25cbiAgfSwge1xuICAgIGtleTogXCJyZW1haW5kZXJcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiBuZXcgRnJhY3Rpb24oSlNCSS5yZW1haW5kZXIodGhpcy5udW1lcmF0b3IsIHRoaXMuZGVub21pbmF0b3IpLCB0aGlzLmRlbm9taW5hdG9yKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiYXNGcmFjdGlvblwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIG5ldyBGcmFjdGlvbih0aGlzLm51bWVyYXRvciwgdGhpcy5kZW5vbWluYXRvcik7XG4gICAgfVxuICB9XSk7XG4gIHJldHVybiBGcmFjdGlvbjtcbn0oKTtcblxudmFyIEJpZyQxID0gLyojX19QVVJFX18qL3RvRm9ybWF0KF9CaWcpO1xudmFyIEN1cnJlbmN5QW1vdW50ID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfRnJhY3Rpb24pIHtcbiAgX2luaGVyaXRzTG9vc2UoQ3VycmVuY3lBbW91bnQsIF9GcmFjdGlvbik7XG4gIGZ1bmN0aW9uIEN1cnJlbmN5QW1vdW50KGN1cnJlbmN5LCBudW1lcmF0b3IsIGRlbm9taW5hdG9yKSB7XG4gICAgdmFyIF90aGlzO1xuICAgIF90aGlzID0gX0ZyYWN0aW9uLmNhbGwodGhpcywgbnVtZXJhdG9yLCBkZW5vbWluYXRvcikgfHwgdGhpcztcbiAgICAhSlNCSS5sZXNzVGhhbk9yRXF1YWwoX3RoaXMucXVvdGllbnQsIE1heFVpbnQyNTYpID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gaW52YXJpYW50KGZhbHNlLCAnQU1PVU5UJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgIF90aGlzLmN1cnJlbmN5ID0gY3VycmVuY3k7XG4gICAgX3RoaXMuZGVjaW1hbFNjYWxlID0gSlNCSS5leHBvbmVudGlhdGUoSlNCSS5CaWdJbnQoMTApLCBKU0JJLkJpZ0ludChjdXJyZW5jeS5kZWNpbWFscykpO1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuICAvKipcclxuICAgKiBSZXR1cm5zIGEgbmV3IGN1cnJlbmN5IGFtb3VudCBpbnN0YW5jZSBmcm9tIHRoZSB1bml0bGVzcyBhbW91bnQgb2YgdG9rZW4sIGkuZS4gdGhlIHJhdyBhbW91bnRcclxuICAgKiBAcGFyYW0gY3VycmVuY3kgdGhlIGN1cnJlbmN5IGluIHRoZSBhbW91bnRcclxuICAgKiBAcGFyYW0gcmF3QW1vdW50IHRoZSByYXcgdG9rZW4gb3IgZXRoZXIgYW1vdW50XHJcbiAgICovXG4gIEN1cnJlbmN5QW1vdW50LmZyb21SYXdBbW91bnQgPSBmdW5jdGlvbiBmcm9tUmF3QW1vdW50KGN1cnJlbmN5LCByYXdBbW91bnQpIHtcbiAgICByZXR1cm4gbmV3IEN1cnJlbmN5QW1vdW50KGN1cnJlbmN5LCByYXdBbW91bnQpO1xuICB9XG4gIC8qKlxyXG4gICAqIENvbnN0cnVjdCBhIGN1cnJlbmN5IGFtb3VudCB3aXRoIGEgZGVub21pbmF0b3IgdGhhdCBpcyBub3QgZXF1YWwgdG8gMVxyXG4gICAqIEBwYXJhbSBjdXJyZW5jeSB0aGUgY3VycmVuY3lcclxuICAgKiBAcGFyYW0gbnVtZXJhdG9yIHRoZSBudW1lcmF0b3Igb2YgdGhlIGZyYWN0aW9uYWwgdG9rZW4gYW1vdW50XHJcbiAgICogQHBhcmFtIGRlbm9taW5hdG9yIHRoZSBkZW5vbWluYXRvciBvZiB0aGUgZnJhY3Rpb25hbCB0b2tlbiBhbW91bnRcclxuICAgKi87XG4gIEN1cnJlbmN5QW1vdW50LmZyb21GcmFjdGlvbmFsQW1vdW50ID0gZnVuY3Rpb24gZnJvbUZyYWN0aW9uYWxBbW91bnQoY3VycmVuY3ksIG51bWVyYXRvciwgZGVub21pbmF0b3IpIHtcbiAgICByZXR1cm4gbmV3IEN1cnJlbmN5QW1vdW50KGN1cnJlbmN5LCBudW1lcmF0b3IsIGRlbm9taW5hdG9yKTtcbiAgfTtcbiAgdmFyIF9wcm90byA9IEN1cnJlbmN5QW1vdW50LnByb3RvdHlwZTtcbiAgX3Byb3RvLmFkZCA9IGZ1bmN0aW9uIGFkZChvdGhlcikge1xuICAgICF0aGlzLmN1cnJlbmN5LmVxdWFscyhvdGhlci5jdXJyZW5jeSkgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBpbnZhcmlhbnQoZmFsc2UsICdDVVJSRU5DWScpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICB2YXIgYWRkZWQgPSBfRnJhY3Rpb24ucHJvdG90eXBlLmFkZC5jYWxsKHRoaXMsIG90aGVyKTtcbiAgICByZXR1cm4gQ3VycmVuY3lBbW91bnQuZnJvbUZyYWN0aW9uYWxBbW91bnQodGhpcy5jdXJyZW5jeSwgYWRkZWQubnVtZXJhdG9yLCBhZGRlZC5kZW5vbWluYXRvcik7XG4gIH07XG4gIF9wcm90by5zdWJ0cmFjdCA9IGZ1bmN0aW9uIHN1YnRyYWN0KG90aGVyKSB7XG4gICAgIXRoaXMuY3VycmVuY3kuZXF1YWxzKG90aGVyLmN1cnJlbmN5KSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IGludmFyaWFudChmYWxzZSwgJ0NVUlJFTkNZJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgIHZhciBzdWJ0cmFjdGVkID0gX0ZyYWN0aW9uLnByb3RvdHlwZS5zdWJ0cmFjdC5jYWxsKHRoaXMsIG90aGVyKTtcbiAgICByZXR1cm4gQ3VycmVuY3lBbW91bnQuZnJvbUZyYWN0aW9uYWxBbW91bnQodGhpcy5jdXJyZW5jeSwgc3VidHJhY3RlZC5udW1lcmF0b3IsIHN1YnRyYWN0ZWQuZGVub21pbmF0b3IpO1xuICB9O1xuICBfcHJvdG8ubXVsdGlwbHkgPSBmdW5jdGlvbiBtdWx0aXBseShvdGhlcikge1xuICAgIHZhciBtdWx0aXBsaWVkID0gX0ZyYWN0aW9uLnByb3RvdHlwZS5tdWx0aXBseS5jYWxsKHRoaXMsIG90aGVyKTtcbiAgICByZXR1cm4gQ3VycmVuY3lBbW91bnQuZnJvbUZyYWN0aW9uYWxBbW91bnQodGhpcy5jdXJyZW5jeSwgbXVsdGlwbGllZC5udW1lcmF0b3IsIG11bHRpcGxpZWQuZGVub21pbmF0b3IpO1xuICB9O1xuICBfcHJvdG8uZGl2aWRlID0gZnVuY3Rpb24gZGl2aWRlKG90aGVyKSB7XG4gICAgdmFyIGRpdmlkZWQgPSBfRnJhY3Rpb24ucHJvdG90eXBlLmRpdmlkZS5jYWxsKHRoaXMsIG90aGVyKTtcbiAgICByZXR1cm4gQ3VycmVuY3lBbW91bnQuZnJvbUZyYWN0aW9uYWxBbW91bnQodGhpcy5jdXJyZW5jeSwgZGl2aWRlZC5udW1lcmF0b3IsIGRpdmlkZWQuZGVub21pbmF0b3IpO1xuICB9O1xuICBfcHJvdG8udG9TaWduaWZpY2FudCA9IGZ1bmN0aW9uIHRvU2lnbmlmaWNhbnQoc2lnbmlmaWNhbnREaWdpdHMsIGZvcm1hdCwgcm91bmRpbmcpIHtcbiAgICBpZiAoc2lnbmlmaWNhbnREaWdpdHMgPT09IHZvaWQgMCkge1xuICAgICAgc2lnbmlmaWNhbnREaWdpdHMgPSA2O1xuICAgIH1cbiAgICBpZiAocm91bmRpbmcgPT09IHZvaWQgMCkge1xuICAgICAgcm91bmRpbmcgPSBSb3VuZGluZy5ST1VORF9ET1dOO1xuICAgIH1cbiAgICByZXR1cm4gX0ZyYWN0aW9uLnByb3RvdHlwZS5kaXZpZGUuY2FsbCh0aGlzLCB0aGlzLmRlY2ltYWxTY2FsZSkudG9TaWduaWZpY2FudChzaWduaWZpY2FudERpZ2l0cywgZm9ybWF0LCByb3VuZGluZyk7XG4gIH07XG4gIF9wcm90by50b0ZpeGVkID0gZnVuY3Rpb24gdG9GaXhlZChkZWNpbWFsUGxhY2VzLCBmb3JtYXQsIHJvdW5kaW5nKSB7XG4gICAgaWYgKGRlY2ltYWxQbGFjZXMgPT09IHZvaWQgMCkge1xuICAgICAgZGVjaW1hbFBsYWNlcyA9IHRoaXMuY3VycmVuY3kuZGVjaW1hbHM7XG4gICAgfVxuICAgIGlmIChyb3VuZGluZyA9PT0gdm9pZCAwKSB7XG4gICAgICByb3VuZGluZyA9IFJvdW5kaW5nLlJPVU5EX0RPV047XG4gICAgfVxuICAgICEoZGVjaW1hbFBsYWNlcyA8PSB0aGlzLmN1cnJlbmN5LmRlY2ltYWxzKSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IGludmFyaWFudChmYWxzZSwgJ0RFQ0lNQUxTJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgIHJldHVybiBfRnJhY3Rpb24ucHJvdG90eXBlLmRpdmlkZS5jYWxsKHRoaXMsIHRoaXMuZGVjaW1hbFNjYWxlKS50b0ZpeGVkKGRlY2ltYWxQbGFjZXMsIGZvcm1hdCwgcm91bmRpbmcpO1xuICB9O1xuICBfcHJvdG8udG9FeGFjdCA9IGZ1bmN0aW9uIHRvRXhhY3QoZm9ybWF0KSB7XG4gICAgaWYgKGZvcm1hdCA9PT0gdm9pZCAwKSB7XG4gICAgICBmb3JtYXQgPSB7XG4gICAgICAgIGdyb3VwU2VwYXJhdG9yOiAnJ1xuICAgICAgfTtcbiAgICB9XG4gICAgQmlnJDEuRFAgPSB0aGlzLmN1cnJlbmN5LmRlY2ltYWxzO1xuICAgIHJldHVybiBuZXcgQmlnJDEodGhpcy5xdW90aWVudC50b1N0cmluZygpKS5kaXYodGhpcy5kZWNpbWFsU2NhbGUudG9TdHJpbmcoKSkudG9Gb3JtYXQoZm9ybWF0KTtcbiAgfTtcbiAgX2NyZWF0ZUNsYXNzKEN1cnJlbmN5QW1vdW50LCBbe1xuICAgIGtleTogXCJ3cmFwcGVkXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICBpZiAodGhpcy5jdXJyZW5jeS5pc1Rva2VuKSByZXR1cm4gdGhpcztcbiAgICAgIHJldHVybiBDdXJyZW5jeUFtb3VudC5mcm9tRnJhY3Rpb25hbEFtb3VudCh0aGlzLmN1cnJlbmN5LndyYXBwZWQsIHRoaXMubnVtZXJhdG9yLCB0aGlzLmRlbm9taW5hdG9yKTtcbiAgICB9XG4gIH1dKTtcbiAgcmV0dXJuIEN1cnJlbmN5QW1vdW50O1xufShGcmFjdGlvbik7XG5cbnZhciBPTkVfSFVORFJFRCA9IC8qI19fUFVSRV9fKi9uZXcgRnJhY3Rpb24oIC8qI19fUFVSRV9fKi9KU0JJLkJpZ0ludCgxMDApKTtcbi8qKlxyXG4gKiBDb252ZXJ0cyBhIGZyYWN0aW9uIHRvIGEgcGVyY2VudFxyXG4gKiBAcGFyYW0gZnJhY3Rpb24gdGhlIGZyYWN0aW9uIHRvIGNvbnZlcnRcclxuICovXG5mdW5jdGlvbiB0b1BlcmNlbnQoZnJhY3Rpb24pIHtcbiAgcmV0dXJuIG5ldyBQZXJjZW50KGZyYWN0aW9uLm51bWVyYXRvciwgZnJhY3Rpb24uZGVub21pbmF0b3IpO1xufVxudmFyIFBlcmNlbnQgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9GcmFjdGlvbikge1xuICBfaW5oZXJpdHNMb29zZShQZXJjZW50LCBfRnJhY3Rpb24pO1xuICBmdW5jdGlvbiBQZXJjZW50KCkge1xuICAgIHZhciBfdGhpcztcbiAgICBfdGhpcyA9IF9GcmFjdGlvbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG4gICAgLyoqXHJcbiAgICAgKiBUaGlzIGJvb2xlYW4gcHJldmVudHMgYSBmcmFjdGlvbiBmcm9tIGJlaW5nIGludGVycHJldGVkIGFzIGEgUGVyY2VudFxyXG4gICAgICovXG4gICAgX3RoaXMuaXNQZXJjZW50ID0gdHJ1ZTtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cbiAgdmFyIF9wcm90byA9IFBlcmNlbnQucHJvdG90eXBlO1xuICBfcHJvdG8uYWRkID0gZnVuY3Rpb24gYWRkKG90aGVyKSB7XG4gICAgcmV0dXJuIHRvUGVyY2VudChfRnJhY3Rpb24ucHJvdG90eXBlLmFkZC5jYWxsKHRoaXMsIG90aGVyKSk7XG4gIH07XG4gIF9wcm90by5zdWJ0cmFjdCA9IGZ1bmN0aW9uIHN1YnRyYWN0KG90aGVyKSB7XG4gICAgcmV0dXJuIHRvUGVyY2VudChfRnJhY3Rpb24ucHJvdG90eXBlLnN1YnRyYWN0LmNhbGwodGhpcywgb3RoZXIpKTtcbiAgfTtcbiAgX3Byb3RvLm11bHRpcGx5ID0gZnVuY3Rpb24gbXVsdGlwbHkob3RoZXIpIHtcbiAgICByZXR1cm4gdG9QZXJjZW50KF9GcmFjdGlvbi5wcm90b3R5cGUubXVsdGlwbHkuY2FsbCh0aGlzLCBvdGhlcikpO1xuICB9O1xuICBfcHJvdG8uZGl2aWRlID0gZnVuY3Rpb24gZGl2aWRlKG90aGVyKSB7XG4gICAgcmV0dXJuIHRvUGVyY2VudChfRnJhY3Rpb24ucHJvdG90eXBlLmRpdmlkZS5jYWxsKHRoaXMsIG90aGVyKSk7XG4gIH07XG4gIF9wcm90by50b1NpZ25pZmljYW50ID0gZnVuY3Rpb24gdG9TaWduaWZpY2FudChzaWduaWZpY2FudERpZ2l0cywgZm9ybWF0LCByb3VuZGluZykge1xuICAgIGlmIChzaWduaWZpY2FudERpZ2l0cyA9PT0gdm9pZCAwKSB7XG4gICAgICBzaWduaWZpY2FudERpZ2l0cyA9IDU7XG4gICAgfVxuICAgIHJldHVybiBfRnJhY3Rpb24ucHJvdG90eXBlLm11bHRpcGx5LmNhbGwodGhpcywgT05FX0hVTkRSRUQpLnRvU2lnbmlmaWNhbnQoc2lnbmlmaWNhbnREaWdpdHMsIGZvcm1hdCwgcm91bmRpbmcpO1xuICB9O1xuICBfcHJvdG8udG9GaXhlZCA9IGZ1bmN0aW9uIHRvRml4ZWQoZGVjaW1hbFBsYWNlcywgZm9ybWF0LCByb3VuZGluZykge1xuICAgIGlmIChkZWNpbWFsUGxhY2VzID09PSB2b2lkIDApIHtcbiAgICAgIGRlY2ltYWxQbGFjZXMgPSAyO1xuICAgIH1cbiAgICByZXR1cm4gX0ZyYWN0aW9uLnByb3RvdHlwZS5tdWx0aXBseS5jYWxsKHRoaXMsIE9ORV9IVU5EUkVEKS50b0ZpeGVkKGRlY2ltYWxQbGFjZXMsIGZvcm1hdCwgcm91bmRpbmcpO1xuICB9O1xuICByZXR1cm4gUGVyY2VudDtcbn0oRnJhY3Rpb24pO1xuXG52YXIgUHJpY2UgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9GcmFjdGlvbikge1xuICBfaW5oZXJpdHNMb29zZShQcmljZSwgX0ZyYWN0aW9uKTtcbiAgLyoqXHJcbiAgICogQ29uc3RydWN0IGEgcHJpY2UsIGVpdGhlciB3aXRoIHRoZSBiYXNlIGFuZCBxdW90ZSBjdXJyZW5jeSBhbW91bnQsIG9yIHRoZVxyXG4gICAqIEBwYXJhbSBhcmdzXHJcbiAgICovXG4gIGZ1bmN0aW9uIFByaWNlKCkge1xuICAgIHZhciBfdGhpcztcbiAgICB2YXIgYmFzZUN1cnJlbmN5LCBxdW90ZUN1cnJlbmN5LCBkZW5vbWluYXRvciwgbnVtZXJhdG9yO1xuICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICB9XG4gICAgaWYgKGFyZ3MubGVuZ3RoID09PSA0KSB7XG4gICAgICBiYXNlQ3VycmVuY3kgPSBhcmdzWzBdO1xuICAgICAgcXVvdGVDdXJyZW5jeSA9IGFyZ3NbMV07XG4gICAgICBkZW5vbWluYXRvciA9IGFyZ3NbMl07XG4gICAgICBudW1lcmF0b3IgPSBhcmdzWzNdO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgcmVzdWx0ID0gYXJnc1swXS5xdW90ZUFtb3VudC5kaXZpZGUoYXJnc1swXS5iYXNlQW1vdW50KTtcbiAgICAgIHZhciBfcmVmID0gW2FyZ3NbMF0uYmFzZUFtb3VudC5jdXJyZW5jeSwgYXJnc1swXS5xdW90ZUFtb3VudC5jdXJyZW5jeSwgcmVzdWx0LmRlbm9taW5hdG9yLCByZXN1bHQubnVtZXJhdG9yXTtcbiAgICAgIGJhc2VDdXJyZW5jeSA9IF9yZWZbMF07XG4gICAgICBxdW90ZUN1cnJlbmN5ID0gX3JlZlsxXTtcbiAgICAgIGRlbm9taW5hdG9yID0gX3JlZlsyXTtcbiAgICAgIG51bWVyYXRvciA9IF9yZWZbM107XG4gICAgfVxuICAgIF90aGlzID0gX0ZyYWN0aW9uLmNhbGwodGhpcywgbnVtZXJhdG9yLCBkZW5vbWluYXRvcikgfHwgdGhpcztcbiAgICBfdGhpcy5iYXNlQ3VycmVuY3kgPSBiYXNlQ3VycmVuY3k7XG4gICAgX3RoaXMucXVvdGVDdXJyZW5jeSA9IHF1b3RlQ3VycmVuY3k7XG4gICAgX3RoaXMuc2NhbGFyID0gbmV3IEZyYWN0aW9uKEpTQkkuZXhwb25lbnRpYXRlKEpTQkkuQmlnSW50KDEwKSwgSlNCSS5CaWdJbnQoYmFzZUN1cnJlbmN5LmRlY2ltYWxzKSksIEpTQkkuZXhwb25lbnRpYXRlKEpTQkkuQmlnSW50KDEwKSwgSlNCSS5CaWdJbnQocXVvdGVDdXJyZW5jeS5kZWNpbWFscykpKTtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cbiAgLyoqXHJcbiAgICogRmxpcCB0aGUgcHJpY2UsIHN3aXRjaGluZyB0aGUgYmFzZSBhbmQgcXVvdGUgY3VycmVuY3lcclxuICAgKi9cbiAgdmFyIF9wcm90byA9IFByaWNlLnByb3RvdHlwZTtcbiAgX3Byb3RvLmludmVydCA9IGZ1bmN0aW9uIGludmVydCgpIHtcbiAgICByZXR1cm4gbmV3IFByaWNlKHRoaXMucXVvdGVDdXJyZW5jeSwgdGhpcy5iYXNlQ3VycmVuY3ksIHRoaXMubnVtZXJhdG9yLCB0aGlzLmRlbm9taW5hdG9yKTtcbiAgfVxuICAvKipcclxuICAgKiBNdWx0aXBseSB0aGUgcHJpY2UgYnkgYW5vdGhlciBwcmljZSwgcmV0dXJuaW5nIGEgbmV3IHByaWNlLiBUaGUgb3RoZXIgcHJpY2UgbXVzdCBoYXZlIHRoZSBzYW1lIGJhc2UgY3VycmVuY3kgYXMgdGhpcyBwcmljZSdzIHF1b3RlIGN1cnJlbmN5XHJcbiAgICogQHBhcmFtIG90aGVyIHRoZSBvdGhlciBwcmljZVxyXG4gICAqLztcbiAgX3Byb3RvLm11bHRpcGx5ID0gZnVuY3Rpb24gbXVsdGlwbHkob3RoZXIpIHtcbiAgICAhdGhpcy5xdW90ZUN1cnJlbmN5LmVxdWFscyhvdGhlci5iYXNlQ3VycmVuY3kpID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gaW52YXJpYW50KGZhbHNlLCAnVE9LRU4nKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgdmFyIGZyYWN0aW9uID0gX0ZyYWN0aW9uLnByb3RvdHlwZS5tdWx0aXBseS5jYWxsKHRoaXMsIG90aGVyKTtcbiAgICByZXR1cm4gbmV3IFByaWNlKHRoaXMuYmFzZUN1cnJlbmN5LCBvdGhlci5xdW90ZUN1cnJlbmN5LCBmcmFjdGlvbi5kZW5vbWluYXRvciwgZnJhY3Rpb24ubnVtZXJhdG9yKTtcbiAgfVxuICAvKipcclxuICAgKiBSZXR1cm4gdGhlIGFtb3VudCBvZiBxdW90ZSBjdXJyZW5jeSBjb3JyZXNwb25kaW5nIHRvIGEgZ2l2ZW4gYW1vdW50IG9mIHRoZSBiYXNlIGN1cnJlbmN5XHJcbiAgICogQHBhcmFtIGN1cnJlbmN5QW1vdW50IHRoZSBhbW91bnQgb2YgYmFzZSBjdXJyZW5jeSB0byBxdW90ZSBhZ2FpbnN0IHRoZSBwcmljZVxyXG4gICAqLztcbiAgX3Byb3RvLnF1b3RlID0gZnVuY3Rpb24gcXVvdGUoY3VycmVuY3lBbW91bnQpIHtcbiAgICAhY3VycmVuY3lBbW91bnQuY3VycmVuY3kuZXF1YWxzKHRoaXMuYmFzZUN1cnJlbmN5KSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IGludmFyaWFudChmYWxzZSwgJ1RPS0VOJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgIHZhciByZXN1bHQgPSBfRnJhY3Rpb24ucHJvdG90eXBlLm11bHRpcGx5LmNhbGwodGhpcywgY3VycmVuY3lBbW91bnQpO1xuICAgIHJldHVybiBDdXJyZW5jeUFtb3VudC5mcm9tRnJhY3Rpb25hbEFtb3VudCh0aGlzLnF1b3RlQ3VycmVuY3ksIHJlc3VsdC5udW1lcmF0b3IsIHJlc3VsdC5kZW5vbWluYXRvcik7XG4gIH1cbiAgLyoqXHJcbiAgICogR2V0IHRoZSB2YWx1ZSBzY2FsZWQgYnkgZGVjaW1hbHMgZm9yIGZvcm1hdHRpbmdcclxuICAgKiBAcHJpdmF0ZVxyXG4gICAqLztcbiAgX3Byb3RvLnRvU2lnbmlmaWNhbnQgPSBmdW5jdGlvbiB0b1NpZ25pZmljYW50KHNpZ25pZmljYW50RGlnaXRzLCBmb3JtYXQsIHJvdW5kaW5nKSB7XG4gICAgaWYgKHNpZ25pZmljYW50RGlnaXRzID09PSB2b2lkIDApIHtcbiAgICAgIHNpZ25pZmljYW50RGlnaXRzID0gNjtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuYWRqdXN0ZWRGb3JEZWNpbWFscy50b1NpZ25pZmljYW50KHNpZ25pZmljYW50RGlnaXRzLCBmb3JtYXQsIHJvdW5kaW5nKTtcbiAgfTtcbiAgX3Byb3RvLnRvRml4ZWQgPSBmdW5jdGlvbiB0b0ZpeGVkKGRlY2ltYWxQbGFjZXMsIGZvcm1hdCwgcm91bmRpbmcpIHtcbiAgICBpZiAoZGVjaW1hbFBsYWNlcyA9PT0gdm9pZCAwKSB7XG4gICAgICBkZWNpbWFsUGxhY2VzID0gNDtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuYWRqdXN0ZWRGb3JEZWNpbWFscy50b0ZpeGVkKGRlY2ltYWxQbGFjZXMsIGZvcm1hdCwgcm91bmRpbmcpO1xuICB9O1xuICBfY3JlYXRlQ2xhc3MoUHJpY2UsIFt7XG4gICAga2V5OiBcImFkanVzdGVkRm9yRGVjaW1hbHNcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiBfRnJhY3Rpb24ucHJvdG90eXBlLm11bHRpcGx5LmNhbGwodGhpcywgdGhpcy5zY2FsYXIpO1xuICAgIH1cbiAgfV0pO1xuICByZXR1cm4gUHJpY2U7XG59KEZyYWN0aW9uKTtcblxuLyoqXHJcbiAqIEEgY3VycmVuY3kgaXMgYW55IGZ1bmdpYmxlIGZpbmFuY2lhbCBpbnN0cnVtZW50LCBpbmNsdWRpbmcgRXRoZXIsIGFsbCBFUkMyMCB0b2tlbnMsIGFuZCBvdGhlciBjaGFpbi1uYXRpdmUgY3VycmVuY2llc1xyXG4gKi9cbnZhciBCYXNlQ3VycmVuY3kgPVxuLyoqXHJcbiAqIENvbnN0cnVjdHMgYW4gaW5zdGFuY2Ugb2YgdGhlIGJhc2UgY2xhc3MgYEJhc2VDdXJyZW5jeWAuXHJcbiAqIEBwYXJhbSBjaGFpbklkIHRoZSBjaGFpbiBJRCBvbiB3aGljaCB0aGlzIGN1cnJlbmN5IHJlc2lkZXNcclxuICogQHBhcmFtIGRlY2ltYWxzIGRlY2ltYWxzIG9mIHRoZSBjdXJyZW5jeVxyXG4gKiBAcGFyYW0gc3ltYm9sIHN5bWJvbCBvZiB0aGUgY3VycmVuY3lcclxuICogQHBhcmFtIG5hbWUgb2YgdGhlIGN1cnJlbmN5XHJcbiAqL1xuZnVuY3Rpb24gQmFzZUN1cnJlbmN5KGNoYWluSWQsIGRlY2ltYWxzLCBzeW1ib2wsIG5hbWUpIHtcbiAgIU51bWJlci5pc1NhZmVJbnRlZ2VyKGNoYWluSWQpID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gaW52YXJpYW50KGZhbHNlLCAnQ0hBSU5fSUQnKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICEoZGVjaW1hbHMgPj0gMCAmJiBkZWNpbWFscyA8IDI1NSAmJiBOdW1iZXIuaXNJbnRlZ2VyKGRlY2ltYWxzKSkgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBpbnZhcmlhbnQoZmFsc2UsICdERUNJTUFMUycpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgdGhpcy5jaGFpbklkID0gY2hhaW5JZDtcbiAgdGhpcy5kZWNpbWFscyA9IGRlY2ltYWxzO1xuICB0aGlzLnN5bWJvbCA9IHN5bWJvbDtcbiAgdGhpcy5uYW1lID0gbmFtZTtcbn07XG5cbi8qKlxyXG4gKiBSZXByZXNlbnRzIHRoZSBuYXRpdmUgY3VycmVuY3kgb2YgdGhlIGNoYWluIG9uIHdoaWNoIGl0IHJlc2lkZXMsIGUuZy5cclxuICovXG52YXIgTmF0aXZlQ3VycmVuY3kgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9CYXNlQ3VycmVuY3kpIHtcbiAgX2luaGVyaXRzTG9vc2UoTmF0aXZlQ3VycmVuY3ksIF9CYXNlQ3VycmVuY3kpO1xuICBmdW5jdGlvbiBOYXRpdmVDdXJyZW5jeSgpIHtcbiAgICB2YXIgX3RoaXM7XG4gICAgX3RoaXMgPSBfQmFzZUN1cnJlbmN5LmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcbiAgICBfdGhpcy5pc05hdGl2ZSA9IHRydWU7XG4gICAgX3RoaXMuaXNUb2tlbiA9IGZhbHNlO1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuICByZXR1cm4gTmF0aXZlQ3VycmVuY3k7XG59KEJhc2VDdXJyZW5jeSk7XG5cbi8qKlxyXG4gKiBWYWxpZGF0ZXMgYW4gYWRkcmVzcyBhbmQgcmV0dXJucyB0aGUgcGFyc2VkIChjaGVja3N1bW1lZCkgdmVyc2lvbiBvZiB0aGF0IGFkZHJlc3NcclxuICogQHBhcmFtIGFkZHJlc3MgdGhlIHVuY2hlY2tzdW1tZWQgaGV4IGFkZHJlc3NcclxuICovXG5mdW5jdGlvbiB2YWxpZGF0ZUFuZFBhcnNlQWRkcmVzcyhhZGRyZXNzKSB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIGdldEFkZHJlc3MoYWRkcmVzcyk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKGFkZHJlc3MgKyBcIiBpcyBub3QgYSB2YWxpZCBhZGRyZXNzLlwiKTtcbiAgfVxufVxuLy8gQ2hlY2tzIGEgc3RyaW5nIHN0YXJ0cyB3aXRoIDB4LCBpcyA0MiBjaGFyYWN0ZXJzIGxvbmcgYW5kIGNvbnRhaW5zIG9ubHkgaGV4IGNoYXJhY3RlcnMgYWZ0ZXIgMHhcbnZhciBzdGFydHNXaXRoMHhMZW40MkhleFJlZ2V4ID0gL14weFswLTlhLWZBLUZdezQwfSQvO1xuLyoqXHJcbiAqIENoZWNrcyBpZiBhbiBhZGRyZXNzIGlzIHZhbGlkIGJ5IGNoZWNraW5nIDB4IHByZWZpeCwgbGVuZ3RoID09PSA0MiBhbmQgaGV4IGVuY29kaW5nLlxyXG4gKiBAcGFyYW0gYWRkcmVzcyB0aGUgdW5jaGVja3N1bW1lZCBoZXggYWRkcmVzc1xyXG4gKi9cbmZ1bmN0aW9uIGNoZWNrVmFsaWRBZGRyZXNzKGFkZHJlc3MpIHtcbiAgaWYgKHN0YXJ0c1dpdGgweExlbjQySGV4UmVnZXgudGVzdChhZGRyZXNzKSkge1xuICAgIHJldHVybiBhZGRyZXNzO1xuICB9XG4gIHRocm93IG5ldyBFcnJvcihhZGRyZXNzICsgXCIgaXMgbm90IGEgdmFsaWQgYWRkcmVzcy5cIik7XG59XG5cbi8qKlxyXG4gKiBSZXByZXNlbnRzIGFuIEVSQzIwIHRva2VuIHdpdGggYSB1bmlxdWUgYWRkcmVzcyBhbmQgc29tZSBtZXRhZGF0YS5cclxuICovXG52YXIgVG9rZW4gPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9CYXNlQ3VycmVuY3kpIHtcbiAgX2luaGVyaXRzTG9vc2UoVG9rZW4sIF9CYXNlQ3VycmVuY3kpO1xuICAvKipcclxuICAgKlxyXG4gICAqIEBwYXJhbSBjaGFpbklkIHtAbGluayBCYXNlQ3VycmVuY3kjY2hhaW5JZH1cclxuICAgKiBAcGFyYW0gYWRkcmVzcyBUaGUgY29udHJhY3QgYWRkcmVzcyBvbiB0aGUgY2hhaW4gb24gd2hpY2ggdGhpcyB0b2tlbiBsaXZlc1xyXG4gICAqIEBwYXJhbSBkZWNpbWFscyB7QGxpbmsgQmFzZUN1cnJlbmN5I2RlY2ltYWxzfVxyXG4gICAqIEBwYXJhbSBzeW1ib2wge0BsaW5rIEJhc2VDdXJyZW5jeSNzeW1ib2x9XHJcbiAgICogQHBhcmFtIG5hbWUge0BsaW5rIEJhc2VDdXJyZW5jeSNuYW1lfVxyXG4gICAqIEBwYXJhbSBieXBhc3NDaGVja3N1bSBJZiB0cnVlIGl0IG9ubHkgY2hlY2tzIGZvciBsZW5ndGggPT09IDQyLCBzdGFydHNXaXRoIDB4IGFuZCBjb250YWlucyBvbmx5IGhleCBjaGFyYWN0ZXJzXHJcbiAgICogQHBhcmFtIGJ1eUZlZUJwcyBCdXkgZmVlIHRheCBmb3IgRk9UIHRva2VucywgaW4gYmFzaXMgcG9pbnRzXHJcbiAgICogQHBhcmFtIHNlbGxGZWVCcHMgU2VsbCBmZWUgdGF4IGZvciBGT1QgdG9rZW5zLCBpbiBiYXNpcyBwb2ludHNcclxuICAgKi9cbiAgZnVuY3Rpb24gVG9rZW4oY2hhaW5JZCwgYWRkcmVzcywgZGVjaW1hbHMsIHN5bWJvbCwgbmFtZSwgYnlwYXNzQ2hlY2tzdW0sIGJ1eUZlZUJwcywgc2VsbEZlZUJwcykge1xuICAgIHZhciBfdGhpcztcbiAgICBfdGhpcyA9IF9CYXNlQ3VycmVuY3kuY2FsbCh0aGlzLCBjaGFpbklkLCBkZWNpbWFscywgc3ltYm9sLCBuYW1lKSB8fCB0aGlzO1xuICAgIF90aGlzLmlzTmF0aXZlID0gZmFsc2U7XG4gICAgX3RoaXMuaXNUb2tlbiA9IHRydWU7XG4gICAgaWYgKGJ5cGFzc0NoZWNrc3VtKSB7XG4gICAgICBfdGhpcy5hZGRyZXNzID0gY2hlY2tWYWxpZEFkZHJlc3MoYWRkcmVzcyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIF90aGlzLmFkZHJlc3MgPSB2YWxpZGF0ZUFuZFBhcnNlQWRkcmVzcyhhZGRyZXNzKTtcbiAgICB9XG4gICAgaWYgKGJ1eUZlZUJwcykge1xuICAgICAgIWJ1eUZlZUJwcy5ndGUoQmlnTnVtYmVyLmZyb20oMCkpID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gaW52YXJpYW50KGZhbHNlLCAnTk9OLU5FR0FUSVZFIEZPVCBGRUVTJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgIH1cbiAgICBpZiAoc2VsbEZlZUJwcykge1xuICAgICAgIXNlbGxGZWVCcHMuZ3RlKEJpZ051bWJlci5mcm9tKDApKSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IGludmFyaWFudChmYWxzZSwgJ05PTi1ORUdBVElWRSBGT1QgRkVFUycpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICB9XG4gICAgX3RoaXMuYnV5RmVlQnBzID0gYnV5RmVlQnBzO1xuICAgIF90aGlzLnNlbGxGZWVCcHMgPSBzZWxsRmVlQnBzO1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuICAvKipcclxuICAgKiBSZXR1cm5zIHRydWUgaWYgdGhlIHR3byB0b2tlbnMgYXJlIGVxdWl2YWxlbnQsIGkuZS4gaGF2ZSB0aGUgc2FtZSBjaGFpbklkIGFuZCBhZGRyZXNzLlxyXG4gICAqIEBwYXJhbSBvdGhlciBvdGhlciB0b2tlbiB0byBjb21wYXJlXHJcbiAgICovXG4gIHZhciBfcHJvdG8gPSBUb2tlbi5wcm90b3R5cGU7XG4gIF9wcm90by5lcXVhbHMgPSBmdW5jdGlvbiBlcXVhbHMob3RoZXIpIHtcbiAgICByZXR1cm4gb3RoZXIuaXNUb2tlbiAmJiB0aGlzLmNoYWluSWQgPT09IG90aGVyLmNoYWluSWQgJiYgdGhpcy5hZGRyZXNzLnRvTG93ZXJDYXNlKCkgPT09IG90aGVyLmFkZHJlc3MudG9Mb3dlckNhc2UoKTtcbiAgfVxuICAvKipcclxuICAgKiBSZXR1cm5zIHRydWUgaWYgdGhlIGFkZHJlc3Mgb2YgdGhpcyB0b2tlbiBzb3J0cyBiZWZvcmUgdGhlIGFkZHJlc3Mgb2YgdGhlIG90aGVyIHRva2VuXHJcbiAgICogQHBhcmFtIG90aGVyIG90aGVyIHRva2VuIHRvIGNvbXBhcmVcclxuICAgKiBAdGhyb3dzIGlmIHRoZSB0b2tlbnMgaGF2ZSB0aGUgc2FtZSBhZGRyZXNzXHJcbiAgICogQHRocm93cyBpZiB0aGUgdG9rZW5zIGFyZSBvbiBkaWZmZXJlbnQgY2hhaW5zXHJcbiAgICovO1xuICBfcHJvdG8uc29ydHNCZWZvcmUgPSBmdW5jdGlvbiBzb3J0c0JlZm9yZShvdGhlcikge1xuICAgICEodGhpcy5jaGFpbklkID09PSBvdGhlci5jaGFpbklkKSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IGludmFyaWFudChmYWxzZSwgJ0NIQUlOX0lEUycpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICAhKHRoaXMuYWRkcmVzcy50b0xvd2VyQ2FzZSgpICE9PSBvdGhlci5hZGRyZXNzLnRvTG93ZXJDYXNlKCkpID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gaW52YXJpYW50KGZhbHNlLCAnQUREUkVTU0VTJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgIHJldHVybiB0aGlzLmFkZHJlc3MudG9Mb3dlckNhc2UoKSA8IG90aGVyLmFkZHJlc3MudG9Mb3dlckNhc2UoKTtcbiAgfVxuICAvKipcclxuICAgKiBSZXR1cm4gdGhpcyB0b2tlbiwgd2hpY2ggZG9lcyBub3QgbmVlZCB0byBiZSB3cmFwcGVkXHJcbiAgICovO1xuICBfY3JlYXRlQ2xhc3MoVG9rZW4sIFt7XG4gICAga2V5OiBcIndyYXBwZWRcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgfV0pO1xuICByZXR1cm4gVG9rZW47XG59KEJhc2VDdXJyZW5jeSk7XG5cbi8qKlxyXG4gKiBLbm93biBXRVRIOSBpbXBsZW1lbnRhdGlvbiBhZGRyZXNzZXMsIHVzZWQgaW4gb3VyIGltcGxlbWVudGF0aW9uIG9mIEV0aGVyI3dyYXBwZWRcclxuICovXG52YXIgV0VUSDkgPSB7XG4gIDE6IC8qI19fUFVSRV9fKi9uZXcgVG9rZW4oMSwgJzB4QzAyYWFBMzliMjIzRkU4RDBBMGU1QzRGMjdlQUQ5MDgzQzc1NkNjMicsIDE4LCAnV0VUSCcsICdXcmFwcGVkIEV0aGVyJyksXG4gIDExMTU1MTExOiAvKiNfX1BVUkVfXyovbmV3IFRva2VuKDExMTU1MTExLCAnMHhmRmY5OTc2NzgyZDQ2Q0MwNTYzMEQxZjZlQkFiMThiMjMyNGQ2QjE0JywgMTgsICdXRVRIJywgJ1dyYXBwZWQgRXRoZXInKSxcbiAgMzogLyojX19QVVJFX18qL25ldyBUb2tlbigzLCAnMHhjNzc4NDE3RTA2MzE0MTEzOUZjZTAxMDk4Mjc4MDE0MEFhMGNENUFiJywgMTgsICdXRVRIJywgJ1dyYXBwZWQgRXRoZXInKSxcbiAgNDogLyojX19QVVJFX18qL25ldyBUb2tlbig0LCAnMHhjNzc4NDE3RTA2MzE0MTEzOUZjZTAxMDk4Mjc4MDE0MEFhMGNENUFiJywgMTgsICdXRVRIJywgJ1dyYXBwZWQgRXRoZXInKSxcbiAgNTogLyojX19QVVJFX18qL25ldyBUb2tlbig1LCAnMHhCNEZCRjI3MTE0M0Y0RkJmN0I5MUE1ZGVkMzE4MDVlNDJiMjIwOGQ2JywgMTgsICdXRVRIJywgJ1dyYXBwZWQgRXRoZXInKSxcbiAgNDI6IC8qI19fUFVSRV9fKi9uZXcgVG9rZW4oNDIsICcweGQwQTFFMzU5ODExMzIyZDk3OTkxRTAzZjg2M2EwQzMwQzJjRjAyOUMnLCAxOCwgJ1dFVEgnLCAnV3JhcHBlZCBFdGhlcicpLFxuICAxMDogLyojX19QVVJFX18qL25ldyBUb2tlbigxMCwgJzB4NDIwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwNicsIDE4LCAnV0VUSCcsICdXcmFwcGVkIEV0aGVyJyksXG4gIDY5OiAvKiNfX1BVUkVfXyovbmV3IFRva2VuKDY5LCAnMHg0MjAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDA2JywgMTgsICdXRVRIJywgJ1dyYXBwZWQgRXRoZXInKSxcbiAgMTExNTU0MjA6IC8qI19fUFVSRV9fKi9uZXcgVG9rZW4oMTExNTU0MjAsICcweDQyMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDYnLCAxOCwgJ1dFVEgnLCAnV3JhcHBlZCBFdGhlcicpLFxuICA0MjE2MTogLyojX19QVVJFX18qL25ldyBUb2tlbig0MjE2MSwgJzB4ODJhRjQ5NDQ3RDhhMDdlM2JkOTVCRDBkNTZmMzUyNDE1MjNmQmFiMScsIDE4LCAnV0VUSCcsICdXcmFwcGVkIEV0aGVyJyksXG4gIDQyMTYxMTogLyojX19QVVJFX18qL25ldyBUb2tlbig0MjE2MTEsICcweEI0N2U2QTVmOGIzM2IzRjE3NjAzQzgzYTA1MzVBOWRjRDdFMzI2ODEnLCAxOCwgJ1dFVEgnLCAnV3JhcHBlZCBFdGhlcicpLFxuICA0MjE2MTQ6IC8qI19fUFVSRV9fKi9uZXcgVG9rZW4oNDIxNjE0LCAnMHg5ODBCNjJEYTgzZUZmM0Q0NTc2QzY0Nzk5M2IwYzFEN2ZhZjE3YzczJywgMTgsICdXRVRIJywgJ1dyYXBwZWQgRXRoZXInKSxcbiAgODQ1MzogLyojX19QVVJFX18qL25ldyBUb2tlbig4NDUzLCAnMHg0MjAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDA2JywgMTgsICdXRVRIJywgJ1dyYXBwZWQgRXRoZXInKSxcbiAgNTY6IC8qI19fUFVSRV9fKi9uZXcgVG9rZW4oNTYsICcweGJiNENkQjlDQmQzNkIwMWJEMWNCYUVCRjJEZTA4ZDkxNzNiYzA5NWMnLCAxOCwgJ1dCTkInLCAnV3JhcHBlZCBCTkInKSxcbiAgMTM3OiAvKiNfX1BVUkVfXyovbmV3IFRva2VuKDEzNywgJzB4MGQ1MDBCMWQ4RThlRjMxRTIxQzk5ZDFEYjlBNjQ0NGQzQURmMTI3MCcsIDE4LCAnV01BVElDJywgJ1dyYXBwZWQgTUFUSUMnKSxcbiAgNDMxMTQ6IC8qI19fUFVSRV9fKi9uZXcgVG9rZW4oNDMxMTQsICcweEIzMWY2NkFBM0MxZTc4NTM2M0YwODc1QTFCNzRFMjdiODVGRDY2YzcnLCAxOCwgJ1dBVkFYJywgJ1dyYXBwZWQgQVZBWCcpLFxuICA3Nzc3Nzc3OiAvKiNfX1BVUkVfXyovbmV3IFRva2VuKDc3Nzc3NzcsICcweDQyMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDYnLCAxOCwgJ1dFVEgnLCAnV3JhcHBlZCBFdGhlcicpLFxuICA4MTQ1NzogLyojX19QVVJFX18qL25ldyBUb2tlbig4MTQ1NywgJzB4NDMwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwNCcsIDE4LCAnV0VUSCcsICdXcmFwcGVkIEV0aGVyJyksXG4gIDMyNDogLyojX19QVVJFX18qL25ldyBUb2tlbigzMjQsICcweDVBRWE1Nzc1OTU5ZkJDMjU1N0NjODc4OWJDMWJmOTBBMjM5RDlhOTEnLCAxOCwgJ1dFVEgnLCAnV3JhcHBlZCBFdGhlcicpLFxuICA0ODA6IC8qI19fUFVSRV9fKi9uZXcgVG9rZW4oNDgwLCAnMHg0MjAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDA2JywgMTgsICdXRVRIJywgJ1dyYXBwZWQgRXRoZXInKSxcbiAgMTMwMTogLyojX19QVVJFX18qL25ldyBUb2tlbigxMzAxLCAnMHg0MjAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDA2JywgMTgsICdXRVRIJywgJ1dyYXBwZWQgRXRoZXInKVxufTtcblxuLyoqXHJcbiAqIEV0aGVyIGlzIHRoZSBtYWluIHVzYWdlIG9mIGEgJ25hdGl2ZScgY3VycmVuY3ksIGkuZS4gZm9yIEV0aGVyZXVtIG1haW5uZXQgYW5kIGFsbCB0ZXN0bmV0c1xyXG4gKi9cbnZhciBFdGhlciA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX05hdGl2ZUN1cnJlbmN5KSB7XG4gIF9pbmhlcml0c0xvb3NlKEV0aGVyLCBfTmF0aXZlQ3VycmVuY3kpO1xuICBmdW5jdGlvbiBFdGhlcihjaGFpbklkKSB7XG4gICAgcmV0dXJuIF9OYXRpdmVDdXJyZW5jeS5jYWxsKHRoaXMsIGNoYWluSWQsIDE4LCAnRVRIJywgJ0V0aGVyJykgfHwgdGhpcztcbiAgfVxuICBFdGhlci5vbkNoYWluID0gZnVuY3Rpb24gb25DaGFpbihjaGFpbklkKSB7XG4gICAgdmFyIF90aGlzJF9ldGhlckNhY2hlJGNoYTtcbiAgICByZXR1cm4gKF90aGlzJF9ldGhlckNhY2hlJGNoYSA9IHRoaXMuX2V0aGVyQ2FjaGVbY2hhaW5JZF0pICE9IG51bGwgPyBfdGhpcyRfZXRoZXJDYWNoZSRjaGEgOiB0aGlzLl9ldGhlckNhY2hlW2NoYWluSWRdID0gbmV3IEV0aGVyKGNoYWluSWQpO1xuICB9O1xuICB2YXIgX3Byb3RvID0gRXRoZXIucHJvdG90eXBlO1xuICBfcHJvdG8uZXF1YWxzID0gZnVuY3Rpb24gZXF1YWxzKG90aGVyKSB7XG4gICAgcmV0dXJuIG90aGVyLmlzTmF0aXZlICYmIG90aGVyLmNoYWluSWQgPT09IHRoaXMuY2hhaW5JZDtcbiAgfTtcbiAgX2NyZWF0ZUNsYXNzKEV0aGVyLCBbe1xuICAgIGtleTogXCJ3cmFwcGVkXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICB2YXIgd2V0aDkgPSBXRVRIOVt0aGlzLmNoYWluSWRdO1xuICAgICAgISEhd2V0aDkgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBpbnZhcmlhbnQoZmFsc2UsICdXUkFQUEVEJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgICAgcmV0dXJuIHdldGg5O1xuICAgIH1cbiAgfV0pO1xuICByZXR1cm4gRXRoZXI7XG59KE5hdGl2ZUN1cnJlbmN5KTtcbkV0aGVyLl9ldGhlckNhY2hlID0ge307XG5cbi8qKlxyXG4gKiBSZXR1cm5zIHRoZSBwZXJjZW50IGRpZmZlcmVuY2UgYmV0d2VlbiB0aGUgbWlkIHByaWNlIGFuZCB0aGUgZXhlY3V0aW9uIHByaWNlLCBpLmUuIHByaWNlIGltcGFjdC5cclxuICogQHBhcmFtIG1pZFByaWNlIG1pZCBwcmljZSBiZWZvcmUgdGhlIHRyYWRlXHJcbiAqIEBwYXJhbSBpbnB1dEFtb3VudCB0aGUgaW5wdXQgYW1vdW50IG9mIHRoZSB0cmFkZVxyXG4gKiBAcGFyYW0gb3V0cHV0QW1vdW50IHRoZSBvdXRwdXQgYW1vdW50IG9mIHRoZSB0cmFkZVxyXG4gKi9cbmZ1bmN0aW9uIGNvbXB1dGVQcmljZUltcGFjdChtaWRQcmljZSwgaW5wdXRBbW91bnQsIG91dHB1dEFtb3VudCkge1xuICB2YXIgcXVvdGVkT3V0cHV0QW1vdW50ID0gbWlkUHJpY2UucXVvdGUoaW5wdXRBbW91bnQpO1xuICAvLyBjYWxjdWxhdGUgcHJpY2UgaW1wYWN0IDo9IChleGFjdFF1b3RlIC0gb3V0cHV0QW1vdW50KSAvIGV4YWN0UXVvdGVcbiAgdmFyIHByaWNlSW1wYWN0ID0gcXVvdGVkT3V0cHV0QW1vdW50LnN1YnRyYWN0KG91dHB1dEFtb3VudCkuZGl2aWRlKHF1b3RlZE91dHB1dEFtb3VudCk7XG4gIHJldHVybiBuZXcgUGVyY2VudChwcmljZUltcGFjdC5udW1lcmF0b3IsIHByaWNlSW1wYWN0LmRlbm9taW5hdG9yKTtcbn1cblxuZnVuY3Rpb24gY29tcHV0ZVprc3luY0NyZWF0ZTJBZGRyZXNzKHNlbmRlciwgYnl0ZWNvZGVIYXNoLCBzYWx0LCBpbnB1dCkge1xuICBpZiAoaW5wdXQgPT09IHZvaWQgMCkge1xuICAgIGlucHV0ID0gJzB4JztcbiAgfVxuICB2YXIgcHJlZml4ID0ga2VjY2FrMjU2KHRvVXRmOEJ5dGVzKCd6a3N5bmNDcmVhdGUyJykpO1xuICB2YXIgaW5wdXRIYXNoID0ga2VjY2FrMjU2KGlucHV0KTtcbiAgdmFyIGFkZHJlc3NCeXRlcyA9IGtlY2NhazI1Nihjb25jYXQoW3ByZWZpeCwgaGV4WmVyb1BhZChzZW5kZXIsIDMyKSwgc2FsdCwgYnl0ZWNvZGVIYXNoLCBpbnB1dEhhc2hdKSkuc2xpY2UoMjYpO1xuICByZXR1cm4gZ2V0QWRkcmVzcyhhZGRyZXNzQnl0ZXMpO1xufVxuXG4vLyBnaXZlbiBhbiBhcnJheSBvZiBpdGVtcyBzb3J0ZWQgYnkgYGNvbXBhcmF0b3JgLCBpbnNlcnQgYW4gaXRlbSBpbnRvIGl0cyBzb3J0IGluZGV4IGFuZCBjb25zdHJhaW4gdGhlIHNpemUgdG9cbi8vIGBtYXhTaXplYCBieSByZW1vdmluZyB0aGUgbGFzdCBpdGVtXG5mdW5jdGlvbiBzb3J0ZWRJbnNlcnQoaXRlbXMsIGFkZCwgbWF4U2l6ZSwgY29tcGFyYXRvcikge1xuICAhKG1heFNpemUgPiAwKSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IGludmFyaWFudChmYWxzZSwgJ01BWF9TSVpFX1pFUk8nKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gIC8vIHRoaXMgaXMgYW4gaW52YXJpYW50IGJlY2F1c2UgdGhlIGludGVyZmFjZSBjYW5ub3QgcmV0dXJuIG11bHRpcGxlIHJlbW92ZWQgaXRlbXMgaWYgaXRlbXMubGVuZ3RoIGV4Y2VlZHMgbWF4U2l6ZVxuICAhKGl0ZW1zLmxlbmd0aCA8PSBtYXhTaXplKSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IGludmFyaWFudChmYWxzZSwgJ0lURU1TX1NJWkUnKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gIC8vIHNob3J0IGNpcmN1aXQgZmlyc3QgaXRlbSBhZGRcbiAgaWYgKGl0ZW1zLmxlbmd0aCA9PT0gMCkge1xuICAgIGl0ZW1zLnB1c2goYWRkKTtcbiAgICByZXR1cm4gbnVsbDtcbiAgfSBlbHNlIHtcbiAgICB2YXIgaXNGdWxsID0gaXRlbXMubGVuZ3RoID09PSBtYXhTaXplO1xuICAgIC8vIHNob3J0IGNpcmN1aXQgaWYgZnVsbCBhbmQgdGhlIGFkZGl0aW9uYWwgaXRlbSBkb2VzIG5vdCBjb21lIGJlZm9yZSB0aGUgbGFzdCBpdGVtXG4gICAgaWYgKGlzRnVsbCAmJiBjb21wYXJhdG9yKGl0ZW1zW2l0ZW1zLmxlbmd0aCAtIDFdLCBhZGQpIDw9IDApIHtcbiAgICAgIHJldHVybiBhZGQ7XG4gICAgfVxuICAgIHZhciBsbyA9IDAsXG4gICAgICBoaSA9IGl0ZW1zLmxlbmd0aDtcbiAgICB3aGlsZSAobG8gPCBoaSkge1xuICAgICAgdmFyIG1pZCA9IGxvICsgaGkgPj4+IDE7XG4gICAgICBpZiAoY29tcGFyYXRvcihpdGVtc1ttaWRdLCBhZGQpIDw9IDApIHtcbiAgICAgICAgbG8gPSBtaWQgKyAxO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaGkgPSBtaWQ7XG4gICAgICB9XG4gICAgfVxuICAgIGl0ZW1zLnNwbGljZShsbywgMCwgYWRkKTtcbiAgICByZXR1cm4gaXNGdWxsID8gaXRlbXMucG9wKCkgOiBudWxsO1xuICB9XG59XG5cbnZhciBNQVhfU0FGRV9JTlRFR0VSID0gLyojX19QVVJFX18qL0pTQkkuQmlnSW50KE51bWJlci5NQVhfU0FGRV9JTlRFR0VSKTtcbnZhciBaRVJPID0gLyojX19QVVJFX18qL0pTQkkuQmlnSW50KDApO1xudmFyIE9ORSA9IC8qI19fUFVSRV9fKi9KU0JJLkJpZ0ludCgxKTtcbnZhciBUV08gPSAvKiNfX1BVUkVfXyovSlNCSS5CaWdJbnQoMik7XG4vKipcclxuICogQ29tcHV0ZXMgZmxvb3Ioc3FydCh2YWx1ZSkpXHJcbiAqIEBwYXJhbSB2YWx1ZSB0aGUgdmFsdWUgZm9yIHdoaWNoIHRvIGNvbXB1dGUgdGhlIHNxdWFyZSByb290LCByb3VuZGVkIGRvd25cclxuICovXG5mdW5jdGlvbiBzcXJ0KHZhbHVlKSB7XG4gICFKU0JJLmdyZWF0ZXJUaGFuT3JFcXVhbCh2YWx1ZSwgWkVSTykgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBpbnZhcmlhbnQoZmFsc2UsICdORUdBVElWRScpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgLy8gcmVseSBvbiBidWlsdCBpbiBzcXJ0IGlmIHBvc3NpYmxlXG4gIGlmIChKU0JJLmxlc3NUaGFuKHZhbHVlLCBNQVhfU0FGRV9JTlRFR0VSKSkge1xuICAgIHJldHVybiBKU0JJLkJpZ0ludChNYXRoLmZsb29yKE1hdGguc3FydChKU0JJLnRvTnVtYmVyKHZhbHVlKSkpKTtcbiAgfVxuICB2YXIgejtcbiAgdmFyIHg7XG4gIHogPSB2YWx1ZTtcbiAgeCA9IEpTQkkuYWRkKEpTQkkuZGl2aWRlKHZhbHVlLCBUV08pLCBPTkUpO1xuICB3aGlsZSAoSlNCSS5sZXNzVGhhbih4LCB6KSkge1xuICAgIHogPSB4O1xuICAgIHggPSBKU0JJLmRpdmlkZShKU0JJLmFkZChKU0JJLmRpdmlkZSh2YWx1ZSwgeCksIHgpLCBUV08pO1xuICB9XG4gIHJldHVybiB6O1xufVxuXG5leHBvcnQgeyBBUkdFTlRfV0FMTEVUX0RFVEVDVE9SX0FERFJFU1MsIENIQUlOX1RPX0FERFJFU1NFU19NQVAsIENoYWluSWQsIEN1cnJlbmN5QW1vdW50LCBFTlNfUkVHSVNUUkFSX0FERFJFU1NFUywgRXRoZXIsIEZyYWN0aW9uLCBHT1ZFUk5BTkNFX0FMUEhBX1YwX0FERFJFU1NFUywgR09WRVJOQU5DRV9BTFBIQV9WMV9BRERSRVNTRVMsIEdPVkVSTkFOQ0VfQlJBVk9fQUREUkVTU0VTLCBNRVJLTEVfRElTVFJJQlVUT1JfQUREUkVTUywgTUlYRURfUk9VVEVfUVVPVEVSX1YxX0FERFJFU1NFUywgTVVMVElDQUxMX0FERFJFU1NFUywgTWF4VWludDI1NiwgTk9ORlVOR0lCTEVfUE9TSVRJT05fTUFOQUdFUl9BRERSRVNTRVMsIE5hdGl2ZUN1cnJlbmN5LCBOYXRpdmVDdXJyZW5jeU5hbWUsIFBlcmNlbnQsIFByaWNlLCBRVU9URVJfQUREUkVTU0VTLCBSb3VuZGluZywgU09DS1NfQ09OVFJPTExFUl9BRERSRVNTRVMsIFNVUFBPUlRFRF9DSEFJTlMsIFNXQVBfUk9VVEVSXzAyX0FERFJFU1NFUywgVElDS19MRU5TX0FERFJFU1NFUywgVElNRUxPQ0tfQUREUkVTU0VTLCBUb2tlbiwgVHJhZGVUeXBlLCBVTklTV0FQX05GVF9BSVJEUk9QX0NMQUlNX0FERFJFU1MsIFVOSV9BRERSRVNTRVMsIFYyX0ZBQ1RPUllfQUREUkVTUywgVjJfRkFDVE9SWV9BRERSRVNTRVMsIFYyX1JPVVRFUl9BRERSRVNTLCBWMl9ST1VURVJfQUREUkVTU0VTLCBWM19DT1JFX0ZBQ1RPUllfQUREUkVTU0VTLCBWM19NSUdSQVRPUl9BRERSRVNTRVMsIFdFVEg5LCBjb21wdXRlUHJpY2VJbXBhY3QsIGNvbXB1dGVaa3N5bmNDcmVhdGUyQWRkcmVzcywgc29ydGVkSW5zZXJ0LCBzcXJ0LCB2YWxpZGF0ZUFuZFBhcnNlQWRkcmVzcyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2RrLWNvcmUuZXNtLmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@uniswap/v2-sdk/node_modules/@uniswap/sdk-core/dist/sdk-core.esm.js\n");

/***/ })

};
;